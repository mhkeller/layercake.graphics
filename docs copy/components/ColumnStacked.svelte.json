{"main":{"slug":"ColumnStacked.svelte","contents":"<script>\n  /**\n    Generates an SVG column chart. It uses the z-scale for color assignments and aassumes both `xScale` and `zScale` are ordinal scales.  It assumes your data is in a [D3 stack format](https://github.com/d3/d3-shape#stack\n  */\n  import { getContext } from 'svelte';\n\n  const { data, xGet, yGet, zGet, xScale } = getContext('LayerCake');\n\n  $: columnHeight = d => {\n    const yVals = $yGet(d);\n    return yVals[0] - yVals[1];\n  };\n</script>\n\n<g class=\"column-group\">\n  {#each $data as series, i}\n    {#each series as d}\n      <rect\n        class='group-rect'\n        data-id=\"{i}\"\n        x=\"{$xGet(d)}\"\n        y=\"{$yGet(d)[1]}\"\n        width={$xScale.bandwidth()}\n        height=\"{columnHeight(d)}\"\n        fill={$zGet(series)}\n      ></rect>\n    {/each}\n  {/each}\n</g>"},"dek":"","usedIn":[{"group":"Regular","matches":["/example/ColumnStacked"]},{"group":"SSR","matches":["/example-ssr/ColumnStacked"]}],"jsdocParsed":{"description":"Generates an SVG column chart. It uses the z-scale for color assignments and aassumes both `xScale` and `zScale` are ordinal scales.  It assumes your data is in a [D3 stack format](https://github.com/d3/d3-shape#stack","tags":[]}}