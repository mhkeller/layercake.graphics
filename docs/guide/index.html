<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#ff3e00 name=theme-color> <base href=/ > <link href=global.css rel=stylesheet> <link href=manifest.json rel=manifest> <link href=layercake-logo-100.png rel=icon type=image/png> <meta content=https://layercake.graphics property=og:site_name> <meta content=article property=og:type> <meta content=summary_large_image name=twitter:card> <meta content=https://layercake.graphics/layercake-logo-1200.png property=og:image> <meta content="A framework for mostly-reusable graphics with svelte" property=og:description> <meta content="A framework for mostly-reusable graphics with svelte" name=description> <meta content="layercake, graphics, svelte, graphics framework, svelte graphics framework, data viz, data visualization, reusable, mostly-reusable" name=keywords> <meta content=https://layercake.graphics property=og:url> <link href=https://layercake.graphics/favicon.png rel="shortcut icon" type=image/png> <meta content=https://layercake.graphics name=twitter:site> <meta content=https://layercake.graphics/layercake-logo-1200.png name=twitter:image> <link href=client/main.1057088932.css rel=stylesheet><link href=client/index.13677a52.css rel=stylesheet><link href=client/client.fe58ea4d.css rel=stylesheet> <noscript id=sapper-head-start></noscript><title>LayerCake - Guide</title><meta content="Layer Cake — Guide" name=og:title><meta content="Layer Cake — Guide" name=twitter:title><link href=hljs.css rel=stylesheet><noscript id=sapper-head-end></noscript> </head> <body> <div id=sapper> <div class="svelte-1spf7l5 closed mousecatcher"></div> <div class="svelte-1spf7l5 container"><span class="svelte-1spf7l5 menu-closed menu-link">Menu</span> <a href=. class="svelte-1spf7l5 logo" rel=prefetch>Layer Cake</a></div> <ul class="svelte-1spf7l5 dropdown"><li class=svelte-1spf7l5> <select class=svelte-1spf7l5 value=/guide><option value="">All<option value="" class="svelte-1spf7l5 header" disabled><option value=Client-side class="svelte-1spf7l5 header" disabled>Client-side<option value=example/Bar>Bar<option value=example/Beeswarm>Beeswarm<option value=example/BeeswarmForce>Beeswarm, force layout<option value=example/Brush>Brush<option value=example/Calendar>Calendar<option value=example/CirclePack>Circle pack<option value=example/CirclePackForce>Circle pack, force layout<option value=example/ClevelandDotPlot>Cleveland dot plot<option value=example/Column>Column annotated<option value=example/Histogram>Histogram<option value=example/Line>Line + area<option value=example/MapSvg>Map<option value=example/MapLayered>Multilayer map<option value=example/MultiLine>Multiline<option value=example/CirclePackNested>Nested circle pack<option value=example/Radar>Radar chart<option value=example/Sankey>Sankey<option value=example/Scatter>Scatter<option value=example/SmallMultiples>Small multiples<option value=example/AreaStacked>Stacked area<option value=example/BarStacked>Stacked bar<option value=example/ColumnStacked>Stacked column<option value=example/SyncedBrush>Synced brush<option value=example/Timeplot>Time of day plot<option value=example/ScatterWebgl>WebGL Scatter<option value="" class="svelte-1spf7l5 header" disabled><option value=Server-side class="svelte-1spf7l5 header" disabled>Server-side<option value=example-ssr/Bar>Bar<option value=example-ssr/Brush>Brush<option value=example-ssr/Calendar>Calendar<option value=example-ssr/ClevelandDotPlot>Cleveland dot plot<option value=example-ssr/Column>Column annotated<option value=example-ssr/Histogram>Histogram<option value=example-ssr/Line>Line + area<option value=example-ssr/MapSvg>Map<option value=example-ssr/MapLayered>Multilayer map<option value=example-ssr/MultiLine>Multiline<option value=example-ssr/Scatter>Scatter<option value=example-ssr/SmallMultiples>Small multiples<option value=example-ssr/AreaStacked>Stacked area<option value=example-ssr/BarStacked>Stacked bar<option value=example-ssr/ColumnStacked>Stacked column<option value=example-ssr/SyncedBrush>Synced brush<option value=example-ssr/Timeplot>Time of day plot<option value=example-ssr/ScatterWebgl>WebGL Scatter</select></ul> <nav class="svelte-1spf7l5 closed"><ul class="svelte-1spf7l5 primary"><li class=svelte-1spf7l5><a href=components class=svelte-1spf7l5 rel=prefetch>Component gallery</a></li> <li class=svelte-1spf7l5><a href=guide class="svelte-1spf7l5 active" rel=prefetch>Guide</a></li> <li class=svelte-1spf7l5><a href=https://github.com/mhkeller/layercake class=svelte-1spf7l5>GitHub</a></ul> <div class="svelte-1spf7l5 secondary"><ul class="svelte-7hddv0 guide-toc"><li class=svelte-7hddv0><a href=/guide#introduction class="svelte-7hddv0 section">Introduction</a> <a href=/guide#what-is-layer-cake class="svelte-7hddv0 subsection">What is Layer Cake?</a><a href=/guide#getting-started class="svelte-7hddv0 subsection">Getting started</a><a href=/guide#using-layout-components class="svelte-7hddv0 subsection">Using layout components</a><a href=/guide#layer-components class="svelte-7hddv0 subsection">Layer components</a><a href=/guide#data-less-cakes class="svelte-7hddv0 subsection">Data-less cakes</a><a href=/guide#server-side-rendering class="svelte-7hddv0 subsection">Server-side rendering</a> <li class=svelte-7hddv0><a href=/guide#troubleshooting class="svelte-7hddv0 section">Troubleshooting</a> <a href=/guide#the-chart-is-blank class="svelte-7hddv0 subsection">The chart is blank</a><a href=/guide#the-chart-is-a-very-small-square class="svelte-7hddv0 subsection">The chart is a very small square</a><a href=/guide#the-library-isn39t-building-properly class="svelte-7hddv0 subsection">The library isn't building properly</a> <li class=svelte-7hddv0><a href=/guide#layercake-props class="svelte-7hddv0 section">LayerCake props</a> <a href=/guide#data class="svelte-7hddv0 subsection">data</a><a href=/guide#x class="svelte-7hddv0 subsection">x</a><a href=/guide#y class="svelte-7hddv0 subsection">y</a><a href=/guide#z class="svelte-7hddv0 subsection">z</a><a href=/guide#r class="svelte-7hddv0 subsection">r</a><a href=/guide#padding class="svelte-7hddv0 subsection">padding</a><a href=/guide#xscale class="svelte-7hddv0 subsection">xScale</a><a href=/guide#yscale class="svelte-7hddv0 subsection">yScale</a><a href=/guide#zscale class="svelte-7hddv0 subsection">zScale</a><a href=/guide#rscale class="svelte-7hddv0 subsection">rScale</a><a href=/guide#xdomain class="svelte-7hddv0 subsection">xDomain</a><a href=/guide#ydomain class="svelte-7hddv0 subsection">yDomain</a><a href=/guide#zdomain class="svelte-7hddv0 subsection">zDomain</a><a href=/guide#rdomain class="svelte-7hddv0 subsection">rDomain</a><a href=/guide#xreverse class="svelte-7hddv0 subsection">xReverse</a><a href=/guide#yreverse class="svelte-7hddv0 subsection">yReverse</a><a href=/guide#zreverse class="svelte-7hddv0 subsection">zReverse</a><a href=/guide#rreverse class="svelte-7hddv0 subsection">rReverse</a><a href=/guide#xrange class="svelte-7hddv0 subsection">xRange</a><a href=/guide#yrange class="svelte-7hddv0 subsection">yRange</a><a href=/guide#zrange class="svelte-7hddv0 subsection">zRange</a><a href=/guide#rrange class="svelte-7hddv0 subsection">rRange</a><a href=/guide#xpadding class="svelte-7hddv0 subsection">xPadding</a><a href=/guide#ypadding class="svelte-7hddv0 subsection">yPadding</a><a href=/guide#zpadding class="svelte-7hddv0 subsection">zPadding</a><a href=/guide#rpadding class="svelte-7hddv0 subsection">rPadding</a><a href=/guide#xnice class="svelte-7hddv0 subsection">xNice</a><a href=/guide#ynice class="svelte-7hddv0 subsection">yNice</a><a href=/guide#znice class="svelte-7hddv0 subsection">zNice</a><a href=/guide#rnice class="svelte-7hddv0 subsection">rNice</a><a href=/guide#extents class="svelte-7hddv0 subsection">extents</a><a href=/guide#flatdata class="svelte-7hddv0 subsection">flatData</a><a href=/guide#ssr class="svelte-7hddv0 subsection">ssr</a><a href=/guide#percentrange class="svelte-7hddv0 subsection">percentRange</a><a href=/guide#position class="svelte-7hddv0 subsection">position</a><a href=/guide#custom class="svelte-7hddv0 subsection">custom</a> <li class=svelte-7hddv0><a href=/guide#computed-context-values class="svelte-7hddv0 section">Computed context values</a> <a href=/guide#activegetters class="svelte-7hddv0 subsection">activeGetters</a><a href=/guide#aspectratio class="svelte-7hddv0 subsection">aspectRatio</a><a href=/guide#box class="svelte-7hddv0 subsection">box</a><a href=/guide#config class="svelte-7hddv0 subsection">config</a><a href=/guide#containerwidth class="svelte-7hddv0 subsection">containerWidth</a><a href=/guide#containerheight class="svelte-7hddv0 subsection">containerHeight</a><a href=/guide#extents-1 class="svelte-7hddv0 subsection">extents</a><a href=/guide#width class="svelte-7hddv0 subsection">width</a><a href=/guide#height class="svelte-7hddv0 subsection">height</a><a href=/guide#x-1 class="svelte-7hddv0 subsection">x</a><a href=/guide#y-1 class="svelte-7hddv0 subsection">y</a><a href=/guide#z-1 class="svelte-7hddv0 subsection">z</a><a href=/guide#r-1 class="svelte-7hddv0 subsection">r</a><a href=/guide#xdomain-1 class="svelte-7hddv0 subsection">xDomain</a><a href=/guide#ydomain-1 class="svelte-7hddv0 subsection">yDomain</a><a href=/guide#zdomain-1 class="svelte-7hddv0 subsection">zDomain</a><a href=/guide#rdomain-1 class="svelte-7hddv0 subsection">rDomain</a><a href=/guide#xrange-1 class="svelte-7hddv0 subsection">xRange</a><a href=/guide#yrange-1 class="svelte-7hddv0 subsection">yRange</a><a href=/guide#zrange-1 class="svelte-7hddv0 subsection">zRange</a><a href=/guide#rrange-1 class="svelte-7hddv0 subsection">rRange</a><a href=/guide#xget class="svelte-7hddv0 subsection">xGet(...)</a><a href=/guide#yget class="svelte-7hddv0 subsection">yGet(...)</a><a href=/guide#zget class="svelte-7hddv0 subsection">zGet(...)</a><a href=/guide#rget class="svelte-7hddv0 subsection">rGet(...)</a><a href=/guide#xscale-1 class="svelte-7hddv0 subsection">xScale(...)</a><a href=/guide#yscale-1 class="svelte-7hddv0 subsection">yScale(...)</a><a href=/guide#zscale-1 class="svelte-7hddv0 subsection">zScale(...)</a><a href=/guide#rscale-1 class="svelte-7hddv0 subsection">rScale(...)</a> <li class=svelte-7hddv0><a href=/guide#layout-components class="svelte-7hddv0 section">Layout components</a> <a href=/guide#html class="svelte-7hddv0 subsection">Html</a><a href=/guide#svg class="svelte-7hddv0 subsection">Svg</a><a href=/guide#scaledsvg class="svelte-7hddv0 subsection">ScaledSvg</a><a href=/guide#canvas class="svelte-7hddv0 subsection">Canvas</a><a href=/guide#webgl class="svelte-7hddv0 subsection">WebGL</a> <li class=svelte-7hddv0><a href=/guide#layout-component-props class="svelte-7hddv0 section">Layout component props</a> <a href=/guide#zindex class="svelte-7hddv0 subsection">zIndex</a><a href=/guide#pointerevents class="svelte-7hddv0 subsection">pointerEvents</a><a href=/guide#viewbox class="svelte-7hddv0 subsection">viewBox</a><a href=/guide#fixedaspectratio class="svelte-7hddv0 subsection">fixedAspectRatio</a><a href=/guide#contextattributes class="svelte-7hddv0 subsection">contextAttributes</a> <li class=svelte-7hddv0><a href=/guide#helper-functions class="svelte-7hddv0 section">Helper functions</a> <a href=/guide#flatten class="svelte-7hddv0 subsection">flatten(...)</a><a href=/guide#scalecanvas class="svelte-7hddv0 subsection">scaleCanvas(...)</a><a href=/guide#calcextents class="svelte-7hddv0 subsection">calcExtents(...)</a><a href=/guide#uniques class="svelte-7hddv0 subsection">uniques(...)</a><a href=/guide#raise class="svelte-7hddv0 subsection">raise(...)</a> </ul></div></nav> <main> <sidebar class=svelte-1hckucs><ul class="svelte-7hddv0 guide-toc"><li class=svelte-7hddv0><a href=/guide#introduction class="svelte-7hddv0 section">Introduction</a> <a href=/guide#what-is-layer-cake class="svelte-7hddv0 subsection">What is Layer Cake?</a><a href=/guide#getting-started class="svelte-7hddv0 subsection">Getting started</a><a href=/guide#using-layout-components class="svelte-7hddv0 subsection">Using layout components</a><a href=/guide#layer-components class="svelte-7hddv0 subsection">Layer components</a><a href=/guide#data-less-cakes class="svelte-7hddv0 subsection">Data-less cakes</a><a href=/guide#server-side-rendering class="svelte-7hddv0 subsection">Server-side rendering</a> <li class=svelte-7hddv0><a href=/guide#troubleshooting class="svelte-7hddv0 section">Troubleshooting</a> <a href=/guide#the-chart-is-blank class="svelte-7hddv0 subsection">The chart is blank</a><a href=/guide#the-chart-is-a-very-small-square class="svelte-7hddv0 subsection">The chart is a very small square</a><a href=/guide#the-library-isn39t-building-properly class="svelte-7hddv0 subsection">The library isn't building properly</a> <li class=svelte-7hddv0><a href=/guide#layercake-props class="svelte-7hddv0 section">LayerCake props</a> <a href=/guide#data class="svelte-7hddv0 subsection">data</a><a href=/guide#x class="svelte-7hddv0 subsection">x</a><a href=/guide#y class="svelte-7hddv0 subsection">y</a><a href=/guide#z class="svelte-7hddv0 subsection">z</a><a href=/guide#r class="svelte-7hddv0 subsection">r</a><a href=/guide#padding class="svelte-7hddv0 subsection">padding</a><a href=/guide#xscale class="svelte-7hddv0 subsection">xScale</a><a href=/guide#yscale class="svelte-7hddv0 subsection">yScale</a><a href=/guide#zscale class="svelte-7hddv0 subsection">zScale</a><a href=/guide#rscale class="svelte-7hddv0 subsection">rScale</a><a href=/guide#xdomain class="svelte-7hddv0 subsection">xDomain</a><a href=/guide#ydomain class="svelte-7hddv0 subsection">yDomain</a><a href=/guide#zdomain class="svelte-7hddv0 subsection">zDomain</a><a href=/guide#rdomain class="svelte-7hddv0 subsection">rDomain</a><a href=/guide#xreverse class="svelte-7hddv0 subsection">xReverse</a><a href=/guide#yreverse class="svelte-7hddv0 subsection">yReverse</a><a href=/guide#zreverse class="svelte-7hddv0 subsection">zReverse</a><a href=/guide#rreverse class="svelte-7hddv0 subsection">rReverse</a><a href=/guide#xrange class="svelte-7hddv0 subsection">xRange</a><a href=/guide#yrange class="svelte-7hddv0 subsection">yRange</a><a href=/guide#zrange class="svelte-7hddv0 subsection">zRange</a><a href=/guide#rrange class="svelte-7hddv0 subsection">rRange</a><a href=/guide#xpadding class="svelte-7hddv0 subsection">xPadding</a><a href=/guide#ypadding class="svelte-7hddv0 subsection">yPadding</a><a href=/guide#zpadding class="svelte-7hddv0 subsection">zPadding</a><a href=/guide#rpadding class="svelte-7hddv0 subsection">rPadding</a><a href=/guide#xnice class="svelte-7hddv0 subsection">xNice</a><a href=/guide#ynice class="svelte-7hddv0 subsection">yNice</a><a href=/guide#znice class="svelte-7hddv0 subsection">zNice</a><a href=/guide#rnice class="svelte-7hddv0 subsection">rNice</a><a href=/guide#extents class="svelte-7hddv0 subsection">extents</a><a href=/guide#flatdata class="svelte-7hddv0 subsection">flatData</a><a href=/guide#ssr class="svelte-7hddv0 subsection">ssr</a><a href=/guide#percentrange class="svelte-7hddv0 subsection">percentRange</a><a href=/guide#position class="svelte-7hddv0 subsection">position</a><a href=/guide#custom class="svelte-7hddv0 subsection">custom</a> <li class=svelte-7hddv0><a href=/guide#computed-context-values class="svelte-7hddv0 section">Computed context values</a> <a href=/guide#activegetters class="svelte-7hddv0 subsection">activeGetters</a><a href=/guide#aspectratio class="svelte-7hddv0 subsection">aspectRatio</a><a href=/guide#box class="svelte-7hddv0 subsection">box</a><a href=/guide#config class="svelte-7hddv0 subsection">config</a><a href=/guide#containerwidth class="svelte-7hddv0 subsection">containerWidth</a><a href=/guide#containerheight class="svelte-7hddv0 subsection">containerHeight</a><a href=/guide#extents-1 class="svelte-7hddv0 subsection">extents</a><a href=/guide#width class="svelte-7hddv0 subsection">width</a><a href=/guide#height class="svelte-7hddv0 subsection">height</a><a href=/guide#x-1 class="svelte-7hddv0 subsection">x</a><a href=/guide#y-1 class="svelte-7hddv0 subsection">y</a><a href=/guide#z-1 class="svelte-7hddv0 subsection">z</a><a href=/guide#r-1 class="svelte-7hddv0 subsection">r</a><a href=/guide#xdomain-1 class="svelte-7hddv0 subsection">xDomain</a><a href=/guide#ydomain-1 class="svelte-7hddv0 subsection">yDomain</a><a href=/guide#zdomain-1 class="svelte-7hddv0 subsection">zDomain</a><a href=/guide#rdomain-1 class="svelte-7hddv0 subsection">rDomain</a><a href=/guide#xrange-1 class="svelte-7hddv0 subsection">xRange</a><a href=/guide#yrange-1 class="svelte-7hddv0 subsection">yRange</a><a href=/guide#zrange-1 class="svelte-7hddv0 subsection">zRange</a><a href=/guide#rrange-1 class="svelte-7hddv0 subsection">rRange</a><a href=/guide#xget class="svelte-7hddv0 subsection">xGet(...)</a><a href=/guide#yget class="svelte-7hddv0 subsection">yGet(...)</a><a href=/guide#zget class="svelte-7hddv0 subsection">zGet(...)</a><a href=/guide#rget class="svelte-7hddv0 subsection">rGet(...)</a><a href=/guide#xscale-1 class="svelte-7hddv0 subsection">xScale(...)</a><a href=/guide#yscale-1 class="svelte-7hddv0 subsection">yScale(...)</a><a href=/guide#zscale-1 class="svelte-7hddv0 subsection">zScale(...)</a><a href=/guide#rscale-1 class="svelte-7hddv0 subsection">rScale(...)</a> <li class=svelte-7hddv0><a href=/guide#layout-components class="svelte-7hddv0 section">Layout components</a> <a href=/guide#html class="svelte-7hddv0 subsection">Html</a><a href=/guide#svg class="svelte-7hddv0 subsection">Svg</a><a href=/guide#scaledsvg class="svelte-7hddv0 subsection">ScaledSvg</a><a href=/guide#canvas class="svelte-7hddv0 subsection">Canvas</a><a href=/guide#webgl class="svelte-7hddv0 subsection">WebGL</a> <li class=svelte-7hddv0><a href=/guide#layout-component-props class="svelte-7hddv0 section">Layout component props</a> <a href=/guide#zindex class="svelte-7hddv0 subsection">zIndex</a><a href=/guide#pointerevents class="svelte-7hddv0 subsection">pointerEvents</a><a href=/guide#viewbox class="svelte-7hddv0 subsection">viewBox</a><a href=/guide#fixedaspectratio class="svelte-7hddv0 subsection">fixedAspectRatio</a><a href=/guide#contextattributes class="svelte-7hddv0 subsection">contextAttributes</a> <li class=svelte-7hddv0><a href=/guide#helper-functions class="svelte-7hddv0 section">Helper functions</a> <a href=/guide#flatten class="svelte-7hddv0 subsection">flatten(...)</a><a href=/guide#scalecanvas class="svelte-7hddv0 subsection">scaleCanvas(...)</a><a href=/guide#calcextents class="svelte-7hddv0 subsection">calcExtents(...)</a><a href=/guide#uniques class="svelte-7hddv0 subsection">uniques(...)</a><a href=/guide#raise class="svelte-7hddv0 subsection">raise(...)</a> </ul></sidebar> <div class="svelte-1hckucs content" id=container><section class=svelte-1hckucs id=introduction><h2 class=svelte-1hckucs>Introduction <small class=svelte-1hckucs><a href=https://github.com/mhkeller/layercake-examples/edit/master/src/content/guide/00-introduction.md rel=nofollow target=_blank>edit this section</a></small></h2> <h3 id=what-is-layer-cake>What is Layer Cake?<a href=/guide#what-is-layer-cake> </a></h3><p>Layer Cake is a graphics framework for <a href=https://svelte.dev>Svelte</a> that removes the boilerplate from making responsive web graphics. it gives you common elements, like a coordinate system and scales, for you to start creating your own dataviz layers, like axes, plots and annotations.</p> <p>Layer Cake is described as a framework and not a library because unlike Vega or HighCharts, it doesn't automatically create, for example, a scatter chart for you. It gives you the scales and the DOM element to encode chart elements from your data. This is because every chart ends up being custom in one way or another. Other libraries handle this usually by creating a complex JSON specification but learning that is a big investment and often mentally taxing.</p> <p>The idea behind a Layer Cake chart is you can start from a basic scatter, line or bar chart template but because those chart layers live in your project, you can customize them however you want.</p> <p>By organizing a graphic into layers, you can more easily reuse components from project to project. It also lets you easily move between web languages (SVG, Canvas, HTML, WebGL) by giving you a common coordinate system they can all use. That way, you can choose the best format for each element without worrying superimposing different elements on top of one another.</p> <p>Layer Cake is more about having a system to organize your own custom components than it is a high-level charting library. It doesn't have any built-in concepts or strong opinions about how your data should be structured.</p> <blockquote> <p>Layer Cake uses D3 scales. See more in the <a href=/guide#xscale>xScale</a>, <a href=/guide#yscale>yScale</a>, <a href=/guide#zscale>zScale</a> and <a href=/guide#rscale>rScale</a> sections of the <a href=/guide#layercake-props>Layer Cake Props API</a>.</p> </blockquote> <h3 id=getting-started>Getting started<a href=/guide#getting-started> </a></h3><p>Install Layer Cake in your <code>devDependencies</code> alongside Svelte.</p> <div class=code-block><pre><code>npm install --save-dev layercake</code></pre></div><p>The easiest way to get started is to clone down, or use <a href=https://github.com/rich-harris/degit>degit</a> to grab the starter template at <a href=https://github.com/mhkeller/layercake-template>https://github.com/mhkeller/layercake-template</a>.</p> <div class=code-block><pre><code>degit mhkeller/layercake-template my-chart
<span class=hljs-built_in>cd</span> my-chart</code></pre></div><p>The <code>App.svelte</code> file in this example is your main Svelte component. You can render a LayerCake inside a DOM element like so.</p> <div class="code-block named"><span class=filename> js/App.svelte</span><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-keyword>import</span> { LayerCake } <span class=hljs-keyword>from</span> <span class=hljs-string>'layercake'</span>;

  <span class=hljs-comment>// Define some data</span>
  <span class=hljs-keyword>const</span> points = [
    {<span class=hljs-attr>x</span>: <span class=hljs-number>0</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>0</span>},
    {<span class=hljs-attr>x</span>: <span class=hljs-number>5</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>10</span>},
    {<span class=hljs-attr>x</span>: <span class=hljs-number>10</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>20</span>},
    {<span class=hljs-attr>x</span>: <span class=hljs-number>15</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>30</span>},
    {<span class=hljs-attr>x</span>: <span class=hljs-number>20</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>40</span>}
  ];
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>style</span>></span><span class=css>
  <span class=hljs-comment>/*
    The wrapper div needs to have an explicit width and height in CSS.
    It can also be a flexbox child or CSS grid element.
    The point being it needs dimensions since the &lt;LayerCake> element will
    expand to fill it.
  */</span>
  <span class=hljs-selector-class>.chart-container</span> {
    <span class=hljs-attribute>width</span>: <span class=hljs-number>100%</span>;
    <span class=hljs-attribute>height</span>: <span class=hljs-number>300px</span>;
  }
</span><span class=hljs-tag>&lt;/<span class=hljs-name>style</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"chart-container"</span>></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>LayerCake</span>
    <span class=hljs-attr>data</span>=<span class=hljs-string>{</span> <span class=hljs-attr>points</span> }
    <span class=hljs-attr>x</span>=<span class=hljs-string>'x'</span>
    <span class=hljs-attr>y</span>=<span class=hljs-string>'y'</span>
  ></span>
    <span class=hljs-comment>&lt;!-- Components go here --></span>
  <span class=hljs-tag>&lt;/<span class=hljs-name>LayerCake</span>></span>
<span class=hljs-tag>&lt;/<span class=hljs-name>div</span>></span></code></pre></div><blockquote> <p>Each of the <a href=https://layercake.graphics>chart examples</a> can be downloaded or edited live in the browser by clicking on the "Download" or "Edit" buttons, respectively.</p> </blockquote> <h3 id=using-layout-components>Using layout components<a href=/guide#using-layout-components> </a></h3><p>Within the <code>LayerCake</code> component, you'll want to add at least one layout component, kind of like a wrapper. It can be <code>Svg</code>, <code>Html</code>, <code>Canvas</code> or <code>WebGL</code>. Within any of these is where you'll put your own custom layer components. Here's an example with a few different layout elements working together.</p> <div class="code-block named"><span class=filename> App.svelte</span><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-keyword>import</span> { LayerCake, Svg, Canvas, Html }  <span class=hljs-keyword>from</span> <span class=hljs-string>'layercake'</span>;

  <span class=hljs-comment>// These are components that live in your project that</span>
  <span class=hljs-comment>// you can customize as you see fit</span>
  <span class=hljs-keyword>import</span> ScatterCanvas <span class=hljs-keyword>from</span> <span class=hljs-string>'./components/ScatterCanvas.svelte'</span>;
  <span class=hljs-keyword>import</span> AxisX <span class=hljs-keyword>from</span> <span class=hljs-string>'./components/AxisX.svelte'</span>;
  <span class=hljs-keyword>import</span> AxisY <span class=hljs-keyword>from</span> <span class=hljs-string>'./components/AxisY.svelte'</span>;
  <span class=hljs-keyword>import</span> Annotations <span class=hljs-keyword>from</span> <span class=hljs-string>'./components/Annotations.svelte'</span>;

  <span class=hljs-comment>// Set up some data</span>
  <span class=hljs-keyword>const</span> points = [
    {<span class=hljs-attr>x</span>: <span class=hljs-number>0</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>0</span>},
    {<span class=hljs-attr>x</span>: <span class=hljs-number>5</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>10</span>},
    {<span class=hljs-attr>x</span>: <span class=hljs-number>10</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>20</span>},
    {<span class=hljs-attr>x</span>: <span class=hljs-number>15</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>30</span>},
    {<span class=hljs-attr>x</span>: <span class=hljs-number>20</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>40</span>}
  ];

  <span class=hljs-keyword>const</span> annotationBlurbs = [
    { <span class=hljs-attr>x</span>: <span class=hljs-number>10</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>20</span>, <span class=hljs-attr>text</span>: <span class=hljs-string>'Look at this value!'</span>}
  ];
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>style</span>></span><span class=css>
  <span class=hljs-comment>/*
    The wrapper div needs to have an explicit width and height in CSS.
    It can also be a flexbox child or CSS grid element.
    The point being it needs dimensions since the &lt;LayerCake> element will
    expand to fill it.
  */</span>
  <span class=hljs-selector-class>.chart-container</span> {
    <span class=hljs-attribute>width</span>: <span class=hljs-number>100%</span>;
    <span class=hljs-attribute>height</span>: <span class=hljs-number>300px</span>;
  }
</span><span class=hljs-tag>&lt;/<span class=hljs-name>style</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"chart-container"</span>></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>LayerCake</span>
    <span class=hljs-attr>x</span>=<span class=hljs-string>'x'</span>
    <span class=hljs-attr>y</span>=<span class=hljs-string>'y'</span>
    <span class=hljs-attr>data</span>=<span class=hljs-string>{points}</span>
  ></span>
    <span class=hljs-tag>&lt;<span class=hljs-name>Canvas</span>></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>ScatterCanvas</span> <span class=hljs-attr>fill</span>=<span class=hljs-string>{</span>'<span class=hljs-attr>blue</span>'} <span class=hljs-attr>r</span>=<span class=hljs-string>{3}/</span>></span>
    <span class=hljs-tag>&lt;/<span class=hljs-name>Canvas</span>></span>

    <span class=hljs-tag>&lt;<span class=hljs-name>Svg</span>></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>AxisX</span>/></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>AxisY</span>/></span>
    <span class=hljs-tag>&lt;/<span class=hljs-name>Svg</span>></span>

    <span class=hljs-tag>&lt;<span class=hljs-name>Html</span>></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>Annotations</span> <span class=hljs-attr>blurbs</span>=<span class=hljs-string>{annotationBlurbs}</span> /></span>
    <span class=hljs-tag>&lt;/<span class=hljs-name>Html</span>></span>

    <span class=hljs-comment>&lt;!-- If you wanted to, you could add another &lt;Svg> again... --></span>
  <span class=hljs-tag>&lt;/<span class=hljs-name>LayerCake</span>></span>
<span class=hljs-tag>&lt;/<span class=hljs-name>div</span>></span></code></pre></div><blockquote> <p>Layout components have a few their own properties that let you customize behavior. Read more in the <a href=guide#layout-components>Layout Components</a> section.</p> </blockquote> <h3 id=layer-components>Layer components<a href=/guide#layer-components> </a></h3><p>The only components the Layer Cake module exports are <code>LayerCake</code> and those layout components, everything else that actually draws your chart is up to you to create. Inside those layer components you can access the scales and other values derived from your data. You do this with Svelte's <a href=https://svelte.dev/docs#getContext><code>getContext</code></a> function.</p> <p>Here's an example starting with a similar <code>App.svelte</code> file to the example above. We're creating a scatter chart in SVG.</p> <div class="code-block named"><span class=filename> App.svelte</span><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-keyword>import</span> { LayerCake, Svg } <span class=hljs-keyword>from</span> <span class=hljs-string>'layercake'</span>;
  <span class=hljs-keyword>import</span> Scatter <span class=hljs-keyword>from</span> <span class=hljs-string>'./components/Scatter.svelte'</span>;

  <span class=hljs-keyword>const</span> points = [
    {<span class=hljs-attr>x</span>: <span class=hljs-number>0</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>0</span>},
    {<span class=hljs-attr>x</span>: <span class=hljs-number>5</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>10</span>},
    {<span class=hljs-attr>x</span>: <span class=hljs-number>10</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>20</span>},
    {<span class=hljs-attr>x</span>: <span class=hljs-number>15</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>30</span>},
    {<span class=hljs-attr>x</span>: <span class=hljs-number>20</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>40</span>}
  ];
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>style</span>></span><span class=css>
  <span class=hljs-comment>/*
    The wrapper div needs to have an explicit width and height in CSS.
    It can also be a flexbox child or CSS grid element.
    The point being it needs dimensions since the &lt;LayerCake> element will
    expand to fill it.
  */</span>
  <span class=hljs-selector-class>.chart-container</span> {
    <span class=hljs-attribute>width</span>: <span class=hljs-number>100%</span>;
    <span class=hljs-attribute>height</span>: <span class=hljs-number>300px</span>;
  }
</span><span class=hljs-tag>&lt;/<span class=hljs-name>style</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"chart-container"</span>></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>LayerCake</span>
    <span class=hljs-attr>x</span>=<span class=hljs-string>'x'</span>
    <span class=hljs-attr>y</span>=<span class=hljs-string>'y'</span>
    <span class=hljs-attr>data</span>=<span class=hljs-string>{</span> <span class=hljs-attr>points</span> }
  ></span>
    <span class=hljs-tag>&lt;<span class=hljs-name>Svg</span>></span>
      <span class=hljs-comment>&lt;!-- You can expose properties on your chart components to make them more reusable --></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>Scatter</span> <span class=hljs-attr>fill</span>=<span class=hljs-string>{</span>'<span class=hljs-attr>blue</span>'} <span class=hljs-attr>r</span>=<span class=hljs-string>{3}</span> /></span>
    <span class=hljs-tag>&lt;/<span class=hljs-name>Svg</span>></span>
  <span class=hljs-tag>&lt;/<span class=hljs-name>LayerCake</span>></span>
<span class=hljs-tag>&lt;/<span class=hljs-name>div</span>></span></code></pre></div><p>This is what the scatter component looks like:</p> <div class="code-block named"><span class=filename> ./components/Scatter.svelte</span><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-comment>// Import the getContext function from svelte</span>
  <span class=hljs-keyword>import</span> { getContext } <span class=hljs-keyword>from</span> <span class=hljs-string>'svelte'</span>;

  <span class=hljs-comment>// Access the context using the 'LayerCake' keyword</span>
  <span class=hljs-comment>// Grab some helpful functions</span>
  <span class=hljs-keyword>const</span> { data, x, xScale, y, yScale } = getContext(<span class=hljs-string>'LayerCake'</span>);

  <span class=hljs-keyword>export</span> <span class=hljs-keyword>let</span> fill = <span class=hljs-string>'#000'</span>;
  <span class=hljs-keyword>export</span> <span class=hljs-keyword>let</span> r = <span class=hljs-number>5</span>;
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>g</span>></span>
  {#each $data as d}
    <span class=hljs-tag>&lt;<span class=hljs-name>circle</span> <span class=hljs-attr>cx</span>=<span class=hljs-string>'{ $xScale($x(d)) }'</span> <span class=hljs-attr>cy</span>=<span class=hljs-string>'{ $yScale($y(d)) }'</span> {<span class=hljs-attr>fill</span>} {<span class=hljs-attr>r</span>} /></span>
  {/each}
<span class=hljs-tag>&lt;/<span class=hljs-name>g</span>></span></code></pre></div><blockquote> <p>You <em>could</em> hardcode the radius and fill in the component but exposing those variables to your App makes this component more reusable from project to project. Or, within a project, you could use the same layer component to render different charts of varying color.</p> </blockquote> <p>A few notes on this component:</p> <ol> <li>Everything that you export from <code>getContext('LayerCake')</code> is a <a href=https://svelte.dev/docs#svelte_store>Svelte store</a> so prefix them with <code>$</code> in the template.</li> <li>This example is a bit verbose because we're calling our accessor functions and then our scale functions. You can combine these two steps with the built-in <code>xGet</code> and <code>yGet</code> functions. Like so:</li> </ol> <div class="code-block named"><span class=filename> ./components/Scatter.svelte</span><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-comment>// Import the getContext function from svelte</span>
  <span class=hljs-keyword>import</span> { getContext } <span class=hljs-keyword>from</span> <span class=hljs-string>'svelte'</span>;

  <span class=hljs-comment>// Access the context using the 'LayerCake' keyword</span>
  <span class=hljs-comment>// Grab some helpful functions</span>
  <span class=hljs-keyword>const</span> { data, xGet, yGet } = getContext(<span class=hljs-string>'LayerCake'</span>);

  <span class=hljs-comment>// Customizable defaults</span>
  <span class=hljs-keyword>export</span> <span class=hljs-keyword>let</span> fill = <span class=hljs-string>'#000'</span>;
  <span class=hljs-keyword>export</span> <span class=hljs-keyword>let</span> r = <span class=hljs-number>5</span>;
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>g</span>></span>
  {#each $data as d}
    <span class=hljs-tag>&lt;<span class=hljs-name>circle</span> <span class=hljs-attr>cx</span>=<span class=hljs-string>'{ $xGet(d) }'</span> <span class=hljs-attr>cy</span>=<span class=hljs-string>'{ $yGet(d) }'</span> {<span class=hljs-attr>fill</span>} {<span class=hljs-attr>r</span>} /></span>
  {/each}
<span class=hljs-tag>&lt;/<span class=hljs-name>g</span>></span></code></pre></div><blockquote> <p>Many common chart types have example pages. See the gallery at <a href=https://layercake.graphics>https://layercake.graphics</a> or use the dropdown menu at the top of the page to navigate to one.</p> </blockquote> <h3 id=data-less-cakes>Data-less cakes<a href=/guide#data-less-cakes> </a></h3><p>You can also use Layer Cake to simply arrange SVG, HTML, Canvas and WebGL elements on top of one another, sharing the same dimensions. For example, this would be handy if you have some SVG artwork that you want to put on top of an HTML video player.</p> <p>Here's an example that doesn't set any properties on the <code>LayerCake</code> component:</p> <div class="code-block named"><span class=filename> App.Svelte</span><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-keyword>import</span> { LayerCake, Svg, Html } <span class=hljs-keyword>from</span> <span class=hljs-string>'layercake'</span>;
  <span class=hljs-keyword>import</span> Frame <span class=hljs-keyword>from</span> <span class=hljs-string>'./components/Frame.svelte'</span>;
  <span class=hljs-keyword>import</span> VideoPlayer <span class=hljs-keyword>from</span> <span class=hljs-string>'./components/VideoPlayer.svelte'</span>;
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>style</span>></span><span class=css>
  <span class=hljs-comment>/*
    The wrapper div needs to have an explicit width and height in CSS.
    It can also be a flexbox child or CSS grid element.
    The point being it needs dimensions since the &lt;LayerCake> element will
    expand to fill it.
  */</span>
  <span class=hljs-selector-class>.chart-container</span> {
    <span class=hljs-attribute>width</span>: <span class=hljs-number>100%</span>;
    <span class=hljs-attribute>width</span>: <span class=hljs-number>300px</span>;
  }
</span><span class=hljs-tag>&lt;/<span class=hljs-name>style</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"chart-container"</span>></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>LayerCake</span>></span>
    <span class=hljs-tag>&lt;<span class=hljs-name>Svg</span>></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>Frame</span>/></span>
    <span class=hljs-tag>&lt;/<span class=hljs-name>Svg</span>></span>

    <span class=hljs-tag>&lt;<span class=hljs-name>Html</span>></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>VideoPlayer</span>/></span>
    <span class=hljs-tag>&lt;/<span class=hljs-name>Html</span>></span>
  <span class=hljs-tag>&lt;/<span class=hljs-name>LayerCake</span>></span>
<span class=hljs-tag>&lt;/<span class=hljs-name>div</span>></span></code></pre></div><h3 id=server-side-rendering>Server-side rendering<a href=/guide#server-side-rendering> </a></h3><p>See the <a href=https://github.com/mhkeller/layercake-template>layercake-template</a> for the rollup config needed to compile LayerCake server-side. In short, it creates a JavaScript file, which then constructs the required HTML and CSS when executed. You have the option of also hydrating that markup with any additiona client-side JavaScript, or building it without any bundled JavaScript.</p> <p>You can also use LayerCake in Sapper (or similar dev environment) to create charts that work without JavaScript, which is how the server-side examples on this site work. Just set the <a href=/guide#ssr>ssr</a> prop to <code>true</code>. Check out the examples on the <a href=/ >home page</a> for useful patterns using the <a href=/guide#percentrange>percentRange</a> option, the <a href=/guide#scaledsvg>ScaledSvg</a> component and other percentage-based components.</p> </section><section class=svelte-1hckucs id=troubleshooting><h2 class=svelte-1hckucs>Troubleshooting <small class=svelte-1hckucs><a href=https://github.com/mhkeller/layercake-examples/edit/master/src/content/guide/01-troubleshooting.md rel=nofollow target=_blank>edit this section</a></small></h2> <h3 id=the-chart-is-blank>The chart is blank<a href=/guide#the-chart-is-blank> </a></h3><p>The <code>&lt;LayerCake></code> component expands to fill the size of its parent <code>&lt;div></code> – that's why all of the examples define a <code>chart-container</code> element with a specific width and height. If your chart isn't showing up, make sure you have a width and height set on your wrapper div. </p> <p>Inspect the DOM tree with your browser's dev tools and look at what width and height the Layer Cake layout elements are receiving and trace up the parents in the tree to see which element may not be sized properly. If you have an unusual combination of <code>absolute</code>-ly positioned elements, it could be one of the parents is not getting a specific width and height. </p> <p>Also take a look in the console for any warnings – LayerCake should warn you if any of the dimensions are zero or negative.</p> <h3 id=the-chart-is-a-very-small-square>The chart is a very small square<a href=/guide#the-chart-is-a-very-small-square> </a></h3><p>This is likely due to some other JavaScript error on the page. A small rectangle of a chart, probably 100x100 means that the server-side rendering was able to bake elements onto the page, but something short-circuited the JavaScript. Check for other console errors that halted the JavaScript process.</p> <h3 id=the-library-isn39t-building-properly>The library isn't building properly<a href=/guide#the-library-isn39t-building-properly> </a></h3><p>Layer Cake is <em>almost entirely</em> a basic Svelte component. The exception is the <a href=https://github.com/mhkeller/layercake/blob/bc13c6c38d54abc16d20ef37878fa707bf48a3bf/src/index.js>index.js</a> file, which is an esm module. This file, though, is non-essential to how the library works and is just a pointer for the rest of the library's imports. If you copy Layer Cake's source into your project directly and import the individual components, it should build just like any other Svelte component in your project.</p> <p>For example:</p> <div class=code-block><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-keyword>import</span> LayerCake <span class=hljs-keyword>from</span> <span class=hljs-string>'./layercake/src/LayerCake.svelte'</span>;
  <span class=hljs-keyword>import</span> Svg <span class=hljs-keyword>from</span> <span class=hljs-string>'./layercake/src/layouts/Svg.svelte'</span>;
  <span class=hljs-comment>// etc...</span>
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span></code></pre></div><blockquote> <p>Copying Layer Cake's layout components into your library is actually a great way to add any additional customizations or functionality while maintaining compatibility with the rest of the library's API. You can use any of the built-in layout components as a starting point for something more complex, if need be.</p> </blockquote> </section><section class=svelte-1hckucs id=layercake-props><h2 class=svelte-1hckucs>LayerCake props <small class=svelte-1hckucs><a href=https://github.com/mhkeller/layercake-examples/edit/master/src/content/guide/02-layercake-props.md rel=nofollow target=_blank>edit this section</a></small></h2> <p>These are the props you can set on the <code>LayerCake</code> component itself. You set them all like so:</p> <div class=code-block><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>Layercake</span>
  <span class=hljs-attr>foo</span>=<span class=hljs-string>'foo'</span>
  <span class=hljs-attr>bar</span>=<span class=hljs-string>'bar'</span>
></span>
<span class=hljs-tag>&lt;/<span class=hljs-name>LayerCake</span>></span></code></pre></div><p>The component also exports an <code>element</code> prop that represents the main wrapper, in case you need to access it for some reason. It also exposes this as a slot prop.</p> <div class=code-block><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-keyword>let</span> mainElement;
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>LayerCake</span>
  <span class=hljs-attr>bind:element</span>=<span class=hljs-string>{mainElement}</span>
  <span class=hljs-attr>let:element</span>
></span>
  {console.log(mainElement === element)}
<span class=hljs-tag>&lt;/<span class=hljs-name>LayerCake</span>></span></code></pre></div><h3 id=data>data <code>Array</code><a href=/guide#data> </a></h3><p>A list of data items. If this is not a flat data array of objects, you'll also need to set <a href=/guide#flatdata>flatData</a>.</p> <div class=code-block><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>LayerCake</span>
  <span class=hljs-attr>data</span>=<span class=hljs-string>{</span> <span class=hljs-attr>myData</span> }
></span></code></pre></div><h3 id=x>x <code>String|Function|Array</code><a href=/guide#x> </a></h3><p>The key in each row of data that corresponds to the x-field. This can be a string or an accessor function. This property gets converted to a function when you access it through the context.</p> <div class=code-block><pre><code>&lt;LayerCake
  x='myX'
  &lt;!-- is equivalent to... -->
  x={ d => d.myX }
></code></pre></div><p>You can also give this value an array of strings or arrays of functions. While it may seem counter-intuitive to have more than one x- or y-accessor, this is the case in stacked layouts and Cleveland dot plots. See the <a href=/example/BarStacked>Stacked bar</a>, <a href=/example/AreaStacked>Stacked area</a>, <a href=/example/ColumnStacked>Stacked colummn</a> or <a href=/example/ClevelandDotPlot>Cleveland dot plot</a> for complete examples.</p> <p>Here's an overview using the <code>d3.stack()</code> to make a horizontal bar chart, which will have two values for the x-accessor.</p> <div class=code-block><pre><code><span class=hljs-keyword>const</span> data = [
  {<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>3</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>apples</span>: <span class=hljs-number>3840</span>, <span class=hljs-attr>bananas</span>: <span class=hljs-number>1920</span>, <span class=hljs-attr>cherries</span>: <span class=hljs-number>960</span>, <span class=hljs-attr>dates</span>: <span class=hljs-number>400</span>},
  {<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>2</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>apples</span>: <span class=hljs-number>1600</span>, <span class=hljs-attr>bananas</span>: <span class=hljs-number>1440</span>, <span class=hljs-attr>cherries</span>: <span class=hljs-number>960</span>, <span class=hljs-attr>dates</span>: <span class=hljs-number>400</span>},
  {<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>1</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>apples</span>: <span class=hljs-number>640</span>,  <span class=hljs-attr>bananas</span>: <span class=hljs-number>960</span>,  <span class=hljs-attr>cherries</span>: <span class=hljs-number>640</span>, <span class=hljs-attr>dates</span>: <span class=hljs-number>400</span>},
  {<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>0</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>apples</span>: <span class=hljs-number>320</span>,  <span class=hljs-attr>bananas</span>: <span class=hljs-number>480</span>,  <span class=hljs-attr>cherries</span>: <span class=hljs-number>640</span>, <span class=hljs-attr>dates</span>: <span class=hljs-number>400</span>}
];

<span class=hljs-keyword>const</span> stack = d3.stack()
  .keys([<span class=hljs-string>'apples'</span>, <span class=hljs-string>'bananas'</span>, <span class=hljs-string>'cherries'</span>, <span class=hljs-string>'dates'</span>]);

<span class=hljs-keyword>const</span> series = stack(data);</code></pre></div><p>The data is now an array of values. The <code>month</code> values you can't see because sneakily stashes them as a property on the array, accessible as <code>d.data</code>.</p> <div class=code-block><pre><code>[
  [[   <span class=hljs-number>0</span>, <span class=hljs-number>3840</span>], [   <span class=hljs-number>0</span>, <span class=hljs-number>1600</span>], [   <span class=hljs-number>0</span>,  <span class=hljs-number>640</span>], [   <span class=hljs-number>0</span>,  <span class=hljs-number>320</span>]], <span class=hljs-comment>// apples</span>
  [[<span class=hljs-number>3840</span>, <span class=hljs-number>5760</span>], [<span class=hljs-number>1600</span>, <span class=hljs-number>3040</span>], [ <span class=hljs-number>640</span>, <span class=hljs-number>1600</span>], [ <span class=hljs-number>320</span>,  <span class=hljs-number>800</span>]], <span class=hljs-comment>// bananas</span>
  [[<span class=hljs-number>5760</span>, <span class=hljs-number>6720</span>], [<span class=hljs-number>3040</span>, <span class=hljs-number>4000</span>], [<span class=hljs-number>1600</span>, <span class=hljs-number>2240</span>], [ <span class=hljs-number>800</span>, <span class=hljs-number>1440</span>]], <span class=hljs-comment>// cherries</span>
  [[<span class=hljs-number>6720</span>, <span class=hljs-number>7120</span>], [<span class=hljs-number>4000</span>, <span class=hljs-number>4400</span>], [<span class=hljs-number>2240</span>, <span class=hljs-number>2640</span>], [<span class=hljs-number>1440</span>, <span class=hljs-number>1840</span>]]  <span class=hljs-comment>// dates</span>
]</code></pre></div><p>The x- and y-accessors would then look like this:</p> <div class=code-block><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>LayerCake</span>
  <span class=hljs-attr>x</span>=<span class=hljs-string>{</span> [<span class=hljs-attr>0</span>, <span class=hljs-attr>1</span>] }
  <span class=hljs-attr>y</span>=<span class=hljs-string>{</span> <span class=hljs-attr>d</span> =></span> d.data.month }
></code></pre></div><p>Calls to <code>x(dataRow)</code> in this scenario will return the two-value array. Calls to <code>xGet(dataRow)</code> will return a two-value array, mapped through the <a href=/guide#xscale>xScale</a>.</p> <h3 id=y>y <code>String|Function|Array</code><a href=/guide#y> </a></h3><p>Same as <a href=/guide#x>x</a> but for the y dimension.</p> <h3 id=z>z <code>String|Function|Array</code><a href=/guide#z> </a></h3><p>Same as <a href=/guide#x>x</a> but for the z dimension.</p> <h3 id=r>r <code>String|Function|Array</code><a href=/guide#r> </a></h3><p>Same as <a href=/guide#x>x</a> but for the r dimension.</p> <h3 id=padding>padding <code>Object</code><a href=/guide#padding> </a></h3><p>An object that can specify <code>top</code>, <code>right</code>, <code>bottom</code>, or <code>left</code> padding in pixels. Any unspecified values are filled in as <code>0</code>. Padding operates like CSS <code>box-sizing: border-box;</code> where values are subtracted from the parent container's width and height, the same as <a href=https://bl.ocks.org/mbostock/3019563>a D3 margin convention</a>.</p> <div class=code-block><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>LayerCake</span>
  <span class=hljs-attr>padding</span>=<span class=hljs-string>{</span> { <span class=hljs-attr>top:</span> <span class=hljs-attr>20</span>, <span class=hljs-attr>right:</span> <span class=hljs-attr>10</span>, <span class=hljs-attr>bottom:</span> <span class=hljs-attr>0</span>, <span class=hljs-attr>left:</span> <span class=hljs-attr>0</span> } }
  // <span class=hljs-attr>equivalent</span> <span class=hljs-attr>to...</span>
  <span class=hljs-attr>padding</span>=<span class=hljs-string>{</span> { <span class=hljs-attr>top:</span> <span class=hljs-attr>20</span>, <span class=hljs-attr>right:</span> <span class=hljs-attr>10</span> } }
></span></code></pre></div><blockquote> <p>Another way to set padding is to add it via normal CSS on your target div. The target element is assigned CSS of <code>box-sizing: border-box;</code> so padding settings won't affect the width or height. If you set any padding via CSS, the padding object will be ignored.</p> </blockquote> <h3 id=xscale>xScale <code><span class=function>d3.</span>scaleLinear<span class=call>(<span class=arguments></span>)</span></code><a href=/guide#xscale> </a></h3><p>The D3 scale that should be used for the x-dimension. Pass in an instantiated D3 scale if you want to override the default <code>d3.scaleLinear()</code> or you want to add extra options.</p> <p>See the <a href=/example/Column>Column chart</a> for an example of passing in a <code>d3.scaleBand()</code> to override the default.</p> <h3 id=yscale>yScale <code><span class=function>d3.</span>scaleLinear<span class=call>(<span class=arguments></span>)</span></code><a href=/guide#yscale> </a></h3><p>Same as <a href=/guide#xscale>xScale</a> but for the y scale. The default is <code>d3.scaleLinear()</code>.</p> <h3 id=zscale>zScale <code><span class=function>d3.</span>scaleLinear<span class=call>(<span class=arguments></span>)</span></code><a href=/guide#zscale> </a></h3><p>Same as <a href=/guide#xscale>xScale</a> but for the z scale. The default is <code>d3.scaleLinear()</code>.</p> <h3 id=rscale>rScale <code><span class=function>d3.</span>scaleSqrt<span class=call>(<span class=arguments></span>)</span></code><a href=/guide#rscale> </a></h3><p>Same as <a href=/guide#xscale>xScale</a> but for the r scale. The default is <code>d3.scaleSqrt()</code>.</p> <h3 id=xdomain>xDomain <code>Array:[min: Number, max: Number]</code><a href=/guide#xdomain> </a></h3><p>Set a min or max on the x scale. If you want to inherit the value from the data's extent, set that value to <code>null</code>.</p> <div class=code-block><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>LayerCake</span>
  <span class=hljs-attr>xDomain</span>=<span class=hljs-string>{</span> [<span class=hljs-attr>0</span>, <span class=hljs-attr>100</span>] } // <span class=hljs-attr>Fixes</span> <span class=hljs-attr>the</span> <span class=hljs-attr>x</span> <span class=hljs-attr>scale</span>'<span class=hljs-attr>s</span> <span class=hljs-attr>domain</span>
  // <span class=hljs-attr>or..</span>
  <span class=hljs-attr>xDomain</span>=<span class=hljs-string>{</span> [<span class=hljs-attr>0</span>, <span class=hljs-attr>null</span>] } // <span class=hljs-attr>Fixes</span> <span class=hljs-attr>the</span> <span class=hljs-attr>min</span> <span class=hljs-attr>but</span> <span class=hljs-attr>allows</span> <span class=hljs-attr>the</span> <span class=hljs-attr>max</span> <span class=hljs-attr>to</span> <span class=hljs-attr>be</span> <span class=hljs-attr>whatever</span> <span class=hljs-attr>is</span> <span class=hljs-attr>in</span> <span class=hljs-attr>the</span> <span class=hljs-attr>data</span>
></span></code></pre></div><h3 id=ydomain>yDomain <code>Array:[min: Number, max: Number]</code><a href=/guide#ydomain> </a></h3><p>Same as <a href=/guide#xdomain>xDomain</a> but for the y scale.</p> <h3 id=zdomain>zDomain <code>Array:[min: Number, max: Number]</code><a href=/guide#zdomain> </a></h3><p>Same as <a href=/guide#xdomain>xDomain</a> but for the z scale.</p> <h3 id=rdomain>rDomain <code>Array:[min: Number, max: Number]</code><a href=/guide#rdomain> </a></h3><p>Same as <a href=/guide#xdomain>xDomain</a> but for the r scale.</p> <h3 id=xreverse>xReverse <code>Boolean=false</code><a href=/guide#xreverse> </a></h3><p>Reverse the default x domain. By default this is <code>false</code> and the domain is <code>[0, width]</code>.</p> <p>This is ignored if you set <a href=/guide#xRange>xRange</a>.</p> <h3 id=yreverse>yReverse <code>Boolean=true</code><a href=/guide#yreverse> </a></h3><p>Reverse the default y domain. By default this is <code>true</code> and the domain is <code>[height, 0]</code>. Reverse the default x domain. By default this is <code>false</code> and the domain is <code>[0, width]</code>.</p> <p>This is ignored if you set <a href=/guide#yRange>yRange</a>.</p> <h3 id=zreverse>zReverse <code>Boolean=false</code><a href=/guide#zreverse> </a></h3><p>Reverse the default z domain. By default this is <code>false</code> and the domain is <code>[0, width]</code>.</p> <p>This is ignored if you set <a href=/guide#zRange>zRange</a>.</p> <h3 id=rreverse>rReverse <code>Boolean=false</code><a href=/guide#rreverse> </a></h3><p>Reverse the default r domain. By default this is <code>false</code> and the domain is <code>[1, 25]</code>.</p> <p>This is ignored if you set <a href=/guide#rRange>rRange</a>.</p> <h3 id=xrange>xRange <code>Function|Array:[min: Number, max: Number]</code><a href=/guide#xrange> </a></h3><p>Override the default y range of <code>[0, width]</code> by setting it here to an array or function with argument <code>({ width, height})</code> that returns an array.</p> <p>This overrides setting <a href=/guide#xreverse>xReverse</a> to <code>true</code>.</p> <div class=code-block><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>LayerCake</span>
  <span class=hljs-attr>xRange</span>=<span class=hljs-string>{</span> [<span class=hljs-attr>1</span>, <span class=hljs-attr>100</span>] }
></span></code></pre></div><p>It can also be a function:</p> <div class=code-block><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>LayerCake</span>
  <span class=hljs-attr>xRange</span>=<span class=hljs-string>{</span> ({ <span class=hljs-attr>width</span>, <span class=hljs-attr>height</span> }) =></span> [0, width / 2] }
></code></pre></div><h3 id=yrange>yRange <code>Function|Array:[min: Number, max: Number]</code><a href=/guide#yrange> </a></h3><p>Same as <a href=/guide#xrange>xRange</a> but for the y scale. Override the default y range of <code>[0, height]</code> by setting it here to an array or function with argument <code>({ width, height})</code> that returns an array.</p> <p>This overrides setting <a href=/guide#yreverse>yReverse</a> to <code>true</code>.</p> <h3 id=zrange>zRange <code>Function|Array:[min: Number, max: Number]</code><a href=/guide#zrange> </a></h3><p>Same as <a href=/guide#xrange>xRange</a> but for the z scale. Override the default z range of <code>[0, width]</code> by setting it here to an array or function with argument <code>({ width, height})</code> that returns an array.</p> <p>This overrides setting <a href=/guide#zreverse>zReverse</a> to <code>true</code>.</p> <h3 id=rrange>rRange <code>Function|Array:[min: Number, max: Number]</code><a href=/guide#rrange> </a></h3><p>Same as <a href=/guide#xrange>xRange</a> but for the r scale. Override the default y range of <code>[1, 25]</code> by setting it here to an array or function with argument <code>({ width, height})</code> that returns an array. The r scale defaults to <code>d3.scaleSqrt</code> so make sure you don't use a zero in your range.</p> <p>This overrides setting <a href=/guide#rreverse>rReverse</a> to <code>true</code>.</p> <h3 id=xpadding>xPadding <code>Array:[leftPixels: Number, rightPixels: Number]</code><a href=/guide#xpadding> </a></h3><p>Assign a pixel value to add to the min or max of the x scale. This will increase the scales domain by the scale unit equivalent of the provided pixels. This is useful for adding extra space to a scatter plot so that your circles don't interfere with your y-axis. It's better than fussing with the range since you don't need to add a magic number to other components, like axes.</p> <p>It will log out a warning if you try to use it on a scale that has a domain or range that isn't two items, such as with ordinal scales.</p> <div class=code-block><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>LayerCake</span>
  <span class=hljs-attr>xPadding</span>= <span class=hljs-string>{</span> [<span class=hljs-attr>10</span>, <span class=hljs-attr>10</span>] } // <span class=hljs-attr>Add</span> <span class=hljs-attr>ten</span> <span class=hljs-attr>pixels</span> <span class=hljs-attr>of</span> <span class=hljs-attr>data</span> <span class=hljs-attr>units</span> <span class=hljs-attr>to</span> <span class=hljs-attr>both</span> <span class=hljs-attr>sides</span> <span class=hljs-attr>of</span> <span class=hljs-attr>the</span> <span class=hljs-attr>scale</span>'<span class=hljs-attr>s</span> <span class=hljs-attr>domain</span>
></span></code></pre></div><h3 id=ypadding>yPadding <code>Array:[leftPixels: Number, rightPixels: Number]</code><a href=/guide#ypadding> </a></h3><p>Same as <a href=/guide#xpadding>xPadding</a> but for the y domain.</p> <h3 id=zpadding>zPadding <code>Array:[leftPixels: Number, rightPixels: Number]</code><a href=/guide#zpadding> </a></h3><p>Same as <a href=/guide#xpadding>xPadding</a> but for the z domain.</p> <h3 id=rpadding>rPadding <code>Array:[leftPixels: Number, rightPixels: Number]</code><a href=/guide#rpadding> </a></h3><p>Same as <a href=/guide#xpadding>xPadding</a> but for the r domain.</p> <h3 id=xnice>xNice <code>Boolean=false</code><a href=/guide#xnice> </a></h3><p>Applies D3's <a href=https://github.com/d3/d3-scale#continuous_nice>scale.nice()</a> to the x domain. This is a separate option instead of being one you can apply to a passed in scale because D3's "nice" transformation only works on existing domains and does not use a state to be able to tell if your existing scale wants to be nice.</p> <h3 id=ynice>yNice <code>Boolean=false</code><a href=/guide#ynice> </a></h3><p>Same as <a href=/guide#xnice>xNice</a> but for the y domain.</p> <h3 id=znice>zNice <code>Boolean=false</code><a href=/guide#znice> </a></h3><p>Same as <a href=/guide#xnice>xNice</a> but for the z domain.</p> <h3 id=rnice>rNice <code>Boolean=false</code><a href=/guide#rnice> </a></h3><p>Same as <a href=/guide#xnice>xNice</a> but for the r domain.</p> <h3 id=extents>extents <code>Object</code><a href=/guide#extents> </a></h3><p>Manually set the extents of the x, y or r scale as a two-dimensional array of the min and max you want. Setting values here will skip any dynamic extent calculation of the data for that dimension.</p> <div class=code-block><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>LayerCake</span>
  <span class=hljs-attr>extents</span>=<span class=hljs-string>{{</span> <span class=hljs-attr>x:</span> [<span class=hljs-attr>0</span>, <span class=hljs-attr>100</span>], <span class=hljs-attr>y:</span> [<span class=hljs-attr>50</span>, <span class=hljs-attr>100</span>] }}
></span></code></pre></div><h3 id=flatdata>flatData <code>Array</code><a href=/guide#flatdata> </a></h3><p>In order for Layer Cake to measure the extents of your data, it needs a flat array of items that the x, y and r accessors can find. If your data is not flat (often the case if your renderers prefer a nested format), you can tell it to measure extents against a flat version. This <em>will not</em> change the shape of the data that gets passed to components — it is only for extent calculation.</p> <blockquote> <p>The library also exports a flattening function to handle common use cases if you need to flatten your data and you don't already have a flat version. See the <a href=/guide#flatten>flatten</a> helper function for more info.</p> </blockquote> <p>Here's an example showing passing different data formats for extent calculation versus what is used by layer components.</p> <div class=code-block><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-keyword>import</span> { LayerCake } <span class=hljs-keyword>from</span> <span class=hljs-string>'LayerCake'</span>;

  <span class=hljs-keyword>const</span> data = [
    {
      <span class=hljs-attr>key</span>: <span class=hljs-string>'apples'</span>,
      <span class=hljs-attr>values</span>: [{<span class=hljs-attr>month</span>: <span class=hljs-string>'2015-03-01'</span>, <span class=hljs-attr>value</span>: <span class=hljs-number>3840</span>}, ...]
    },
    {
      <span class=hljs-attr>key</span>: <span class=hljs-string>'bananas'</span>,
      <span class=hljs-attr>values</span>: [{<span class=hljs-attr>month</span>: <span class=hljs-string>'2015-03-01'</span>, <span class=hljs-attr>value</span>: <span class=hljs-number>1920</span>}, ...]
    },
  ];

  <span class=hljs-keyword>const</span> flatData = [
    {<span class=hljs-attr>month</span>: <span class=hljs-string>'2015-03-01'</span>, <span class=hljs-attr>value</span>: <span class=hljs-number>3840</span>, <span class=hljs-attr>group</span>: <span class=hljs-string>'apples'</span>},
    {<span class=hljs-attr>month</span>: <span class=hljs-string>'2015-02-01'</span>, <span class=hljs-attr>value</span>: <span class=hljs-number>1600</span>, <span class=hljs-attr>group</span>: <span class=hljs-string>'apples'</span>},
    {<span class=hljs-attr>month</span>: <span class=hljs-string>'2015-01-01'</span>, <span class=hljs-attr>value</span>: <span class=hljs-number>640</span>, <span class=hljs-attr>group</span>:  <span class=hljs-string>'apples'</span>},
    {<span class=hljs-attr>month</span>: <span class=hljs-string>'2015-00-01'</span>, <span class=hljs-attr>value</span>: <span class=hljs-number>320</span>, <span class=hljs-attr>group</span>:  <span class=hljs-string>'apples'</span>},

    {<span class=hljs-attr>month</span>: <span class=hljs-string>'2015-03-01'</span>, <span class=hljs-attr>value</span>: <span class=hljs-number>1920</span>, <span class=hljs-attr>group</span>: <span class=hljs-string>'bananas'</span>},
    {<span class=hljs-attr>month</span>: <span class=hljs-string>'2015-02-01'</span>, <span class=hljs-attr>value</span>: <span class=hljs-number>1440</span>, <span class=hljs-attr>group</span>: <span class=hljs-string>'bananas'</span>},
    {<span class=hljs-attr>month</span>: <span class=hljs-string>'2015-01-01'</span>, <span class=hljs-attr>value</span>: <span class=hljs-number>960</span>, <span class=hljs-attr>group</span>:  <span class=hljs-string>'bananas'</span>},
    {<span class=hljs-attr>month</span>: <span class=hljs-string>'2015-00-01'</span>, <span class=hljs-attr>value</span>: <span class=hljs-number>480</span>, <span class=hljs-attr>group</span>:  <span class=hljs-string>'bananas'</span>}
  ];
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>style</span>></span><span class=css>
  <span class=hljs-comment>/*
    The wrapper div needs to have an explicit width and height in CSS.
    It can also be a flexbox child or CSS grid element.
    The point being it needs dimensions since the &lt;LayerCake> element will
    expand to fill it.
  */</span>
  <span class=hljs-selector-class>.chart-container</span> {
    <span class=hljs-attribute>width</span>: <span class=hljs-number>100%</span>;
    <span class=hljs-attribute>height</span>: <span class=hljs-number>300px</span>;
  }
</span><span class=hljs-tag>&lt;/<span class=hljs-name>style</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"chart-container"</span>></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>LayerCake</span>
    <span class=hljs-attr>x</span>=<span class=hljs-string>'month'</span>
    <span class=hljs-attr>y</span>=<span class=hljs-string>'value'</span>
    {<span class=hljs-attr>data</span>}
    {<span class=hljs-attr>flatData</span>}
  ></span>
    <span class=hljs-comment>&lt;!-- Components go here --></span>
  <span class=hljs-tag>&lt;/<span class=hljs-name>LayerCake</span>></span>
<span class=hljs-tag>&lt;/<span class=hljs-name>div</span>></span></code></pre></div><h3 id=ssr>ssr <code>Boolean=false</code><a href=/guide#ssr> </a></h3><p>Set whether this chart should be rendered server side. This is best used in conjunction with the <a href=guide#scaledsvg>ScaledSvg</a> component or HTML components that are set to use percentage scales since you won't know the size of the container at render time.</p> <p>Use it in conjunction with <a href=guide#percentrange><code>percentRange={true}</code></a> to easily set up your scales for a percent coordinate systems.</p> <h3 id=percentrange>percentRange <code>Boolean=false</code><a href=/guide#percentrange> </a></h3><p>When rendering charts server side, you pretty much always want your scale range to be <code>[0, 100]</code> since you won't be able to base the range off of the target container's width. Use this convenience helper to set the min and max to be out of a hundred.</p> <blockquote> <p>The default range for the y-scale will be <code>[100, 0]</code> because <code>yReverse</code> defaults to <code>true</code>. All of the range reverse functions will work as usual with this.</p> </blockquote> <h3 id=position>position <code>String='relative'</code><a href=/guide#position> </a></h3><p>Determine the positioning of the wrapper div. Set this to <code>'absolute'</code> when you want to stack two <code>&lt;LayerCake></code> components on top of one another, such as when you have one that is server-side rendered and one client side like in the <a href=/example-ssr/Column>Annotated column</a> example.</p> <h3 id=custom>custom <code>Object</code><a href=/guide#custom> </a></h3><p>Any extra configuration values you want available on the LayerCake context. This could be useful for color lookups or additional constants.</p> <div class=code-block><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>LayerCake</span>
  <span class=hljs-attr>custom</span>=<span class=hljs-string>{</span> { <span class=hljs-attr>size:</span> <span class=hljs-attr>10</span>, <span class=hljs-attr>names:</span> ['<span class=hljs-attr>a</span>', '<span class=hljs-attr>b</span>', '<span class=hljs-attr>c</span>'] } }
></span></code></pre></div> </section><section class=svelte-1hckucs id=computed-context-values><h2 class=svelte-1hckucs>Computed context values <small class=svelte-1hckucs><a href=https://github.com/mhkeller/layercake-examples/edit/master/src/content/guide/03-computed-context-values.md rel=nofollow target=_blank>edit this section</a></small></h2> <p>In addition to the values you set on the LayerCake component, additional properties are computed and exposed on the context.</p> <h3 id=activegetters>activeGetters <code>Object</code><a href=/guide#activegetters> </a></h3><p>An object that has a key for each dimension of data you have provided an accessor key for and a value that is the accessor function. This used internally but it's exposed here in case it's useful.</p> <div class=code-block><pre><code>{
  x: '&lt;function>',
  y: '&lt;function>',
  z: '&lt;function>',
  r: '&lt;function>
}</code></pre></div><h3 id=aspectratio>aspectRatio <code>Number</code><a href=/guide#aspectratio> </a></h3><p>The aspect ratio of the chart, <code>width / height</code>. This is also exposed as a variable on the Layer Cake slot so you can access it with <code>let:aspectRatio</code>. For example, you could use it to selectively display some components over others:</p> <div class=code-block><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>LayerCake</span>
  <span class=hljs-attr>let:aspectRatio</span>
></span>
  {#if aspectRatio > 1}
    <span class=hljs-tag>&lt;<span class=hljs-name>LayoutOne</span>/></span>
  {:else}
    <span class=hljs-tag>&lt;<span class=hljs-name>LayoutTwo</span>/></span>
  {/if}
<span class=hljs-tag>&lt;/<span class=hljs-name>LayerCake</span>></span></code></pre></div><h3 id=box>box <code>Object</code><a href=/guide#box> </a></h3><p>A bounding box object of the parent container with <code>top</code>, <code>right</code>, <code>bottom</code>, <code>left</code>, <code>width</code> and <code>height</code> numbers in pixels. Useful for creating tooltips.</p> <h3 id=config>config <code>Object</code><a href=/guide#config> </a></h3><p>A copy of some of the config properties set on the <code>&lt;LayerCake></code> component.</p> <p>Some of these properties get changed by the time they end up on the context object. For example, the <a href=/guide#x>x</a>, <a href=/guide#y>y</a>, <a href=/guide#z>z</a> and <a href=/guide#r>r</a> LayerCake properties can be strings or arrays but when they're exposed on the context as compued values, they are always a function. Sometimes, it's useful to refer to those original props such as in the <a href=/example/ClevelandDotPlot>Cleveland Dot Plot example</a>, which uses the x accessor shorthand of providing a list of keys.</p> <p>Or, <a href=/guide#xdomain>xDomain</a> and the other domain props can be used to set manual limits on the min or max of the domain scale. This can be different from what gets set on the context <a href=/guide#xdomain>xDomain</a> if the prop value contained any <code>null</code> values. If you want to refer to the original value for any reason, it's set on this object.</p> <p>Having access to this field can help you not repeat yourself in specifying things twice or in scenarios where Layer Cake is doing a transformation on that original value, like in accessors or domain inputs, and you want to know about the original value.</p> <h3 id=containerwidth>containerWidth <code>Number</code><a href=/guide#containerwidth> </a></h3><p>The width of the parent container, the div element that contains the <code>&lt;LayerCake></code> component. This is also exposed as a variable on the Layer Cake slot so you can access it with <code>let:containerWidth</code>.</p> <h3 id=containerheight>containerHeight <code>Number</code><a href=/guide#containerheight> </a></h3><p>The height of the parent container, the div element that contains the <code>&lt;LayerCake></code> component. This is also exposed as a variable on the Layer Cake slot so you can access it with <code>let:containerHeight</code>.</p> <h3 id=extents-1>extents <code>Object</code><a href=/guide#extents-1> </a></h3><p>An object containing a key for x, y or r (if any are set), whose value is two-value array representing the min and max values for that field in the data.</p> <p>This value could differ from the domain of your scale if you are manually setting a limit on your scale by setting any of the <code>xDomain</code>, <code>yDomain</code>, <code>zDomain</code> or <code>rDomain</code> settings. This is used internally to set domain things but it's also useful as a reference if you want to toggle between an arbitrary domain and the measured extents of the data, such as in the <a href=/example/SmallMultiples>small multiples example</a>.</p> <div class=code-block><pre><code>{
  <span class=hljs-attr>x</span>: [<span class=hljs-number>0</span>, <span class=hljs-number>235</span>],
  <span class=hljs-attr>y</span>: [<span class=hljs-number>0</span>, <span class=hljs-number>80</span>],
  <span class=hljs-attr>z</span>: [<span class=hljs-number>0</span>, <span class=hljs-number>90</span>],
  <span class=hljs-attr>r</span>: [<span class=hljs-number>0</span>, <span class=hljs-number>35</span>]
}</code></pre></div><h3 id=width>width <code>Number</code><a href=/guide#width> </a></h3><p>The width of the drawable space for the chart. This is the width of the parent container taking into account any margin. This is also exposed as a variable on the Layer Cake slot so you can access it with <code>let:width</code>.</p> <h3 id=height>height <code>Number</code><a href=/guide#height> </a></h3><p>The width of the drawable space for the chart. This is the height of the parent container taking into account any margin. This is also exposed as a variable on the Layer Cake slot so you can access it with <code>let:height</code>.</p> <h3 id=x-1>x <code>Function</code><a href=/guide#x-1> </a></h3><p>The x accessor. This will always be a function regardless of whether you passed in a string or an array as a prop. If you passed in an array, it will return an array of equal length.</p> <div class=code-block><pre><code>&lt;LayerCake
  x='x'
  &lt;!-- equivalent to -->
  x={ d => d.x }
></code></pre></div><div class=code-block><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-keyword>import</span> { getContext } <span class=hljs-keyword>from</span> <span class=hljs-string>'svelte'</span>;
  <span class=hljs-keyword>const</span> { data, x, y } = getContext(<span class=hljs-string>'LayerCake'</span>);
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

{#each $data as d}
  <span class=hljs-tag>&lt;<span class=hljs-name>circle</span>
    <span class=hljs-attr>cx</span>=<span class=hljs-string>"{$xScale($x(d))}"</span>
    <span class=hljs-attr>cy</span>=<span class=hljs-string>"{$yScale($y(d))}"</span>
  /></span>
{/each}</code></pre></div><h3 id=y-1>y <code>Function</code><a href=/guide#y-1> </a></h3><p>Same as <a href=/guide#x-1>x</a> but for the y dimension.</p> <h3 id=z-1>z <code>Function</code><a href=/guide#z-1> </a></h3><p>Same as <a href=/guide#x-1>x</a> but for the z dimension.</p> <h3 id=r-1>r <code>Function</code><a href=/guide#r-1> </a></h3><p>Same as <a href=/guide#x-1>x</a> but for the r dimension.</p> <h3 id=xdomain-1>xDomain <code>Array:[min: Number, max: Number]</code><a href=/guide#xdomain-1> </a></h3><p>The calculated extent of the x-dimension of the data. This is the extent of the data taking into account any manual settings passed in for <a href=/guide#xdomain>xDomain</a>.</p> <p>For example, if the extent of the data is <code>[10, 100]</code> and you set the xDomain prop to <code>[0, null]</code>, the xDomain on the context value is <code>[0, 100]</code>.</p> <p>It's equivalent to calling <code>$xScale.domain()</code>.</p> <h3 id=ydomain-1>yDomain <code>Array:[min: Number, max: Number]</code><a href=/guide#ydomain-1> </a></h3><p>Same as <a href=/guide#xdomain-1>xDomain</a> above but for the y domain.</p> <h3 id=zdomain-1>zDomain <code>Array:[min: Number, max: Number]</code><a href=/guide#zdomain-1> </a></h3><p>Same as <a href=/guide#xdomain-1>xDomain</a> above but for the z domain.</p> <h3 id=rdomain-1>rDomain <code>Array:[min: Number, max: Number]</code><a href=/guide#rdomain-1> </a></h3><p>Same as <a href=/guide#xdomain-1>xDomain</a> above but for the r domain.</p> <h3 id=xrange-1>xRange <code>Array:[min: Number, max: Number]</code><a href=/guide#xrange-1> </a></h3><p>The range used for the x-scale. This is usually <code>[0, width]</code> unless it's been manually set via the <a href=/guide#xrange>xRange</a> prop.</p> <p>It's equivalent to calling <code>$xScale.range()</code>.</p> <h3 id=yrange-1>yRange <code>Array:[min: Number, max: Number]</code><a href=/guide#yrange-1> </a></h3><p>Same as <a href=/guide#xrange-1>xRange</a> above but for the y domain.</p> <h3 id=zrange-1>zRange <code>Array:[min: Number, max: Number]</code><a href=/guide#zrange-1> </a></h3><p>Same as <a href=/guide#xrange-1>xRange</a> above but for the z domain.</p> <h3 id=rrange-1>rRange <code>Array:[min: Number, max: Number]</code><a href=/guide#rrange-1> </a></h3><p>Same as <a href=/guide#xrange-1>xRange</a> above but for the r domain.</p> <h3 id=xget>xGet<span class=call>(<span class=arguments>d: <code>Object</code></span>)</span><a href=/guide#xget> </a></h3><p>Often you want to get the x value from a row in your data and scale it like so: <code>$xScale($x(d))</code>. This function is shorthand for doing just that. Super handy!</p> <p>Here's an example from a simple SVG line path generator:</p> <div class=code-block><pre><code><span class=hljs-keyword>import</span> { getContext } <span class=hljs-keyword>from</span> <span class=hljs-string>'svelte'</span>;

<span class=hljs-keyword>const</span> { data, xGet, yGet } = getContext(<span class=hljs-string>'LayerCake'</span>);

$: path=  <span class=hljs-string>'M'</span> + $data
  .map(<span class=hljs-function><span class=hljs-params>d</span> =></span> {
    <span class=hljs-keyword>return</span> $xGet(d) + <span class=hljs-string>','</span> + $yGet(d);
  })
  .join(<span class=hljs-string>'L'</span>);</code></pre></div><h3 id=yget>yGet<span class=call>(<span class=arguments>d: <code>Object</code></span>)</span><a href=/guide#yget> </a></h3><p>Same as <a href=/guide#xget>xGet</a> but for the y scale.</p> <h3 id=zget>zGet<span class=call>(<span class=arguments>d: <code>Object</code></span>)</span><a href=/guide#zget> </a></h3><p>Same as <a href=/guide#xget>xGet</a> but for the z scale.</p> <h3 id=rget>rGet<span class=call>(<span class=arguments>d: <code>Object</code></span>)</span><a href=/guide#rget> </a></h3><p>Same as <a href=/guide#xget>xGet</a> but for the r scale.</p> <h3 id=xscale-1>xScale<span class=call>(<span class=arguments>d: <code>Object</code></span>)</span><a href=/guide#xscale-1> </a></h3><p>The calculated scale for the x dimension.</p> <h3 id=yscale-1>yScale<span class=call>(<span class=arguments>d: <code>Object</code></span>)</span><a href=/guide#yscale-1> </a></h3><p>Same as the above but for the y dimension.</p> <h3 id=zscale-1>zScale<span class=call>(<span class=arguments>d: <code>Object</code></span>)</span><a href=/guide#zscale-1> </a></h3><p>Same as the above but for the z dimension.</p> <h3 id=rscale-1>rScale<span class=call>(<span class=arguments>d: <code>Object</code></span>)</span><a href=/guide#rscale-1> </a></h3><p>Same as the above but for the r dimension.</p> </section><section class=svelte-1hckucs id=layout-components><h2 class=svelte-1hckucs>Layout components <small class=svelte-1hckucs><a href=https://github.com/mhkeller/layercake-examples/edit/master/src/content/guide/04-layout-components.md rel=nofollow target=_blank>edit this section</a></small></h2> <p>Layer Cake comes with layout components that provide HTML, Svg, ScaledSvg, Canvas and WebGL containers for your custom components.</p> <p>You must wrap your chart components in these layout components for them to appear properly scaled. For Html and Svg components, they create a <code>&lt;div></code> and <code>&lt;g></code>, respectively.</p> <p>The Canvas and WebGL layout components also create canvas contexts that are then available on the LayerCake context object.</p> <p>Each of these components also takes props. See the next section <a href=/guide#layout-component-props>Layout component props</a> for more info.</p> <p>Here are the four layout components: HTML, Svg, ScaledSvg, Canvas and WebGL containers.</p> <h3 id=html>Html<a href=/guide#html> </a></h3><div class="code-block named"><span class=filename> App.svelte</span><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-keyword>import</span> { LayerCake, Html } <span class=hljs-keyword>from</span> <span class=hljs-string>'layercake'</span>;
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>style</span>></span><span class=css>
  <span class=hljs-comment>/*
    The wrapper div needs to have an explicit width and height in CSS.
    It can also be a flexbox child or CSS grid element.
    The point being it needs dimensions since the &lt;LayerCake> element will
    expand to fill it.
  */</span>
  <span class=hljs-selector-class>.chart-container</span> {
    <span class=hljs-attribute>width</span>: <span class=hljs-number>100%</span>;
    <span class=hljs-attribute>height</span>: <span class=hljs-number>300px</span>;
  }
</span><span class=hljs-tag>&lt;/<span class=hljs-name>style</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"chart-container"</span>></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>LayerCake</span> <span class=hljs-attr>...</span>></span>
    <span class=hljs-tag>&lt;<span class=hljs-name>Html</span> <span class=hljs-attr>zIndex</span>=<span class=hljs-string>{1}</span>></span> <span class=hljs-comment>&lt;!-- Optional z-index --></span>
      ...
    <span class=hljs-tag>&lt;/<span class=hljs-name>Html</span>></span>
  <span class=hljs-tag>&lt;/<span class=hljs-name>LayerCake</span>></span>
<span class=hljs-tag>&lt;/<span class=hljs-name>div</span>></span></code></pre></div><h3 id=svg>Svg<a href=/guide#svg> </a></h3><p>The SVG layout component also accepts a <code>viewBox</code> prop. See the <a href=/guide#layout-component-props>Layout component props</a> section for more information.</p> <div class="code-block named"><span class=filename> App.svelte</span><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-keyword>import</span> { LayerCake, Svg } <span class=hljs-keyword>from</span> <span class=hljs-string>'layercake'</span>;
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>style</span>></span><span class=css>
  <span class=hljs-comment>/*
    The wrapper div needs to have an explicit width and height in CSS.
    It can also be a flexbox child or CSS grid element.
    The point being it needs dimensions since the &lt;LayerCake> element will
    expand to fill it.
  */</span>
  <span class=hljs-selector-class>.chart-container</span> {
    <span class=hljs-attribute>width</span>: <span class=hljs-number>100%</span>;
    <span class=hljs-attribute>height</span>: <span class=hljs-number>300px</span>;
  }
</span><span class=hljs-tag>&lt;/<span class=hljs-name>style</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"chart-container"</span>></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>LayerCake</span> <span class=hljs-attr>...</span>></span>
    <span class=hljs-tag>&lt;<span class=hljs-name>Svg</span> <span class=hljs-attr>zIndex</span>=<span class=hljs-string>{2}</span>></span> <span class=hljs-comment>&lt;!-- Optional z-index --></span>
    <span class=hljs-tag>&lt;/<span class=hljs-name>Svg</span>></span>
  <span class=hljs-tag>&lt;/<span class=hljs-name>LayerCake</span>></span>
<span class=hljs-tag>&lt;/<span class=hljs-name>div</span>></span></code></pre></div><p>This component also has a <a href=https://svelte.dev/docs#slot_name>named slot</a> for adding elements into the SVG <code>&lt;defs></code> field.</p> <div class=code-block><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"chart-container"</span>></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>LayerCake</span> <span class=hljs-attr>...</span>></span>
    <span class=hljs-tag>&lt;<span class=hljs-name>Svg</span>></span>

      <span class=hljs-comment>&lt;!-- Add your defs in a named slot here --></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>svelte:fragment</span> <span class=hljs-attr>slot</span>=<span class=hljs-string>"defs"</span>></span>
        <span class=hljs-tag>&lt;<span class=hljs-name>linearGradient</span> <span class=hljs-attr>id</span>=<span class=hljs-string>"myGradient"</span> <span class=hljs-attr>gradientTransform</span>=<span class=hljs-string>"rotate(90)"</span>></span>
          <span class=hljs-tag>&lt;<span class=hljs-name>stop</span> <span class=hljs-attr>offset</span>=<span class=hljs-string>"20%"</span> <span class=hljs-attr>stop-color</span>=<span class=hljs-string>"gold"</span> /></span>
          <span class=hljs-tag>&lt;<span class=hljs-name>stop</span> <span class=hljs-attr>offset</span>=<span class=hljs-string>"90%"</span> <span class=hljs-attr>stop-color</span>=<span class=hljs-string>"red"</span> /></span>
        <span class=hljs-tag>&lt;/<span class=hljs-name>linearGradient</span>></span>
      <span class=hljs-tag>&lt;/<span class=hljs-name>svelte:fragment</span>></span>

    <span class=hljs-tag>&lt;/<span class=hljs-name>Svg</span>></span>
  <span class=hljs-tag>&lt;/<span class=hljs-name>LayerCake</span>></span>
<span class=hljs-tag>&lt;/<span class=hljs-name>div</span>></span></code></pre></div><h3 id=scaledsvg>ScaledSvg<a href=/guide#scaledsvg> </a></h3><p>Use this when you want to render SVGs server side, using Rich Harris's <a href=https://dev.to/richharris/a-new-technique-for-making-responsive-javascript-free-charts-gmp>Pancake technique</a>.</p> <p>It's often used in conjunction with props <code>ssr={true}</code> and <code>percentRange={true}</code>. </p> <p>The ScaledSvg component has two custom props: <code>fixedAspectRatio</code> and <code>viewBox</code>. See the <a href=/guide#layout-component-props>Layout component props</a> section for more information.</p> <div class="code-block named"><span class=filename> App.svelte</span><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-keyword>import</span> { LayerCake, ScaledSvg } <span class=hljs-keyword>from</span> <span class=hljs-string>'layercake'</span>;
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>style</span>></span><span class=css>
  <span class=hljs-comment>/*
    The wrapper div needs to have an explicit width and height in CSS.
    It can also be a flexbox child or CSS grid element.
    The point being it needs dimensions since the &lt;LayerCake> element will
    expand to fill it.
  */</span>
  <span class=hljs-selector-class>.chart-container</span> {
    <span class=hljs-attribute>width</span>: <span class=hljs-number>100%</span>;
    <span class=hljs-attribute>height</span>: <span class=hljs-number>300px</span>;
  }
</span><span class=hljs-tag>&lt;/<span class=hljs-name>style</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"chart-container"</span>></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>LayerCake</span>
    <span class=hljs-attr>ssr</span>=<span class=hljs-string>{true}</span>
    <span class=hljs-attr>percentRange</span>=<span class=hljs-string>{true}</span>
  ></span>
    <span class=hljs-tag>&lt;<span class=hljs-name>ScaledSvg</span> <span class=hljs-attr>fixedAspectRatio</span>=<span class=hljs-string>{16/9}</span>></span> <span class=hljs-comment>&lt;!-- Optional fixed aspect ratio --></span>
    <span class=hljs-tag>&lt;/<span class=hljs-name>ScaledSvg</span>></span>
  <span class=hljs-tag>&lt;/<span class=hljs-name>LayerCake</span>></span>
<span class=hljs-tag>&lt;/<span class=hljs-name>div</span>></span></code></pre></div><p>This component also has a <a href=https://svelte.dev/docs#slot_name>named slot</a> for adding elements into the SVG <code>&lt;defs></code> field.</p> <div class=code-block><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"chart-container"</span>></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>LayerCake</span> <span class=hljs-attr>...</span>></span>
    <span class=hljs-tag>&lt;<span class=hljs-name>Svg</span>></span>

      <span class=hljs-comment>&lt;!-- Add your defs in a named slot here --></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>svelte:fragment</span> <span class=hljs-attr>slot</span>=<span class=hljs-string>"defs"</span>></span>
        <span class=hljs-tag>&lt;<span class=hljs-name>linearGradient</span> <span class=hljs-attr>id</span>=<span class=hljs-string>"myGradient"</span> <span class=hljs-attr>gradientTransform</span>=<span class=hljs-string>"rotate(90)"</span>></span>
          <span class=hljs-tag>&lt;<span class=hljs-name>stop</span> <span class=hljs-attr>offset</span>=<span class=hljs-string>"20%"</span> <span class=hljs-attr>stop-color</span>=<span class=hljs-string>"gold"</span> /></span>
          <span class=hljs-tag>&lt;<span class=hljs-name>stop</span> <span class=hljs-attr>offset</span>=<span class=hljs-string>"90%"</span> <span class=hljs-attr>stop-color</span>=<span class=hljs-string>"red"</span> /></span>
        <span class=hljs-tag>&lt;/<span class=hljs-name>linearGradient</span>></span>
      <span class=hljs-tag>&lt;/<span class=hljs-name>svelte:fragment</span>></span>

    <span class=hljs-tag>&lt;/<span class=hljs-name>Svg</span>></span>
  <span class=hljs-tag>&lt;/<span class=hljs-name>LayerCake</span>></span>
<span class=hljs-tag>&lt;/<span class=hljs-name>div</span>></span></code></pre></div><h3 id=canvas>Canvas<a href=/guide#canvas> </a></h3><div class="code-block named"><span class=filename> App.svelte</span><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-keyword>import</span> { LayerCake, Canvas } <span class=hljs-keyword>from</span> <span class=hljs-string>'layercake'</span>;

  <span class=hljs-keyword>import</span> CanvasLayer <span class=hljs-keyword>from</span> <span class=hljs-string>'./components/CanvasLayer.svelte'</span>
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>style</span>></span><span class=css>
  <span class=hljs-comment>/*
    The wrapper div needs to have an explicit width and height in CSS.
    It can also be a flexbox child or CSS grid element.
    The point being it needs dimensions since the &lt;LayerCake> element will
    expand to fill it.
  */</span>
  <span class=hljs-selector-class>.chart-container</span> {
    <span class=hljs-attribute>width</span>: <span class=hljs-number>100%</span>;
    <span class=hljs-attribute>height</span>: <span class=hljs-number>300px</span>;
  }
</span><span class=hljs-tag>&lt;/<span class=hljs-name>style</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"chart-container"</span>></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>LayerCake</span> <span class=hljs-attr>...</span>></span>
    <span class=hljs-tag>&lt;<span class=hljs-name>Canvas</span> <span class=hljs-attr>zIndex</span>=<span class=hljs-string>{3}</span>></span> <span class=hljs-comment>&lt;!-- Optional z-index --></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>CanvasLayer</span>/></span>
    <span class=hljs-tag>&lt;/<span class=hljs-name>Canvas</span>></span>
  <span class=hljs-tag>&lt;/<span class=hljs-name>LayerCake</span>></span>
<span class=hljs-tag>&lt;/<span class=hljs-name>div</span>></span></code></pre></div><p>In the component, you access the canvas context with <code>const { ctx } = getContext('canvas');</code>. This value is on a different context from the <code>getContext('LayerCake')</code> one because you could have multiple canvas layers and there wouldn't be an easy way to grab the right one. This way, the component always has access to just its parent Canvas component.</p> <blockquote> <p>Since the <code>ctx</code> value is a normal 2d context, the underlying canvas element is accessible under <code>ctx.canvas</code>.</p> </blockquote> <p>Here's an example showing a scatter plot.</p> <div class="code-block named"><span class=filename> ./components/CanvasLayer.svelte</span><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-keyword>import</span> { getContext } <span class=hljs-keyword>from</span> <span class=hljs-string>'svelte'</span>;
  <span class=hljs-keyword>import</span> { scaleCanvas } <span class=hljs-keyword>from</span> <span class=hljs-string>'layercake'</span>;

  <span class=hljs-keyword>const</span> { data, xGet, yGet, width, height } = getContext(<span class=hljs-string>'LayerCake'</span>);
  <span class=hljs-keyword>const</span> { ctx } = getContext(<span class=hljs-string>'canvas'</span>);

  $: {
    <span class=hljs-keyword>if</span> ($ctx) {
      <span class=hljs-comment>/* --------------------------------------------
       * If you were to have multiple canvas layers
       * maybe for some artistic layering purposes
       * put these reset functions in the first layer, not each one
       * since they should only run once per update
       */</span>
      scaleCanvas($ctx, $width, $height);
      $ctx.clearRect(<span class=hljs-number>0</span>, <span class=hljs-number>0</span>, $width, $height);

      <span class=hljs-comment>/* --------------------------------------------
       * Draw the scatterplot
       */</span>
      $data.forEach(<span class=hljs-function><span class=hljs-params>d</span> =></span> {
        $ctx.beginPath();
        $ctx.arc($xGet(d), $yGet(d), <span class=hljs-number>5</span>, <span class=hljs-number>0</span>, <span class=hljs-number>2</span> * <span class=hljs-built_in>Math</span>.PI, <span class=hljs-literal>false</span>);
        $ctx.fillStyle = <span class=hljs-string>'#f0c'</span>;
        $ctx.fill();
      });
    }
  }
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span></code></pre></div><h3 id=webgl>WebGL<a href=/guide#webgl> </a></h3><div class="code-block named"><span class=filename> App.svelte</span><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-keyword>import</span> { LayerCake, WebGL } <span class=hljs-keyword>from</span> <span class=hljs-string>'layercake'</span>;
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>style</span>></span><span class=css>
  <span class=hljs-comment>/*
    The wrapper div needs to have an explicit width and height in CSS.
    It can also be a flexbox child or CSS grid element.
    The point being it needs dimensions since the &lt;LayerCake> element will
    expand to fill it.
  */</span>
  <span class=hljs-selector-class>.chart-container</span> {
    <span class=hljs-attribute>width</span>: <span class=hljs-number>100%</span>;
    <span class=hljs-attribute>height</span>: <span class=hljs-number>300px</span>;
  }
</span><span class=hljs-tag>&lt;/<span class=hljs-name>style</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"chart-container"</span>></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>LayerCake</span> <span class=hljs-attr>...</span>></span>
    <span class=hljs-tag>&lt;<span class=hljs-name>WebGL</span> <span class=hljs-attr>zIndex</span>=<span class=hljs-string>{4}</span>></span> <span class=hljs-comment>&lt;!-- Optional z-index --></span>
    <span class=hljs-tag>&lt;/<span class=hljs-name>WebGL</span>></span>
  <span class=hljs-tag>&lt;/<span class=hljs-name>LayerCake</span>></span>
<span class=hljs-tag>&lt;/<span class=hljs-name>div</span>></span></code></pre></div><p>In the component, you access the canvas context with <code>const { gl } = getContext('gl');</code>. This value is on a different context from the <code>getContext('LayerCake')</code> one because you could have multiple WebGL layers and there wouldn't be an easy way to grab the right one.</p> <blockquote> <p>Since the <code>gl</code> value is a normal WebGL context, the underlying canvas element is accessible under <code>gl.canvas</code>.</p> </blockquote> <p>See the <a href=/example/ScatterWebgl>WebGL scatter chart</a> for a working example.</p> </section><section class=svelte-1hckucs id=layout-component-props><h2 class=svelte-1hckucs>Layout component props <small class=svelte-1hckucs><a href=https://github.com/mhkeller/layercake-examples/edit/master/src/content/guide/05-layout-component-props.md rel=nofollow target=_blank>edit this section</a></small></h2> <p>All layout components accept the following props:</p> <ul> <li><a href=guide#zindex-1>zIndex</a> <code>Number|String</code></li> <li><a href=guide#pointerevents-1>pointerEvents</a> <code>Boolean</code></li> </ul> <p>The Svg and ScaledSvg layout components also accept:</p> <ul> <li><a href=guide#viewbox-1>viewBox</a> <code>String</code></li> </ul> <p>And ScaledSvg additionally accepts:</p> <ul> <li><a href=guide#fixedaspectratio-1>fixedAspectRatio</a> <code>Number</code></li> </ul> <p>The WebGL Component accepts:</p> <ul> <li><a href=guide#contextattributes-1>contextAttributes</a> <code>Object</code></li> </ul> <p>Each layout component also export an <code>element</code> prop that you can bind to and represents the HTML element that wraps the layout component. These are also available as slot props.</p> <ul> <li>In the <code>Html</code> component, <code>element</code> equals the <code>&lt;div></code> tag.</li> <li>In the <code>Svg</code> component, <code>element</code> equals the <code>&lt;svg></code> tag.</li> <li>In the <code>ScaledSvg</code> component, <code>element</code> equals the <code>&lt;svg></code> tag.</li> <li>In the <code>Canvas</code> component, <code>element</code> equals the <code>&lt;canvas></code> tag.</li> <li>In the <code>WebGL</code> component, <code>element</code> equals the <code>&lt;canvas></code> tag.</li> </ul> <p>The <code>Canvas</code> and the <code>WebGL</code> components also export a <code>context</code> variable that you can bind to and is also available as a slot prop.</p> <ul> <li>In the <code>Canvas</code> component, <code>context</code> equals <code>element.getContext('2d')</code>.</li> <li>In the <code>WebGL</code> component, <code>context</code> equals <code>element.getContext('webgl')</code>.</li> </ul> <div class=code-block><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
 <span class=hljs-keyword>let</span> svgElement;
 <span class=hljs-keyword>let</span> canvasElement;
 <span class=hljs-keyword>let</span> canvasContext
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>LayerCake</span> <span class=hljs-attr>...</span>></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>Svg</span>
    <span class=hljs-attr>bind:element</span>=<span class=hljs-string>{svgElement}</span>
    <span class=hljs-attr>let:element</span>
  ></span>
    {console.log(svgElement === element)} 
  <span class=hljs-tag>&lt;/<span class=hljs-name>Svg</span>></span>

  <span class=hljs-tag>&lt;<span class=hljs-name>Canvas</span>
    <span class=hljs-attr>bind:element</span>=<span class=hljs-string>{canvasElement}</span>
    <span class=hljs-attr>bind:context</span>=<span class=hljs-string>{canvasContext}</span>
    <span class=hljs-attr>let:element</span>
    <span class=hljs-attr>let:context</span>
  ></span>
    {console.log(canvasElement === element)} 
    {console.log(canvasContext === context)} 
  <span class=hljs-tag>&lt;/<span class=hljs-name>Canvas</span>></span>
<span class=hljs-tag>&lt;/<span class=hljs-name>LayerCake</span>></span></code></pre></div><h3 id=zindex>zIndex <code>Number|String</code><a href=/guide#zindex> </a></h3><p>This lets you fine-tune your layering and is useful if you want your layers to build in a certain order but have a different appearance than their DOM order.</p> <div class=code-block><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>LayerCake</span> <span class=hljs-attr>...</span>></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>Svg</span>
    <span class=hljs-attr>zIndex</span>=<span class=hljs-string>{2}</span>
  ></span>
  <span class=hljs-tag>&lt;/<span class=hljs-name>Svg</span>></span>
<span class=hljs-tag>&lt;/<span class=hljs-name>LayerCake</span>></span></code></pre></div><h3 id=pointerevents>pointerEvents <code>Boolean</code><a href=/guide#pointerevents> </a></h3><p>Useful for tooltip layers that need to be display above chart elements but not capture mouse events. Defaults to no <code>pointer-events</code> CSS being set. Set to <code>false</code> to set <code>pointer-events: none;</code></p> <div class=code-block><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>LayerCake</span> <span class=hljs-attr>...</span>></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>Html</span>
    <span class=hljs-attr>pointerEvents</span>=<span class=hljs-string>{false}</span>
  ></span>
  <span class=hljs-tag>&lt;/<span class=hljs-name>Html</span>></span>
<span class=hljs-tag>&lt;/<span class=hljs-name>LayerCake</span>></span></code></pre></div><h3 id=viewbox>viewBox <code>String</code><a href=/guide#viewbox> </a></h3><p>On Svg components, this defaults to <code>undefined</code> and <code>0 0 100 100</code> for ScaledSvg.</p> <div class=code-block><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>LayerCake</span> <span class=hljs-attr>...</span>></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>Svg</span>
    <span class=hljs-attr>viewBox</span>=<span class=hljs-string>'0 0 100 50'</span>
  ></span>
  <span class=hljs-tag>&lt;/<span class=hljs-name>Svg</span>></span>
<span class=hljs-tag>&lt;/<span class=hljs-name>LayerCake</span>></span></code></pre></div><h3 id=fixedaspectratio>fixedAspectRatio <code>Number</code><a href=/guide#fixedaspectratio> </a></h3><p>For ScaledSvg components, you can pass in a set aspect ratio. See the <a href=/example-ssr/MapSvg>server-side rendered Map</a> for an example.</p> <div class=code-block><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>LayerCake</span> <span class=hljs-attr>...</span>></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>ScaledSvg</span>
    <span class=hljs-attr>fixedAspectRatio</span>=<span class=hljs-string>{16/9}</span>
  ></span>
  <span class=hljs-tag>&lt;/<span class=hljs-name>ScaledSvg</span>></span>
<span class=hljs-tag>&lt;/<span class=hljs-name>LayerCake</span>></span></code></pre></div><h3 id=contextattributes>contextAttributes <code>Object</code><a href=/guide#contextattributes> </a></h3><p>For WebGL components, you can pass in an object that gets passed as the second argument to <code>canvas.getContext()</code>. See the <a href=https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/getContext>WebGL docs</a> for more details on what those attributes can be.</p> <div class=code-block><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>LayerCake</span> <span class=hljs-attr>...</span>></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>WebGL</span>
    <span class=hljs-attr>contextAttributes</span>=<span class=hljs-string>{{</span>
      <span class=hljs-attr>antialias:</span> <span class=hljs-attr>false</span>,
      <span class=hljs-attr>depth:</span> <span class=hljs-attr>false</span>,
      <span class=hljs-attr>alpha:</span> <span class=hljs-attr>false</span>
    }}
  ></span>
  <span class=hljs-tag>&lt;/<span class=hljs-name>WebGL</span>></span>
<span class=hljs-tag>&lt;/<span class=hljs-name>LayerCake</span>></span></code></pre></div> </section><section class=svelte-1hckucs id=helper-functions><h2 class=svelte-1hckucs>Helper functions <small class=svelte-1hckucs><a href=https://github.com/mhkeller/layercake-examples/edit/master/src/content/guide/99-helper-functions.md rel=nofollow target=_blank>edit this section</a></small></h2> <p>Layer Cake exposes some commonly-used helper functions. If you don't use them, they will be tree-shaken so there's no added bloat!</p> <h3 id=flatten>flatten<span class=call>(<span class=arguments>data: <code>Array</code></span>)</span><a href=/guide#flatten> </a></h3><p>Flatten an array one-level down. Handy for preparing data from stacked layouts whose extents can easily be calculated.</p> <p>This data:</p> <div class=code-block><pre><code><span class=hljs-keyword>const</span> data = [
  [{<span class=hljs-attr>x</span>: <span class=hljs-number>0</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>1</span>}, {<span class=hljs-attr>x</span>: <span class=hljs-number>1</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>5</span>}, {<span class=hljs-attr>x</span>: <span class=hljs-number>2</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>10</span>}],
  [{<span class=hljs-attr>x</span>: <span class=hljs-number>0</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>10</span>}, {<span class=hljs-attr>x</span>: <span class=hljs-number>1</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>15</span>}, {<span class=hljs-attr>x</span>: <span class=hljs-number>2</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>20</span>}]
];</code></pre></div><p>Becomes this:</p> <div class=code-block><pre><code><span class=hljs-keyword>import</span> { flatten } <span class=hljs-keyword>from</span> <span class=hljs-string>'layercake'</span>;

<span class=hljs-keyword>const</span> flatData = flatten(data);
<span class=hljs-comment>/*
  [{x: 0, y: 1}, {x: 1, y: 5}, {x: 2, y: 10},
   {x: 0, y: 10}, {x: 1, y: 15}, {x: 2, y: 20}]
*/</span></code></pre></div><p>You can safely use this function on arrays of arrays of arrays, such as the output from <code>d3.stack()</code></p> <div class=code-block><pre><code>[
  [[   <span class=hljs-number>0</span>, <span class=hljs-number>3840</span>], [   <span class=hljs-number>0</span>, <span class=hljs-number>1600</span>], [   <span class=hljs-number>0</span>,  <span class=hljs-number>640</span>], [   <span class=hljs-number>0</span>,  <span class=hljs-number>320</span>]],
  [[<span class=hljs-number>3840</span>, <span class=hljs-number>5760</span>], [<span class=hljs-number>1600</span>, <span class=hljs-number>3040</span>], [ <span class=hljs-number>640</span>, <span class=hljs-number>1600</span>], [ <span class=hljs-number>320</span>,  <span class=hljs-number>800</span>]],
  [[<span class=hljs-number>5760</span>, <span class=hljs-number>6720</span>], [<span class=hljs-number>3040</span>, <span class=hljs-number>4000</span>], [<span class=hljs-number>1600</span>, <span class=hljs-number>2240</span>], [ <span class=hljs-number>800</span>, <span class=hljs-number>1440</span>]],
  [[<span class=hljs-number>6720</span>, <span class=hljs-number>7120</span>], [<span class=hljs-number>4000</span>, <span class=hljs-number>4400</span>], [<span class=hljs-number>2240</span>, <span class=hljs-number>2640</span>], [<span class=hljs-number>1440</span>, <span class=hljs-number>1840</span>]]
]</code></pre></div><p>Becomes...</p> <div class=code-block><pre><code>[ [ <span class=hljs-number>0</span>, <span class=hljs-number>3840</span> ],
  [ <span class=hljs-number>0</span>, <span class=hljs-number>1600</span> ],
  [ <span class=hljs-number>0</span>, <span class=hljs-number>640</span> ],
  [ <span class=hljs-number>0</span>, <span class=hljs-number>320</span> ],
  [ <span class=hljs-number>3840</span>, <span class=hljs-number>5760</span> ],
  [ <span class=hljs-number>1600</span>, <span class=hljs-number>3040</span> ],
  [ <span class=hljs-number>640</span>, <span class=hljs-number>1600</span> ],
  [ <span class=hljs-number>320</span>, <span class=hljs-number>800</span> ],
  [ <span class=hljs-number>5760</span>, <span class=hljs-number>6720</span> ],
  [ <span class=hljs-number>3040</span>, <span class=hljs-number>4000</span> ],
  [ <span class=hljs-number>1600</span>, <span class=hljs-number>2240</span> ],
  [ <span class=hljs-number>800</span>, <span class=hljs-number>1440</span> ],
  [ <span class=hljs-number>6720</span>, <span class=hljs-number>7120</span> ],
  [ <span class=hljs-number>4000</span>, <span class=hljs-number>4400</span> ],
  [ <span class=hljs-number>2240</span>, <span class=hljs-number>2640</span> ],
  [ <span class=hljs-number>1440</span>, <span class=hljs-number>1840</span> ]
]</code></pre></div><h3 id=scalecanvas>scaleCanvas<span class=call>(<span class=arguments>ctx: <code>Canvas 2d Context</code>, width: <code>Number</code>, height: <code>Number</code></span>)</span><a href=/guide#scalecanvas> </a></h3><p>Scale your canvas size to retina screens. This function will modify the canvas, if necessary, and return an object with the new <code>width</code> and <code>height</code> as properties.</p> <p>Such as in the <a href=/example/Scatter>Scatter canvas</a> example:</p> <div class="code-block named"><span class=filename> Scatter.html</span><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-keyword>import</span> { getContext } <span class=hljs-keyword>from</span> <span class=hljs-string>'svelte'</span>;
  <span class=hljs-keyword>import</span> { scaleCanvas } <span class=hljs-keyword>from</span> <span class=hljs-string>'layercake'</span>;

  <span class=hljs-keyword>const</span> { data, xGet, yGet, width, height } = getContext(<span class=hljs-string>'LayerCake'</span>);

  <span class=hljs-keyword>const</span> { ctx } = getContext(<span class=hljs-string>'canvas'</span>);

  <span class=hljs-keyword>export</span> <span class=hljs-keyword>let</span> r;
  <span class=hljs-keyword>export</span> <span class=hljs-keyword>let</span> fill;

  $: {
    <span class=hljs-keyword>if</span> ($ctx) {
      <span class=hljs-comment>/* --------------------------------------------
       * If you were to have multiple canvas layers
       * maybe for some artistic layering purposes
       * put these reset functions in the first layer, not each one
       * since they should only run once per update
       */</span>
      scaleCanvas($ctx, $width, $height);
      $ctx.clearRect(<span class=hljs-number>0</span>, <span class=hljs-number>0</span>, $width, $height);

      <span class=hljs-comment>/* --------------------------------------------
       * Draw our scatterplot
       */</span>
      $data.forEach(<span class=hljs-function><span class=hljs-params>d</span> =></span> {
        $ctx.beginPath();
        $ctx.arc($xGet(d), $yGet(d), r, <span class=hljs-number>0</span>, <span class=hljs-number>2</span> * <span class=hljs-built_in>Math</span>.PI, <span class=hljs-literal>false</span>);
        $ctx.fillStyle = fill;
        $ctx.fill();
      });
    }
  }
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span></code></pre></div><h3 id=calcextents>calcExtents<span class=call>(<span class=arguments>flatData: <code>Array</code>, fields: <code>Object</code></span>)</span><a href=/guide#calcextents> </a></h3><p>Calculate the extents of any of the keys specified in <strong>fields</strong>, which is an object whose keys represent the name of the dimension (<code>x</code>, <code>y</code>, <code>z</code> or <code>r</code>) and whose values are an accessor function.</p> <p>For example, calculating the extents for the x and y fields, which are in the data as <code>myX</code> and <code>myY</code> would look like this:</p> <div class=code-block><pre><code><span class=hljs-keyword>const</span> extents = calcExtents(flatData, {
  <span class=hljs-attr>x</span>: <span class=hljs-function><span class=hljs-params>d</span> =></span> d.myX,
  <span class=hljs-attr>y</span>: <span class=hljs-function><span class=hljs-params>d</span> =></span> d.myY
});

<span class=hljs-built_in>console</span>.log(extents);
<span class=hljs-comment>/*
{
  x: [0, 10],
  y: [-20, 20]
}
*/</span></code></pre></div><p>Returns an object whose keys are the field names specified as the first item in the key group array followed by an array of <code>[min, max]</code>.</p> <p>You can also return an array if you have an object with keys where each one is more logically associated with the min or the max like this:</p> <div class=code-block><pre><code><span class=hljs-keyword>const</span> timeData = [{ <span class=hljs-attr>start</span>: <span class=hljs-number>0</span>, <span class=hljs-attr>end</span>: <span class=hljs-number>1</span> }, { <span class=hljs-attr>start</span>: -<span class=hljs-number>10000</span>, <span class=hljs-attr>end</span>: <span class=hljs-number>0</span> }];

<span class=hljs-keyword>const</span> extents = calcExtents(timeData, {
  <span class=hljs-attr>y</span>: <span class=hljs-function><span class=hljs-params>d</span> =></span> [d.start, d.end]
});

<span class=hljs-built_in>console</span>.log(extents);
<span class=hljs-comment>/*
{
  y: [-10000, 1]
}
*/</span></code></pre></div><h3 id=uniques>uniques<span class=call>(<span class=arguments>data: <code>Array</code>[, accessor: <code>String|Function</code>, transform: <code>Boolean</code>]</span>)</span><a href=/guide#uniques> </a></h3><p>A function to get the unique values from a list. If <strong>accessor</strong> is specified, the uniqueness will be compared using that and, by default, the values in the returned list of unique values will be values returned by the accessor. Accessor can also be the string name of the key. Pass <code>false</code> to the <strong>transform</strong> argument if you want to return the original elements, which will be the first one that appears for every unique value. The default for <strong>transform</strong> is <code>true</code>.</p> <p>This is different from Underscore's <a href=https://underscorejs.org/#uniq>uniq</a> because that function doesn't return the transformed value.</p> <div class=code-block><pre><code><span class=hljs-keyword>import</span> { uniques } <span class=hljs-keyword>from</span> <span class=hljs-string>'layercake'</span>;

<span class=hljs-keyword>const</span> data = [
  { <span class=hljs-attr>year</span>: <span class=hljs-string>'1990'</span>, <span class=hljs-attr>x</span>: <span class=hljs-number>0</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>1</span>},
  { <span class=hljs-attr>year</span>: <span class=hljs-string>'1990'</span>, <span class=hljs-attr>x</span>: <span class=hljs-number>5</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>4</span>},
  { <span class=hljs-attr>year</span>: <span class=hljs-string>'1991'</span>, <span class=hljs-attr>x</span>: <span class=hljs-number>2</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>5</span>},
  { <span class=hljs-attr>year</span>: <span class=hljs-string>'1991'</span>, <span class=hljs-attr>x</span>: <span class=hljs-number>6</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>1</span>},
  { <span class=hljs-attr>year</span>: <span class=hljs-string>'1992'</span>, <span class=hljs-attr>x</span>: <span class=hljs-number>1</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>6</span>},
  { <span class=hljs-attr>year</span>: <span class=hljs-string>'1992'</span>, <span class=hljs-attr>x</span>: <span class=hljs-number>7</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>3</span>},
  { <span class=hljs-attr>year</span>: <span class=hljs-string>'1993'</span>, <span class=hljs-attr>x</span>: <span class=hljs-number>7</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>8</span>},
  { <span class=hljs-attr>year</span>: <span class=hljs-string>'1993'</span>, <span class=hljs-attr>x</span>: <span class=hljs-number>3</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>2</span>}
];

<span class=hljs-keyword>const</span> uniqueYears = unique(data, <span class=hljs-string>'year'</span>);
<span class=hljs-comment>// ['1990', '1991', '1992', '1993']</span>

<span class=hljs-comment>// this is equivalent to</span>
<span class=hljs-keyword>const</span> uniqueYears = unique(data, <span class=hljs-function><span class=hljs-params>d</span> =></span> d.year);

<span class=hljs-comment>// setting transform to `false` gives you the full row of the first unique element</span>
<span class=hljs-keyword>const</span> uniqueYears = unique(data, <span class=hljs-string>'year'</span>, <span class=hljs-literal>false</span>);
<span class=hljs-comment>/*
[
  {year: '1990', x: 0, y: 1},
  {year: '1991', x: 2, y: 5},
  {year: '1992', x: 1, y: 6},
  {year: '1993', x: 7, y: 8}
*/</span></code></pre></div><h3 id=raise>raise<span class=call>(<span class=arguments>el: <code>DOM Element</code></span>)</span><a href=/guide#raise> </a></h3><p>Adapted from the <a href=https://github.com/d3/d3-selection#selection_raise>raise</a> method in d3-selection, this is a convenience function to re-insert the passed in element as the last child of its parent. Equivalent to:</p> <div class=code-block><pre><code>el.parentNode.appendChild(el);</code></pre></div><p>This is useful for hovering over SVG maps so that the hovered-over feature is not obstructed by neighboring shapes. See how it's used in the <a href=/example/MapSvg>SVG map component</a>.</p> </section></div></main></div> <script>__SAPPER__={baseUrl:"",preloaded:[(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){return {sections:[{html:"\u003Ch3 id=\"what-is-layer-cake\"\u003EWhat is Layer Cake?\u003Ca href=\"\u002Fguide#what-is-layer-cake\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ELayer Cake is a graphics framework for \u003Ca href=\"https:\u002F\u002Fsvelte.dev\"\u003ESvelte\u003C\u002Fa\u003E that removes the boilerplate from making responsive web graphics. it gives you common elements, like a coordinate system and scales, for you to start creating your own dataviz layers, like axes, plots and annotations.\u003C\u002Fp\u003E\n\u003Cp\u003ELayer Cake is described as a framework and not a library because unlike Vega or HighCharts, it doesn&#39;t automatically create, for example, a scatter chart for you. It gives you the scales and the DOM element to encode chart elements from your data. This is because every chart ends up being custom in one way or another. Other libraries handle this usually by creating a complex JSON specification but learning that is a big investment and often mentally taxing.\u003C\u002Fp\u003E\n\u003Cp\u003EThe idea behind a Layer Cake chart is you can start from a basic scatter, line or bar chart template but because those chart layers live in your project, you can customize them however you want.\u003C\u002Fp\u003E\n\u003Cp\u003EBy organizing a graphic into layers, you can more easily reuse components from project to project. It also lets you easily move between web languages (SVG, Canvas, HTML, WebGL) by giving you a common coordinate system they can all use. That way, you can choose the best format for each element without worrying superimposing different elements on top of one another.\u003C\u002Fp\u003E\n\u003Cp\u003ELayer Cake is more about having a system to organize your own custom components than it is a high-level charting library. It doesn&#39;t have any built-in concepts or strong opinions about how your data should be structured.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003ELayer Cake uses D3 scales. See more in the \u003Ca href=\"\u002Fguide#xscale\"\u003ExScale\u003C\u002Fa\u003E, \u003Ca href=\"\u002Fguide#yscale\"\u003EyScale\u003C\u002Fa\u003E, \u003Ca href=\"\u002Fguide#zscale\"\u003EzScale\u003C\u002Fa\u003E and \u003Ca href=\"\u002Fguide#rscale\"\u003ErScale\u003C\u002Fa\u003E sections of the \u003Ca href=\"\u002Fguide#layercake-props\"\u003ELayer Cake Props API\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch3 id=\"getting-started\"\u003EGetting started\u003Ca href=\"\u002Fguide#getting-started\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EInstall Layer Cake in your \u003Ccode\u003EdevDependencies\u003C\u002Fcode\u003E alongside Svelte.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003Enpm install --save-dev layercake\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EThe easiest way to get started is to clone down, or use \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Frich-harris\u002Fdegit\"\u003Edegit\u003C\u002Fa\u003E to grab the starter template at \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fmhkeller\u002Flayercake-template\"\u003Ehttps:\u002F\u002Fgithub.com\u002Fmhkeller\u002Flayercake-template\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003Edegit mhkeller\u002Flayercake-template my-chart\n\u003Cspan class=\"hljs-built_in\"\u003Ecd\u003C\u002Fspan\u003E my-chart\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EThe \u003Ccode\u003EApp.svelte\u003C\u002Fcode\u003E file in this example is your main Svelte component. You can render a LayerCake inside a DOM element like so.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E js\u002FApp.svelte\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { LayerCake } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;layercake&#x27;\u003C\u002Fspan\u003E;\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Define some data\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E points = [\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E20\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E15\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E30\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E20\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E40\u003C\u002Fspan\u003E}\n  ];\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"css\"\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n    The wrapper div needs to have an explicit width and height in CSS.\n    It can also be a flexbox child or CSS grid element.\n    The point being it needs dimensions since the &lt;LayerCake&gt; element will\n    expand to fill it.\n  *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-selector-class\"\u003E.chart-container\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-attribute\"\u003Ewidth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E100%\u003C\u002Fspan\u003E;\n    \u003Cspan class=\"hljs-attribute\"\u003Eheight\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E300px\u003C\u002Fspan\u003E;\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;chart-container&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Edata\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Epoints\u003C\u002Fspan\u003E }\n    \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;x&#x27;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;y&#x27;\u003C\u002Fspan\u003E\n  &gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-comment\"\u003E&lt;!-- Components go here --&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cblockquote\u003E\n\u003Cp\u003EEach of the \u003Ca href=\"https:\u002F\u002Flayercake.graphics\"\u003Echart examples\u003C\u002Fa\u003E can be downloaded or edited live in the browser by clicking on the &quot;Download&quot; or &quot;Edit&quot; buttons, respectively.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch3 id=\"using-layout-components\"\u003EUsing layout components\u003Ca href=\"\u002Fguide#using-layout-components\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EWithin the \u003Ccode\u003ELayerCake\u003C\u002Fcode\u003E component, you&#39;ll want to add at least one layout component, kind of like a wrapper. It can be \u003Ccode\u003ESvg\u003C\u002Fcode\u003E, \u003Ccode\u003EHtml\u003C\u002Fcode\u003E, \u003Ccode\u003ECanvas\u003C\u002Fcode\u003E or \u003Ccode\u003EWebGL\u003C\u002Fcode\u003E. Within any of these is where you&#39;ll put your own custom layer components. Here&#39;s an example with a few different layout elements working together.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E App.svelte\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { LayerCake, Svg, Canvas, Html }  \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;layercake&#x27;\u003C\u002Fspan\u003E;\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F These are components that live in your project that\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F you can customize as you see fit\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E ScatterCanvas \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;.\u002Fcomponents\u002FScatterCanvas.svelte&#x27;\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E AxisX \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;.\u002Fcomponents\u002FAxisX.svelte&#x27;\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E AxisY \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;.\u002Fcomponents\u002FAxisY.svelte&#x27;\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E Annotations \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;.\u002Fcomponents\u002FAnnotations.svelte&#x27;\u003C\u002Fspan\u003E;\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Set up some data\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E points = [\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E20\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E15\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E30\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E20\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E40\u003C\u002Fspan\u003E}\n  ];\n\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E annotationBlurbs = [\n    { \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E20\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Etext\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;Look at this value!&#x27;\u003C\u002Fspan\u003E}\n  ];\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"css\"\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n    The wrapper div needs to have an explicit width and height in CSS.\n    It can also be a flexbox child or CSS grid element.\n    The point being it needs dimensions since the &lt;LayerCake&gt; element will\n    expand to fill it.\n  *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-selector-class\"\u003E.chart-container\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-attribute\"\u003Ewidth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E100%\u003C\u002Fspan\u003E;\n    \u003Cspan class=\"hljs-attribute\"\u003Eheight\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E300px\u003C\u002Fspan\u003E;\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;chart-container&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;x&#x27;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;y&#x27;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Edata\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{points}\u003C\u002Fspan\u003E\n  &gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ECanvas\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EScatterCanvas\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Efill\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E&#x27;\u003Cspan class=\"hljs-attr\"\u003Eblue\u003C\u002Fspan\u003E&#x27;} \u003Cspan class=\"hljs-attr\"\u003Er\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{3}\u002F\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ECanvas\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EAxisX\u003C\u002Fspan\u003E\u002F&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EAxisY\u003C\u002Fspan\u003E\u002F&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EHtml\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EAnnotations\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eblurbs\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{annotationBlurbs}\u003C\u002Fspan\u003E \u002F&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003EHtml\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"hljs-comment\"\u003E&lt;!-- If you wanted to, you could add another &lt;Svg&gt; again... --&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cblockquote\u003E\n\u003Cp\u003ELayout components have a few their own properties that let you customize behavior. Read more in the \u003Ca href=\"guide#layout-components\"\u003ELayout Components\u003C\u002Fa\u003E section.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch3 id=\"layer-components\"\u003ELayer components\u003Ca href=\"\u002Fguide#layer-components\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe only components the Layer Cake module exports are \u003Ccode\u003ELayerCake\u003C\u002Fcode\u003E and those layout components, everything else that actually draws your chart is up to you to create. Inside those layer components you can access the scales and other values derived from your data. You do this with Svelte&#39;s \u003Ca href=\"https:\u002F\u002Fsvelte.dev\u002Fdocs#getContext\"\u003E\u003Ccode\u003EgetContext\u003C\u002Fcode\u003E\u003C\u002Fa\u003E function.\u003C\u002Fp\u003E\n\u003Cp\u003EHere&#39;s an example starting with a similar \u003Ccode\u003EApp.svelte\u003C\u002Fcode\u003E file to the example above. We&#39;re creating a scatter chart in SVG.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E App.svelte\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { LayerCake, Svg } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;layercake&#x27;\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E Scatter \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;.\u002Fcomponents\u002FScatter.svelte&#x27;\u003C\u002Fspan\u003E;\n\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E points = [\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E20\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E15\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E30\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E20\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E40\u003C\u002Fspan\u003E}\n  ];\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"css\"\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n    The wrapper div needs to have an explicit width and height in CSS.\n    It can also be a flexbox child or CSS grid element.\n    The point being it needs dimensions since the &lt;LayerCake&gt; element will\n    expand to fill it.\n  *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-selector-class\"\u003E.chart-container\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-attribute\"\u003Ewidth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E100%\u003C\u002Fspan\u003E;\n    \u003Cspan class=\"hljs-attribute\"\u003Eheight\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E300px\u003C\u002Fspan\u003E;\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;chart-container&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;x&#x27;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;y&#x27;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Edata\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Epoints\u003C\u002Fspan\u003E }\n  &gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-comment\"\u003E&lt;!-- You can expose properties on your chart components to make them more reusable --&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EScatter\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Efill\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E&#x27;\u003Cspan class=\"hljs-attr\"\u003Eblue\u003C\u002Fspan\u003E&#x27;} \u003Cspan class=\"hljs-attr\"\u003Er\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{3}\u003C\u002Fspan\u003E \u002F&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EThis is what the scatter component looks like:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E .\u002Fcomponents\u002FScatter.svelte\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Import the getContext function from svelte\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { getContext } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;svelte&#x27;\u003C\u002Fspan\u003E;\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Access the context using the &#x27;LayerCake&#x27; keyword\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Grab some helpful functions\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { data, x, xScale, y, yScale } = getContext(\u003Cspan class=\"hljs-string\"\u003E&#x27;LayerCake&#x27;\u003C\u002Fspan\u003E);\n\n  \u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E fill = \u003Cspan class=\"hljs-string\"\u003E&#x27;#000&#x27;\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E r = \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E;\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  {#each $data as d}\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ecircle\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecx\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;{ $xScale($x(d)) }&#x27;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecy\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;{ $yScale($y(d)) }&#x27;\u003C\u002Fspan\u003E {\u003Cspan class=\"hljs-attr\"\u003Efill\u003C\u002Fspan\u003E} {\u003Cspan class=\"hljs-attr\"\u003Er\u003C\u002Fspan\u003E} \u002F&gt;\u003C\u002Fspan\u003E\n  {\u002Feach}\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Eg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cblockquote\u003E\n\u003Cp\u003EYou \u003Cem\u003Ecould\u003C\u002Fem\u003E hardcode the radius and fill in the component but exposing those variables to your App makes this component more reusable from project to project. Or, within a project, you could use the same layer component to render different charts of varying color.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EA few notes on this component:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003EEverything that you export from \u003Ccode\u003EgetContext(&#39;LayerCake&#39;)\u003C\u002Fcode\u003E is a \u003Ca href=\"https:\u002F\u002Fsvelte.dev\u002Fdocs#svelte_store\"\u003ESvelte store\u003C\u002Fa\u003E so prefix them with \u003Ccode\u003E$\u003C\u002Fcode\u003E in the template.\u003C\u002Fli\u003E\n\u003Cli\u003EThis example is a bit verbose because we&#39;re calling our accessor functions and then our scale functions. You can combine these two steps with the built-in \u003Ccode\u003ExGet\u003C\u002Fcode\u003E and \u003Ccode\u003EyGet\u003C\u002Fcode\u003E functions. Like so:\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E .\u002Fcomponents\u002FScatter.svelte\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Import the getContext function from svelte\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { getContext } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;svelte&#x27;\u003C\u002Fspan\u003E;\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Access the context using the &#x27;LayerCake&#x27; keyword\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Grab some helpful functions\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { data, xGet, yGet } = getContext(\u003Cspan class=\"hljs-string\"\u003E&#x27;LayerCake&#x27;\u003C\u002Fspan\u003E);\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Customizable defaults\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E fill = \u003Cspan class=\"hljs-string\"\u003E&#x27;#000&#x27;\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E r = \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E;\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  {#each $data as d}\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ecircle\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecx\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;{ $xGet(d) }&#x27;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecy\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;{ $yGet(d) }&#x27;\u003C\u002Fspan\u003E {\u003Cspan class=\"hljs-attr\"\u003Efill\u003C\u002Fspan\u003E} {\u003Cspan class=\"hljs-attr\"\u003Er\u003C\u002Fspan\u003E} \u002F&gt;\u003C\u002Fspan\u003E\n  {\u002Feach}\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Eg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cblockquote\u003E\n\u003Cp\u003EMany common chart types have example pages. See the gallery at \u003Ca href=\"https:\u002F\u002Flayercake.graphics\"\u003Ehttps:\u002F\u002Flayercake.graphics\u003C\u002Fa\u003E or use the dropdown menu at the top of the page to navigate to one.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch3 id=\"data-less-cakes\"\u003EData-less cakes\u003Ca href=\"\u002Fguide#data-less-cakes\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EYou can also use Layer Cake to simply arrange SVG, HTML, Canvas and WebGL elements on top of one another, sharing the same dimensions. For example, this would be handy if you have some SVG artwork that you want to put on top of an HTML video player.\u003C\u002Fp\u003E\n\u003Cp\u003EHere&#39;s an example that doesn&#39;t set any properties on the \u003Ccode\u003ELayerCake\u003C\u002Fcode\u003E component:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E App.Svelte\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { LayerCake, Svg, Html } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;layercake&#x27;\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E Frame \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;.\u002Fcomponents\u002FFrame.svelte&#x27;\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E VideoPlayer \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;.\u002Fcomponents\u002FVideoPlayer.svelte&#x27;\u003C\u002Fspan\u003E;\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"css\"\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n    The wrapper div needs to have an explicit width and height in CSS.\n    It can also be a flexbox child or CSS grid element.\n    The point being it needs dimensions since the &lt;LayerCake&gt; element will\n    expand to fill it.\n  *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-selector-class\"\u003E.chart-container\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-attribute\"\u003Ewidth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E100%\u003C\u002Fspan\u003E;\n    \u003Cspan class=\"hljs-attribute\"\u003Ewidth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E300px\u003C\u002Fspan\u003E;\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;chart-container&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EFrame\u003C\u002Fspan\u003E\u002F&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EHtml\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EVideoPlayer\u003C\u002Fspan\u003E\u002F&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003EHtml\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"server-side-rendering\"\u003EServer-side rendering\u003Ca href=\"\u002Fguide#server-side-rendering\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESee the \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fmhkeller\u002Flayercake-template\"\u003Elayercake-template\u003C\u002Fa\u003E for the rollup config needed to compile LayerCake server-side. In short, it creates a JavaScript file, which then constructs the required HTML and CSS when executed. You have the option of also hydrating that markup with any additiona client-side JavaScript, or building it without any bundled JavaScript.\u003C\u002Fp\u003E\n\u003Cp\u003EYou can also use LayerCake in Sapper (or similar dev environment) to create charts that work without JavaScript, which is how the server-side examples on this site work. Just set the \u003Ca href=\"\u002Fguide#ssr\"\u003Essr\u003C\u002Fa\u003E prop to \u003Ccode\u003Etrue\u003C\u002Fcode\u003E. Check out the examples on the \u003Ca href=\"\u002F\"\u003Ehome page\u003C\u002Fa\u003E for useful patterns using the \u003Ca href=\"\u002Fguide#percentrange\"\u003EpercentRange\u003C\u002Fa\u003E option, the \u003Ca href=\"\u002Fguide#scaledsvg\"\u003EScaledSvg\u003C\u002Fa\u003E component and other percentage-based components.\u003C\u002Fp\u003E\n",metadata:{title:"Introduction"},subsections:[{slug:"what-is-layer-cake",title:"What is Layer Cake?"},{slug:"getting-started",title:"Getting started"},{slug:"using-layout-components",title:"Using layout components"},{slug:"layer-components",title:"Layer components"},{slug:"data-less-cakes",title:"Data-less cakes"},{slug:"server-side-rendering",title:"Server-side rendering"}],slug:"introduction",file:"00-introduction.md"},{html:"\u003Ch3 id=\"the-chart-is-blank\"\u003EThe chart is blank\u003Ca href=\"\u002Fguide#the-chart-is-blank\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe \u003Ccode\u003E&lt;LayerCake&gt;\u003C\u002Fcode\u003E component expands to fill the size of its parent \u003Ccode\u003E&lt;div&gt;\u003C\u002Fcode\u003E – that&#39;s why all of the examples define a \u003Ccode\u003Echart-container\u003C\u002Fcode\u003E element with a specific width and height. If your chart isn&#39;t showing up, make sure you have a width and height set on your wrapper div. \u003C\u002Fp\u003E\n\u003Cp\u003EInspect the DOM tree with your browser&#39;s dev tools and look at what width and height the Layer Cake layout elements are receiving and trace up the parents in the tree to see which element may not be sized properly. If you have an unusual combination of \u003Ccode\u003Eabsolute\u003C\u002Fcode\u003E-ly positioned elements, it could be one of the parents is not getting a specific width and height. \u003C\u002Fp\u003E\n\u003Cp\u003EAlso take a look in the console for any warnings – LayerCake should warn you if any of the dimensions are zero or negative.\u003C\u002Fp\u003E\n\u003Ch3 id=\"the-chart-is-a-very-small-square\"\u003EThe chart is a very small square\u003Ca href=\"\u002Fguide#the-chart-is-a-very-small-square\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThis is likely due to some other JavaScript error on the page. A small rectangle of a chart, probably 100x100 means that the server-side rendering was able to bake elements onto the page, but something short-circuited the JavaScript. Check for other console errors that halted the JavaScript process.\u003C\u002Fp\u003E\n\u003Ch3 id=\"the-library-isn39t-building-properly\"\u003EThe library isn&#39;t building properly\u003Ca href=\"\u002Fguide#the-library-isn39t-building-properly\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ELayer Cake is \u003Cem\u003Ealmost entirely\u003C\u002Fem\u003E a basic Svelte component. The exception is the \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fmhkeller\u002Flayercake\u002Fblob\u002Fbc13c6c38d54abc16d20ef37878fa707bf48a3bf\u002Fsrc\u002Findex.js\"\u003Eindex.js\u003C\u002Fa\u003E file, which is an esm module. This file, though, is non-essential to how the library works and is just a pointer for the rest of the library&#39;s imports. If you copy Layer Cake&#39;s source into your project directly and import the individual components, it should build just like any other Svelte component in your project.\u003C\u002Fp\u003E\n\u003Cp\u003EFor example:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E LayerCake \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;.\u002Flayercake\u002Fsrc\u002FLayerCake.svelte&#x27;\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E Svg \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;.\u002Flayercake\u002Fsrc\u002Flayouts\u002FSvg.svelte&#x27;\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F etc...\u003C\u002Fspan\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cblockquote\u003E\n\u003Cp\u003ECopying Layer Cake&#39;s layout components into your library is actually a great way to add any additional customizations or functionality while maintaining compatibility with the rest of the library&#39;s API. You can use any of the built-in layout components as a starting point for something more complex, if need be.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n",metadata:{title:"Troubleshooting"},subsections:[{slug:"the-chart-is-blank",title:"The chart is blank"},{slug:"the-chart-is-a-very-small-square",title:"The chart is a very small square"},{slug:"the-library-isn39t-building-properly",title:"The library isn't building properly"}],slug:"troubleshooting",file:"01-troubleshooting.md"},{html:"\u003Cp\u003EThese are the props you can set on the \u003Ccode\u003ELayerCake\u003C\u002Fcode\u003E component itself. You set them all like so:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayercake\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Efoo\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;foo&#x27;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Ebar\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;bar&#x27;\u003C\u002Fspan\u003E\n&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EThe component also exports an \u003Ccode\u003Eelement\u003C\u002Fcode\u003E prop that represents the main wrapper, in case you need to access it for some reason. It also exposes this as a slot prop.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E mainElement;\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Ebind:element\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{mainElement}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Elet:element\u003C\u002Fspan\u003E\n&gt;\u003C\u002Fspan\u003E\n  {console.log(mainElement === element)}\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"data\"\u003Edata \u003Ccode\u003EArray\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#data\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EA list of data items. If this is not a flat data array of objects, you&#39;ll also need to set \u003Ca href=\"\u002Fguide#flatdata\"\u003EflatData\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Edata\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003EmyData\u003C\u002Fspan\u003E }\n&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"x\"\u003Ex \u003Ccode\u003EString|Function|Array\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#x\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe key in each row of data that corresponds to the x-field. This can be a string or an accessor function. This property gets converted to a function when you access it through the context.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E&lt;LayerCake\n  x=&#x27;myX&#x27;\n  &lt;!-- is equivalent to... --&gt;\n  x={ d =&gt; d.myX }\n&gt;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EYou can also give this value an array of strings or arrays of functions. While it may seem counter-intuitive to have more than one x- or y-accessor, this is the case in stacked layouts and Cleveland dot plots. See the \u003Ca href=\"\u002Fexample\u002FBarStacked\"\u003EStacked bar\u003C\u002Fa\u003E, \u003Ca href=\"\u002Fexample\u002FAreaStacked\"\u003EStacked area\u003C\u002Fa\u003E, \u003Ca href=\"\u002Fexample\u002FColumnStacked\"\u003EStacked colummn\u003C\u002Fa\u003E or \u003Ca href=\"\u002Fexample\u002FClevelandDotPlot\"\u003ECleveland dot plot\u003C\u002Fa\u003E for complete examples.\u003C\u002Fp\u003E\n\u003Cp\u003EHere&#39;s an overview using the \u003Ccode\u003Ed3.stack()\u003C\u002Fcode\u003E to make a horizontal bar chart, which will have two values for the x-accessor.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E data = [\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Eapples\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ebananas\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1920\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Echerries\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E960\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Edates\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E400\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Eapples\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ebananas\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Echerries\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E960\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Edates\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E400\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Eapples\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-attr\"\u003Ebananas\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E960\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-attr\"\u003Echerries\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Edates\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E400\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Eapples\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-attr\"\u003Ebananas\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E480\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-attr\"\u003Echerries\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Edates\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E400\u003C\u002Fspan\u003E}\n];\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E stack = d3.stack()\n  .keys([\u003Cspan class=\"hljs-string\"\u003E&#x27;apples&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E&#x27;bananas&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E&#x27;cherries&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E&#x27;dates&#x27;\u003C\u002Fspan\u003E]);\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E series = stack(data);\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EThe data is now an array of values. The \u003Ccode\u003Emonth\u003C\u002Fcode\u003E values you can&#39;t see because sneakily stashes them as a property on the array, accessible as \u003Ccode\u003Ed.data\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E[\n  [[   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E], [   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E], [   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E], [   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E]], \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F apples\u003C\u002Fspan\u003E\n  [[\u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E5760\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3040\u003C\u002Fspan\u003E], [ \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E], [ \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-number\"\u003E800\u003C\u002Fspan\u003E]], \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F bananas\u003C\u002Fspan\u003E\n  [[\u003Cspan class=\"hljs-number\"\u003E5760\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E6720\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E3040\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E4000\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2240\u003C\u002Fspan\u003E], [ \u003Cspan class=\"hljs-number\"\u003E800\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E]], \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F cherries\u003C\u002Fspan\u003E\n  [[\u003Cspan class=\"hljs-number\"\u003E6720\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E7120\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E4000\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E4400\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E2240\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2640\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1840\u003C\u002Fspan\u003E]]  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F dates\u003C\u002Fspan\u003E\n]\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EThe x- and y-accessors would then look like this:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E [\u003Cspan class=\"hljs-attr\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003E1\u003C\u002Fspan\u003E] }\n  \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ed\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E d.data.month }\n&gt;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003ECalls to \u003Ccode\u003Ex(dataRow)\u003C\u002Fcode\u003E in this scenario will return the two-value array. Calls to \u003Ccode\u003ExGet(dataRow)\u003C\u002Fcode\u003E will return a two-value array, mapped through the \u003Ca href=\"\u002Fguide#xscale\"\u003ExScale\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"y\"\u003Ey \u003Ccode\u003EString|Function|Array\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#y\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#x\"\u003Ex\u003C\u002Fa\u003E but for the y dimension.\u003C\u002Fp\u003E\n\u003Ch3 id=\"z\"\u003Ez \u003Ccode\u003EString|Function|Array\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#z\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#x\"\u003Ex\u003C\u002Fa\u003E but for the z dimension.\u003C\u002Fp\u003E\n\u003Ch3 id=\"r\"\u003Er \u003Ccode\u003EString|Function|Array\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#r\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#x\"\u003Ex\u003C\u002Fa\u003E but for the r dimension.\u003C\u002Fp\u003E\n\u003Ch3 id=\"padding\"\u003Epadding \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#padding\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EAn object that can specify \u003Ccode\u003Etop\u003C\u002Fcode\u003E, \u003Ccode\u003Eright\u003C\u002Fcode\u003E, \u003Ccode\u003Ebottom\u003C\u002Fcode\u003E, or \u003Ccode\u003Eleft\u003C\u002Fcode\u003E padding in pixels. Any unspecified values are filled in as \u003Ccode\u003E0\u003C\u002Fcode\u003E. Padding operates like CSS \u003Ccode\u003Ebox-sizing: border-box;\u003C\u002Fcode\u003E where values are subtracted from the parent container&#39;s width and height, the same as \u003Ca href=\"https:\u002F\u002Fbl.ocks.org\u002Fmbostock\u002F3019563\"\u003Ea D3 margin convention\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Epadding\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E { \u003Cspan class=\"hljs-attr\"\u003Etop:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E20\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Eright:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E10\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ebottom:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Eleft:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E0\u003C\u002Fspan\u003E } }\n  \u002F\u002F \u003Cspan class=\"hljs-attr\"\u003Eequivalent\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eto...\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Epadding\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E { \u003Cspan class=\"hljs-attr\"\u003Etop:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E20\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Eright:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E10\u003C\u002Fspan\u003E } }\n&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cblockquote\u003E\n\u003Cp\u003EAnother way to set padding is to add it via normal CSS on your target div. The target element is assigned CSS of \u003Ccode\u003Ebox-sizing: border-box;\u003C\u002Fcode\u003E so padding settings won&#39;t affect the width or height. If you set any padding via CSS, the padding object will be ignored.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch3 id=\"xscale\"\u003ExScale \u003Ccode\u003E\u003Cspan class=\"function\"\u003Ed3.\u003C\u002Fspan\u003EscaleLinear\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#xscale\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe D3 scale that should be used for the x-dimension. Pass in an instantiated D3 scale if you want to override the default \u003Ccode\u003Ed3.scaleLinear()\u003C\u002Fcode\u003E or you want to add extra options.\u003C\u002Fp\u003E\n\u003Cp\u003ESee the \u003Ca href=\"\u002Fexample\u002FColumn\"\u003EColumn chart\u003C\u002Fa\u003E for an example of passing in a \u003Ccode\u003Ed3.scaleBand()\u003C\u002Fcode\u003E to override the default.\u003C\u002Fp\u003E\n\u003Ch3 id=\"yscale\"\u003EyScale \u003Ccode\u003E\u003Cspan class=\"function\"\u003Ed3.\u003C\u002Fspan\u003EscaleLinear\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#yscale\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xscale\"\u003ExScale\u003C\u002Fa\u003E but for the y scale. The default is \u003Ccode\u003Ed3.scaleLinear()\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"zscale\"\u003EzScale \u003Ccode\u003E\u003Cspan class=\"function\"\u003Ed3.\u003C\u002Fspan\u003EscaleLinear\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#zscale\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xscale\"\u003ExScale\u003C\u002Fa\u003E but for the z scale. The default is \u003Ccode\u003Ed3.scaleLinear()\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rscale\"\u003ErScale \u003Ccode\u003E\u003Cspan class=\"function\"\u003Ed3.\u003C\u002Fspan\u003EscaleSqrt\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#rscale\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xscale\"\u003ExScale\u003C\u002Fa\u003E but for the r scale. The default is \u003Ccode\u003Ed3.scaleSqrt()\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"xdomain\"\u003ExDomain \u003Ccode\u003EArray:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#xdomain\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESet a min or max on the x scale. If you want to inherit the value from the data&#39;s extent, set that value to \u003Ccode\u003Enull\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003ExDomain\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E [\u003Cspan class=\"hljs-attr\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003E100\u003C\u002Fspan\u003E] } \u002F\u002F \u003Cspan class=\"hljs-attr\"\u003EFixes\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ethe\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Escale\u003C\u002Fspan\u003E&#x27;\u003Cspan class=\"hljs-attr\"\u003Es\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Edomain\u003C\u002Fspan\u003E\n  \u002F\u002F \u003Cspan class=\"hljs-attr\"\u003Eor..\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003ExDomain\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E [\u003Cspan class=\"hljs-attr\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Enull\u003C\u002Fspan\u003E] } \u002F\u002F \u003Cspan class=\"hljs-attr\"\u003EFixes\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ethe\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Emin\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ebut\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eallows\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ethe\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Emax\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eto\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ebe\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ewhatever\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eis\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ein\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ethe\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Edata\u003C\u002Fspan\u003E\n&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"ydomain\"\u003EyDomain \u003Ccode\u003EArray:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#ydomain\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xdomain\"\u003ExDomain\u003C\u002Fa\u003E but for the y scale.\u003C\u002Fp\u003E\n\u003Ch3 id=\"zdomain\"\u003EzDomain \u003Ccode\u003EArray:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#zdomain\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xdomain\"\u003ExDomain\u003C\u002Fa\u003E but for the z scale.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rdomain\"\u003ErDomain \u003Ccode\u003EArray:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#rdomain\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xdomain\"\u003ExDomain\u003C\u002Fa\u003E but for the r scale.\u003C\u002Fp\u003E\n\u003Ch3 id=\"xreverse\"\u003ExReverse \u003Ccode\u003EBoolean=false\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#xreverse\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EReverse the default x domain. By default this is \u003Ccode\u003Efalse\u003C\u002Fcode\u003E and the domain is \u003Ccode\u003E[0, width]\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EThis is ignored if you set \u003Ca href=\"\u002Fguide#xRange\"\u003ExRange\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"yreverse\"\u003EyReverse \u003Ccode\u003EBoolean=true\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#yreverse\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EReverse the default y domain. By default this is \u003Ccode\u003Etrue\u003C\u002Fcode\u003E and the domain is \u003Ccode\u003E[height, 0]\u003C\u002Fcode\u003E.\nReverse the default x domain. By default this is \u003Ccode\u003Efalse\u003C\u002Fcode\u003E and the domain is \u003Ccode\u003E[0, width]\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EThis is ignored if you set \u003Ca href=\"\u002Fguide#yRange\"\u003EyRange\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"zreverse\"\u003EzReverse \u003Ccode\u003EBoolean=false\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#zreverse\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EReverse the default z domain. By default this is \u003Ccode\u003Efalse\u003C\u002Fcode\u003E and the domain is \u003Ccode\u003E[0, width]\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EThis is ignored if you set \u003Ca href=\"\u002Fguide#zRange\"\u003EzRange\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rreverse\"\u003ErReverse \u003Ccode\u003EBoolean=false\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#rreverse\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EReverse the default r domain. By default this is \u003Ccode\u003Efalse\u003C\u002Fcode\u003E and the domain is \u003Ccode\u003E[1, 25]\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EThis is ignored if you set \u003Ca href=\"\u002Fguide#rRange\"\u003ErRange\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"xrange\"\u003ExRange \u003Ccode\u003EFunction|Array:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#xrange\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EOverride the default y range of \u003Ccode\u003E[0, width]\u003C\u002Fcode\u003E by setting it here to an array or function with argument \u003Ccode\u003E({ width, height})\u003C\u002Fcode\u003E that returns an array.\u003C\u002Fp\u003E\n\u003Cp\u003EThis overrides setting \u003Ca href=\"\u002Fguide#xreverse\"\u003ExReverse\u003C\u002Fa\u003E to \u003Ccode\u003Etrue\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003ExRange\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E [\u003Cspan class=\"hljs-attr\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003E100\u003C\u002Fspan\u003E] }\n&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EIt can also be a function:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003ExRange\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E ({ \u003Cspan class=\"hljs-attr\"\u003Ewidth\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Eheight\u003C\u002Fspan\u003E }) =&gt;\u003C\u002Fspan\u003E [0, width \u002F 2] }\n&gt;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"yrange\"\u003EyRange \u003Ccode\u003EFunction|Array:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#yrange\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xrange\"\u003ExRange\u003C\u002Fa\u003E but for the y scale. Override the default y range of \u003Ccode\u003E[0, height]\u003C\u002Fcode\u003E by setting it here to an array or function with argument \u003Ccode\u003E({ width, height})\u003C\u002Fcode\u003E that returns an array.\u003C\u002Fp\u003E\n\u003Cp\u003EThis overrides setting \u003Ca href=\"\u002Fguide#yreverse\"\u003EyReverse\u003C\u002Fa\u003E to \u003Ccode\u003Etrue\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"zrange\"\u003EzRange \u003Ccode\u003EFunction|Array:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#zrange\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xrange\"\u003ExRange\u003C\u002Fa\u003E but for the z scale. Override the default z range of \u003Ccode\u003E[0, width]\u003C\u002Fcode\u003E by setting it here to an array or function with argument \u003Ccode\u003E({ width, height})\u003C\u002Fcode\u003E that returns an array.\u003C\u002Fp\u003E\n\u003Cp\u003EThis overrides setting \u003Ca href=\"\u002Fguide#zreverse\"\u003EzReverse\u003C\u002Fa\u003E to \u003Ccode\u003Etrue\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rrange\"\u003ErRange \u003Ccode\u003EFunction|Array:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#rrange\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xrange\"\u003ExRange\u003C\u002Fa\u003E but for the r scale. Override the default y range of \u003Ccode\u003E[1, 25]\u003C\u002Fcode\u003E by setting it here to an array or function with argument \u003Ccode\u003E({ width, height})\u003C\u002Fcode\u003E that returns an array. The r scale defaults to \u003Ccode\u003Ed3.scaleSqrt\u003C\u002Fcode\u003E so make sure you don&#39;t use a zero in your range.\u003C\u002Fp\u003E\n\u003Cp\u003EThis overrides setting \u003Ca href=\"\u002Fguide#rreverse\"\u003ErReverse\u003C\u002Fa\u003E to \u003Ccode\u003Etrue\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"xpadding\"\u003ExPadding \u003Ccode\u003EArray:[leftPixels: Number, rightPixels: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#xpadding\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EAssign a pixel value to add to the min or max of the x scale. This will increase the scales domain by the scale unit equivalent of the provided pixels. This is useful for adding extra space to a scatter plot so that your circles don&#39;t interfere with your y-axis. It&#39;s better than fussing with the range since you don&#39;t need to add a magic number to other components, like axes.\u003C\u002Fp\u003E\n\u003Cp\u003EIt will log out a warning if you try to use it on a scale that has a domain or range that isn&#39;t two items, such as with ordinal scales.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003ExPadding\u003C\u002Fspan\u003E= \u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E [\u003Cspan class=\"hljs-attr\"\u003E10\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003E10\u003C\u002Fspan\u003E] } \u002F\u002F \u003Cspan class=\"hljs-attr\"\u003EAdd\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eten\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Epixels\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eof\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Edata\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eunits\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eto\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eboth\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Esides\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eof\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ethe\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Escale\u003C\u002Fspan\u003E&#x27;\u003Cspan class=\"hljs-attr\"\u003Es\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Edomain\u003C\u002Fspan\u003E\n&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"ypadding\"\u003EyPadding \u003Ccode\u003EArray:[leftPixels: Number, rightPixels: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#ypadding\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xpadding\"\u003ExPadding\u003C\u002Fa\u003E but for the y domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"zpadding\"\u003EzPadding \u003Ccode\u003EArray:[leftPixels: Number, rightPixels: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#zpadding\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xpadding\"\u003ExPadding\u003C\u002Fa\u003E but for the z domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rpadding\"\u003ErPadding \u003Ccode\u003EArray:[leftPixels: Number, rightPixels: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#rpadding\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xpadding\"\u003ExPadding\u003C\u002Fa\u003E but for the r domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"xnice\"\u003ExNice \u003Ccode\u003EBoolean=false\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#xnice\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EApplies D3&#39;s \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fd3\u002Fd3-scale#continuous_nice\"\u003Escale.nice()\u003C\u002Fa\u003E to the x domain. This is a separate option instead of being one you can apply to a passed in scale because D3&#39;s &quot;nice&quot; transformation only works on existing domains and does not use a state to be able to tell if your existing scale wants to be nice.\u003C\u002Fp\u003E\n\u003Ch3 id=\"ynice\"\u003EyNice \u003Ccode\u003EBoolean=false\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#ynice\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xnice\"\u003ExNice\u003C\u002Fa\u003E but for the y domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"znice\"\u003EzNice \u003Ccode\u003EBoolean=false\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#znice\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xnice\"\u003ExNice\u003C\u002Fa\u003E but for the z domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rnice\"\u003ErNice \u003Ccode\u003EBoolean=false\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#rnice\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xnice\"\u003ExNice\u003C\u002Fa\u003E but for the r domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"extents\"\u003Eextents \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#extents\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EManually set the extents of the x, y or r scale as a two-dimensional array of the min and max you want. Setting values here will skip any dynamic extent calculation of the data for that dimension.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Eextents\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{{\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ex:\u003C\u002Fspan\u003E [\u003Cspan class=\"hljs-attr\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003E100\u003C\u002Fspan\u003E], \u003Cspan class=\"hljs-attr\"\u003Ey:\u003C\u002Fspan\u003E [\u003Cspan class=\"hljs-attr\"\u003E50\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003E100\u003C\u002Fspan\u003E] }}\n&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"flatdata\"\u003EflatData \u003Ccode\u003EArray\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#flatdata\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EIn order for Layer Cake to measure the extents of your data, it needs a flat array of items that the x, y and r accessors can find. If your data is not flat (often the case if your renderers prefer a nested format), you can tell it to measure extents against a flat version. This \u003Cem\u003Ewill not\u003C\u002Fem\u003E change the shape of the data that gets passed to components — it is only for extent calculation.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003EThe library also exports a flattening function to handle common use cases if you need to flatten your data and you don&#39;t already have a flat version. See the \u003Ca href=\"\u002Fguide#flatten\"\u003Eflatten\u003C\u002Fa\u003E helper function for more info.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EHere&#39;s an example showing passing different data formats for extent calculation versus what is used by layer components.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { LayerCake } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;LayerCake&#x27;\u003C\u002Fspan\u003E;\n\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E data = [\n    {\n      \u003Cspan class=\"hljs-attr\"\u003Ekey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;apples&#x27;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Evalues\u003C\u002Fspan\u003E: [{\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;2015-03-01&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E}, ...]\n    },\n    {\n      \u003Cspan class=\"hljs-attr\"\u003Ekey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;bananas&#x27;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Evalues\u003C\u002Fspan\u003E: [{\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;2015-03-01&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1920\u003C\u002Fspan\u003E}, ...]\n    },\n  ];\n\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E flatData = [\n    {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;2015-03-01&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;apples&#x27;\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;2015-02-01&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;apples&#x27;\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;2015-01-01&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E:  \u003Cspan class=\"hljs-string\"\u003E&#x27;apples&#x27;\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;2015-00-01&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E:  \u003Cspan class=\"hljs-string\"\u003E&#x27;apples&#x27;\u003C\u002Fspan\u003E},\n\n    {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;2015-03-01&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1920\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;bananas&#x27;\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;2015-02-01&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;bananas&#x27;\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;2015-01-01&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E960\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E:  \u003Cspan class=\"hljs-string\"\u003E&#x27;bananas&#x27;\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;2015-00-01&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E480\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E:  \u003Cspan class=\"hljs-string\"\u003E&#x27;bananas&#x27;\u003C\u002Fspan\u003E}\n  ];\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"css\"\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n    The wrapper div needs to have an explicit width and height in CSS.\n    It can also be a flexbox child or CSS grid element.\n    The point being it needs dimensions since the &lt;LayerCake&gt; element will\n    expand to fill it.\n  *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-selector-class\"\u003E.chart-container\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-attribute\"\u003Ewidth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E100%\u003C\u002Fspan\u003E;\n    \u003Cspan class=\"hljs-attribute\"\u003Eheight\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E300px\u003C\u002Fspan\u003E;\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;chart-container&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;month&#x27;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;value&#x27;\u003C\u002Fspan\u003E\n    {\u003Cspan class=\"hljs-attr\"\u003Edata\u003C\u002Fspan\u003E}\n    {\u003Cspan class=\"hljs-attr\"\u003EflatData\u003C\u002Fspan\u003E}\n  &gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-comment\"\u003E&lt;!-- Components go here --&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"ssr\"\u003Essr \u003Ccode\u003EBoolean=false\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#ssr\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESet whether this chart should be rendered server side. This is best used in conjunction with the \u003Ca href=\"guide#scaledsvg\"\u003EScaledSvg\u003C\u002Fa\u003E component or HTML components that are set to use percentage scales since you won&#39;t know the size of the container at render time.\u003C\u002Fp\u003E\n\u003Cp\u003EUse it in conjunction with \u003Ca href=\"guide#percentrange\"\u003E\u003Ccode\u003EpercentRange={true}\u003C\u002Fcode\u003E\u003C\u002Fa\u003E to easily set up your scales for a percent coordinate systems.\u003C\u002Fp\u003E\n\u003Ch3 id=\"percentrange\"\u003EpercentRange \u003Ccode\u003EBoolean=false\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#percentrange\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EWhen rendering charts server side, you pretty much always want your scale range to be \u003Ccode\u003E[0, 100]\u003C\u002Fcode\u003E since you won&#39;t be able to base the range off of the target container&#39;s width. Use this convenience helper to set the min and max to be out of a hundred.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003EThe default range for the y-scale will be \u003Ccode\u003E[100, 0]\u003C\u002Fcode\u003E because \u003Ccode\u003EyReverse\u003C\u002Fcode\u003E defaults to \u003Ccode\u003Etrue\u003C\u002Fcode\u003E. All of the range reverse functions will work as usual with this.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch3 id=\"position\"\u003Eposition \u003Ccode\u003EString=&#39;relative&#39;\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#position\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EDetermine the positioning of the wrapper div. Set this to \u003Ccode\u003E&#39;absolute&#39;\u003C\u002Fcode\u003E when you want to stack two \u003Ccode\u003E&lt;LayerCake&gt;\u003C\u002Fcode\u003E components on top of one another, such as when you have one that is server-side rendered and one client side like in the \u003Ca href=\"\u002Fexample-ssr\u002FColumn\"\u003EAnnotated column\u003C\u002Fa\u003E example.\u003C\u002Fp\u003E\n\u003Ch3 id=\"custom\"\u003Ecustom \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#custom\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EAny extra configuration values you want available on the LayerCake context. This could be useful for color lookups or additional constants.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Ecustom\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E { \u003Cspan class=\"hljs-attr\"\u003Esize:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E10\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Enames:\u003C\u002Fspan\u003E [&#x27;\u003Cspan class=\"hljs-attr\"\u003Ea\u003C\u002Fspan\u003E&#x27;, &#x27;\u003Cspan class=\"hljs-attr\"\u003Eb\u003C\u002Fspan\u003E&#x27;, &#x27;\u003Cspan class=\"hljs-attr\"\u003Ec\u003C\u002Fspan\u003E&#x27;] } }\n&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E",metadata:{title:"LayerCake props"},subsections:[{slug:f,title:f},{slug:a,title:a},{slug:b,title:b},{slug:c,title:c},{slug:d,title:d},{slug:g,title:g},{slug:"xscale",title:"xScale"},{slug:"yscale",title:"yScale"},{slug:"zscale",title:"zScale"},{slug:"rscale",title:"rScale"},{slug:"xdomain",title:h},{slug:"ydomain",title:i},{slug:"zdomain",title:j},{slug:"rdomain",title:k},{slug:"xreverse",title:"xReverse"},{slug:"yreverse",title:"yReverse"},{slug:"zreverse",title:"zReverse"},{slug:"rreverse",title:"rReverse"},{slug:"xrange",title:l},{slug:"yrange",title:m},{slug:"zrange",title:n},{slug:"rrange",title:o},{slug:"xpadding",title:"xPadding"},{slug:"ypadding",title:"yPadding"},{slug:"zpadding",title:"zPadding"},{slug:"rpadding",title:"rPadding"},{slug:"xnice",title:"xNice"},{slug:"ynice",title:"yNice"},{slug:"znice",title:"zNice"},{slug:"rnice",title:"rNice"},{slug:e,title:e},{slug:"flatdata",title:"flatData"},{slug:p,title:p},{slug:"percentrange",title:"percentRange"},{slug:q,title:q},{slug:r,title:r}],slug:"layercake-props",file:"02-layercake-props.md"},{html:"\u003Cp\u003EIn addition to the values you set on the LayerCake component, additional properties are computed and exposed on the context.\u003C\u002Fp\u003E\n\u003Ch3 id=\"activegetters\"\u003EactiveGetters \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#activegetters\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EAn object that has a key for each dimension of data you have provided an accessor key for and a value that is the accessor function. This used internally but it&#39;s exposed here in case it&#39;s useful.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E{\n  x: &#x27;&lt;function&gt;&#x27;,\n  y: &#x27;&lt;function&gt;&#x27;,\n  z: &#x27;&lt;function&gt;&#x27;,\n  r: &#x27;&lt;function&gt;\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"aspectratio\"\u003EaspectRatio \u003Ccode\u003ENumber\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#aspectratio\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe aspect ratio of the chart, \u003Ccode\u003Ewidth \u002F height\u003C\u002Fcode\u003E. This is also exposed as a variable on the Layer Cake slot so you can access it with \u003Ccode\u003Elet:aspectRatio\u003C\u002Fcode\u003E. For example, you could use it to selectively display some components over others:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Elet:aspectRatio\u003C\u002Fspan\u003E\n&gt;\u003C\u002Fspan\u003E\n  {#if aspectRatio &gt; 1}\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayoutOne\u003C\u002Fspan\u003E\u002F&gt;\u003C\u002Fspan\u003E\n  {:else}\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayoutTwo\u003C\u002Fspan\u003E\u002F&gt;\u003C\u002Fspan\u003E\n  {\u002Fif}\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"box\"\u003Ebox \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#box\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EA bounding box object of the parent container with \u003Ccode\u003Etop\u003C\u002Fcode\u003E, \u003Ccode\u003Eright\u003C\u002Fcode\u003E, \u003Ccode\u003Ebottom\u003C\u002Fcode\u003E, \u003Ccode\u003Eleft\u003C\u002Fcode\u003E, \u003Ccode\u003Ewidth\u003C\u002Fcode\u003E and \u003Ccode\u003Eheight\u003C\u002Fcode\u003E numbers in pixels. Useful for creating tooltips.\u003C\u002Fp\u003E\n\u003Ch3 id=\"config\"\u003Econfig \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#config\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EA copy of some of the config properties set on the \u003Ccode\u003E&lt;LayerCake&gt;\u003C\u002Fcode\u003E component.\u003C\u002Fp\u003E\n\u003Cp\u003ESome of these properties get changed by the time they end up on the context object. For example, the \u003Ca href=\"\u002Fguide#x\"\u003Ex\u003C\u002Fa\u003E, \u003Ca href=\"\u002Fguide#y\"\u003Ey\u003C\u002Fa\u003E, \u003Ca href=\"\u002Fguide#z\"\u003Ez\u003C\u002Fa\u003E and \u003Ca href=\"\u002Fguide#r\"\u003Er\u003C\u002Fa\u003E LayerCake properties can be strings or arrays but when they&#39;re exposed on the context as compued values, they are always a function. Sometimes, it&#39;s useful to refer to those original props such as in the \u003Ca href=\"\u002Fexample\u002FClevelandDotPlot\"\u003ECleveland Dot Plot example\u003C\u002Fa\u003E, which uses the x accessor shorthand of providing a list of keys.\u003C\u002Fp\u003E\n\u003Cp\u003EOr, \u003Ca href=\"\u002Fguide#xdomain\"\u003ExDomain\u003C\u002Fa\u003E and the other domain props can be used to set manual limits on the min or max of the domain scale. This can be different from what gets set on the context \u003Ca href=\"\u002Fguide#xdomain\"\u003ExDomain\u003C\u002Fa\u003E if the prop value contained any \u003Ccode\u003Enull\u003C\u002Fcode\u003E values. If you want to refer to the original value for any reason, it&#39;s set on this object.\u003C\u002Fp\u003E\n\u003Cp\u003EHaving access to this field can help you not repeat yourself in specifying things twice or in scenarios where Layer Cake is doing a transformation on that original value, like in accessors or domain inputs, and you want to know about the original value.\u003C\u002Fp\u003E\n\u003Ch3 id=\"containerwidth\"\u003EcontainerWidth \u003Ccode\u003ENumber\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#containerwidth\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe width of the parent container, the div element that contains the \u003Ccode\u003E&lt;LayerCake&gt;\u003C\u002Fcode\u003E component. This is also exposed as a variable on the Layer Cake slot so you can access it with \u003Ccode\u003Elet:containerWidth\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"containerheight\"\u003EcontainerHeight \u003Ccode\u003ENumber\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#containerheight\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe height of the parent container, the div element that contains the \u003Ccode\u003E&lt;LayerCake&gt;\u003C\u002Fcode\u003E component. This is also exposed as a variable on the Layer Cake slot so you can access it with \u003Ccode\u003Elet:containerHeight\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"extents-1\"\u003Eextents \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#extents-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EAn object containing a key for x, y or r (if any are set), whose value is two-value array representing the min and max values for that field in the data.\u003C\u002Fp\u003E\n\u003Cp\u003EThis value could differ from the domain of your scale if you are manually setting a limit on your scale by setting any of the \u003Ccode\u003ExDomain\u003C\u002Fcode\u003E, \u003Ccode\u003EyDomain\u003C\u002Fcode\u003E, \u003Ccode\u003EzDomain\u003C\u002Fcode\u003E or \u003Ccode\u003ErDomain\u003C\u002Fcode\u003E settings. This is used internally to set domain things but it&#39;s also useful as a reference if you want to toggle between an arbitrary domain and the measured extents of the data, such as in the \u003Ca href=\"\u002Fexample\u002FSmallMultiples\"\u003Esmall multiples example\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E{\n  \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: [\u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E235\u003C\u002Fspan\u003E],\n  \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: [\u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E80\u003C\u002Fspan\u003E],\n  \u003Cspan class=\"hljs-attr\"\u003Ez\u003C\u002Fspan\u003E: [\u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E90\u003C\u002Fspan\u003E],\n  \u003Cspan class=\"hljs-attr\"\u003Er\u003C\u002Fspan\u003E: [\u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E35\u003C\u002Fspan\u003E]\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"width\"\u003Ewidth \u003Ccode\u003ENumber\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#width\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe width of the drawable space for the chart. This is the width of the parent container taking into account any margin. This is also exposed as a variable on the Layer Cake slot so you can access it with \u003Ccode\u003Elet:width\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"height\"\u003Eheight \u003Ccode\u003ENumber\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#height\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe width of the drawable space for the chart. This is the height of the parent container taking into account any margin. This is also exposed as a variable on the Layer Cake slot so you can access it with \u003Ccode\u003Elet:height\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"x-1\"\u003Ex \u003Ccode\u003EFunction\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#x-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe x accessor. This will always be a function regardless of whether you passed in a string or an array as a prop. If you passed in an array, it will return an array of equal length.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E&lt;LayerCake\n  x=&#x27;x&#x27;\n  &lt;!-- equivalent to --&gt;\n  x={ d =&gt; d.x }\n&gt;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { getContext } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;svelte&#x27;\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { data, x, y } = getContext(\u003Cspan class=\"hljs-string\"\u003E&#x27;LayerCake&#x27;\u003C\u002Fspan\u003E);\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n{#each $data as d}\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ecircle\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Ecx\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;{$xScale($x(d))}&quot;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Ecy\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;{$yScale($y(d))}&quot;\u003C\u002Fspan\u003E\n  \u002F&gt;\u003C\u002Fspan\u003E\n{\u002Feach}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"y-1\"\u003Ey \u003Ccode\u003EFunction\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#y-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#x-1\"\u003Ex\u003C\u002Fa\u003E but for the y dimension.\u003C\u002Fp\u003E\n\u003Ch3 id=\"z-1\"\u003Ez \u003Ccode\u003EFunction\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#z-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#x-1\"\u003Ex\u003C\u002Fa\u003E but for the z dimension.\u003C\u002Fp\u003E\n\u003Ch3 id=\"r-1\"\u003Er \u003Ccode\u003EFunction\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#r-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#x-1\"\u003Ex\u003C\u002Fa\u003E but for the r dimension.\u003C\u002Fp\u003E\n\u003Ch3 id=\"xdomain-1\"\u003ExDomain \u003Ccode\u003EArray:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#xdomain-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe calculated extent of the x-dimension of the data. This is the extent of the data taking into account any manual settings passed in for \u003Ca href=\"\u002Fguide#xdomain\"\u003ExDomain\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EFor example, if the extent of the data is \u003Ccode\u003E[10, 100]\u003C\u002Fcode\u003E and you set the xDomain prop to \u003Ccode\u003E[0, null]\u003C\u002Fcode\u003E, the xDomain on the context value is \u003Ccode\u003E[0, 100]\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EIt&#39;s equivalent to calling \u003Ccode\u003E$xScale.domain()\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"ydomain-1\"\u003EyDomain \u003Ccode\u003EArray:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#ydomain-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xdomain-1\"\u003ExDomain\u003C\u002Fa\u003E above but for the y domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"zdomain-1\"\u003EzDomain \u003Ccode\u003EArray:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#zdomain-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xdomain-1\"\u003ExDomain\u003C\u002Fa\u003E above but for the z domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rdomain-1\"\u003ErDomain \u003Ccode\u003EArray:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#rdomain-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xdomain-1\"\u003ExDomain\u003C\u002Fa\u003E above but for the r domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"xrange-1\"\u003ExRange \u003Ccode\u003EArray:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#xrange-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe range used for the x-scale. This is usually \u003Ccode\u003E[0, width]\u003C\u002Fcode\u003E unless it&#39;s been manually set via the \u003Ca href=\"\u002Fguide#xrange\"\u003ExRange\u003C\u002Fa\u003E prop.\u003C\u002Fp\u003E\n\u003Cp\u003EIt&#39;s equivalent to calling \u003Ccode\u003E$xScale.range()\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"yrange-1\"\u003EyRange \u003Ccode\u003EArray:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#yrange-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xrange-1\"\u003ExRange\u003C\u002Fa\u003E above but for the y domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"zrange-1\"\u003EzRange \u003Ccode\u003EArray:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#zrange-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xrange-1\"\u003ExRange\u003C\u002Fa\u003E above but for the z domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rrange-1\"\u003ErRange \u003Ccode\u003EArray:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#rrange-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xrange-1\"\u003ExRange\u003C\u002Fa\u003E above but for the r domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"xget\"\u003ExGet\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Ed: \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#xget\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EOften you want to get the x value from a row in your data and scale it like so: \u003Ccode\u003E$xScale($x(d))\u003C\u002Fcode\u003E. This function is shorthand for doing just that. Super handy!\u003C\u002Fp\u003E\n\u003Cp\u003EHere&#39;s an example from a simple SVG line path generator:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { getContext } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;svelte&#x27;\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { data, xGet, yGet } = getContext(\u003Cspan class=\"hljs-string\"\u003E&#x27;LayerCake&#x27;\u003C\u002Fspan\u003E);\n\n$: path=  \u003Cspan class=\"hljs-string\"\u003E&#x27;M&#x27;\u003C\u002Fspan\u003E + $data\n  .map(\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Ed\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E $xGet(d) + \u003Cspan class=\"hljs-string\"\u003E&#x27;,&#x27;\u003C\u002Fspan\u003E + $yGet(d);\n  })\n  .join(\u003Cspan class=\"hljs-string\"\u003E&#x27;L&#x27;\u003C\u002Fspan\u003E);\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"yget\"\u003EyGet\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Ed: \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#yget\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xget\"\u003ExGet\u003C\u002Fa\u003E but for the y scale.\u003C\u002Fp\u003E\n\u003Ch3 id=\"zget\"\u003EzGet\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Ed: \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#zget\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xget\"\u003ExGet\u003C\u002Fa\u003E but for the z scale.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rget\"\u003ErGet\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Ed: \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#rget\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xget\"\u003ExGet\u003C\u002Fa\u003E but for the r scale.\u003C\u002Fp\u003E\n\u003Ch3 id=\"xscale-1\"\u003ExScale\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Ed: \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#xscale-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe calculated scale for the x dimension.\u003C\u002Fp\u003E\n\u003Ch3 id=\"yscale-1\"\u003EyScale\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Ed: \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#yscale-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as the above but for the y dimension.\u003C\u002Fp\u003E\n\u003Ch3 id=\"zscale-1\"\u003EzScale\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Ed: \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#zscale-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as the above but for the z dimension.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rscale-1\"\u003ErScale\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Ed: \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#rscale-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as the above but for the r dimension.\u003C\u002Fp\u003E\n",metadata:{title:"Computed context values"},subsections:[{slug:"activegetters",title:"activeGetters"},{slug:"aspectratio",title:"aspectRatio"},{slug:s,title:s},{slug:t,title:t},{slug:"containerwidth",title:"containerWidth"},{slug:"containerheight",title:"containerHeight"},{slug:"extents-1",title:e},{slug:u,title:u},{slug:v,title:v},{slug:"x-1",title:a},{slug:"y-1",title:b},{slug:"z-1",title:c},{slug:"r-1",title:d},{slug:"xdomain-1",title:h},{slug:"ydomain-1",title:i},{slug:"zdomain-1",title:j},{slug:"rdomain-1",title:k},{slug:"xrange-1",title:l},{slug:"yrange-1",title:m},{slug:"zrange-1",title:n},{slug:"rrange-1",title:o},{slug:"xget",title:"xGet(...)"},{slug:"yget",title:"yGet(...)"},{slug:"zget",title:"zGet(...)"},{slug:"rget",title:"rGet(...)"},{slug:"xscale-1",title:"xScale(...)"},{slug:"yscale-1",title:"yScale(...)"},{slug:"zscale-1",title:"zScale(...)"},{slug:"rscale-1",title:"rScale(...)"}],slug:"computed-context-values",file:"03-computed-context-values.md"},{html:"\u003Cp\u003ELayer Cake comes with layout components that provide HTML, Svg, ScaledSvg, Canvas and WebGL containers for your custom components.\u003C\u002Fp\u003E\n\u003Cp\u003EYou must wrap your chart components in these layout components for them to appear properly scaled. For Html and Svg components, they create a \u003Ccode\u003E&lt;div&gt;\u003C\u002Fcode\u003E and \u003Ccode\u003E&lt;g&gt;\u003C\u002Fcode\u003E, respectively.\u003C\u002Fp\u003E\n\u003Cp\u003EThe Canvas and WebGL layout components also create canvas contexts that are then available on the LayerCake context object.\u003C\u002Fp\u003E\n\u003Cp\u003EEach of these components also takes props. See the next section \u003Ca href=\"\u002Fguide#layout-component-props\"\u003ELayout component props\u003C\u002Fa\u003E for more info.\u003C\u002Fp\u003E\n\u003Cp\u003EHere are the four layout components: HTML, Svg, ScaledSvg, Canvas and WebGL containers.\u003C\u002Fp\u003E\n\u003Ch3 id=\"html\"\u003EHtml\u003Ca href=\"\u002Fguide#html\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E App.svelte\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { LayerCake, Html } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;layercake&#x27;\u003C\u002Fspan\u003E;\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"css\"\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n    The wrapper div needs to have an explicit width and height in CSS.\n    It can also be a flexbox child or CSS grid element.\n    The point being it needs dimensions since the &lt;LayerCake&gt; element will\n    expand to fill it.\n  *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-selector-class\"\u003E.chart-container\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-attribute\"\u003Ewidth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E100%\u003C\u002Fspan\u003E;\n    \u003Cspan class=\"hljs-attribute\"\u003Eheight\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E300px\u003C\u002Fspan\u003E;\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;chart-container&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E...\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EHtml\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003EzIndex\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{1}\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-comment\"\u003E&lt;!-- Optional z-index --&gt;\u003C\u002Fspan\u003E\n      ...\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003EHtml\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"svg\"\u003ESvg\u003Ca href=\"\u002Fguide#svg\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe SVG layout component also accepts a \u003Ccode\u003EviewBox\u003C\u002Fcode\u003E prop. See the \u003Ca href=\"\u002Fguide#layout-component-props\"\u003ELayout component props\u003C\u002Fa\u003E section for more information.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E App.svelte\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { LayerCake, Svg } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;layercake&#x27;\u003C\u002Fspan\u003E;\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"css\"\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n    The wrapper div needs to have an explicit width and height in CSS.\n    It can also be a flexbox child or CSS grid element.\n    The point being it needs dimensions since the &lt;LayerCake&gt; element will\n    expand to fill it.\n  *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-selector-class\"\u003E.chart-container\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-attribute\"\u003Ewidth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E100%\u003C\u002Fspan\u003E;\n    \u003Cspan class=\"hljs-attribute\"\u003Eheight\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E300px\u003C\u002Fspan\u003E;\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;chart-container&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E...\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003EzIndex\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{2}\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-comment\"\u003E&lt;!-- Optional z-index --&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EThis component also has a \u003Ca href=\"https:\u002F\u002Fsvelte.dev\u002Fdocs#slot_name\"\u003Enamed slot\u003C\u002Fa\u003E for adding elements into the SVG \u003Ccode\u003E&lt;defs&gt;\u003C\u002Fcode\u003E field.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;chart-container&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E...\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n      \u003Cspan class=\"hljs-comment\"\u003E&lt;!-- Add your defs in a named slot here --&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Esvelte:fragment\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eslot\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;defs&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ElinearGradient\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eid\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;myGradient&quot;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003EgradientTransform\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;rotate(90)&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estop\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eoffset\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;20%&quot;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Estop-color\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;gold&quot;\u003C\u002Fspan\u003E \u002F&gt;\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estop\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eoffset\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;90%&quot;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Estop-color\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;red&quot;\u003C\u002Fspan\u003E \u002F&gt;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ElinearGradient\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Esvelte:fragment\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"scaledsvg\"\u003EScaledSvg\u003Ca href=\"\u002Fguide#scaledsvg\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EUse this when you want to render SVGs server side, using Rich Harris&#39;s \u003Ca href=\"https:\u002F\u002Fdev.to\u002Frichharris\u002Fa-new-technique-for-making-responsive-javascript-free-charts-gmp\"\u003EPancake technique\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EIt&#39;s often used in conjunction with props \u003Ccode\u003Essr={true}\u003C\u002Fcode\u003E and \u003Ccode\u003EpercentRange={true}\u003C\u002Fcode\u003E. \u003C\u002Fp\u003E\n\u003Cp\u003EThe ScaledSvg component has two custom props: \u003Ccode\u003EfixedAspectRatio\u003C\u002Fcode\u003E and \u003Ccode\u003EviewBox\u003C\u002Fcode\u003E. See the \u003Ca href=\"\u002Fguide#layout-component-props\"\u003ELayout component props\u003C\u002Fa\u003E section for more information.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E App.svelte\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { LayerCake, ScaledSvg } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;layercake&#x27;\u003C\u002Fspan\u003E;\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"css\"\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n    The wrapper div needs to have an explicit width and height in CSS.\n    It can also be a flexbox child or CSS grid element.\n    The point being it needs dimensions since the &lt;LayerCake&gt; element will\n    expand to fill it.\n  *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-selector-class\"\u003E.chart-container\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-attribute\"\u003Ewidth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E100%\u003C\u002Fspan\u003E;\n    \u003Cspan class=\"hljs-attribute\"\u003Eheight\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E300px\u003C\u002Fspan\u003E;\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;chart-container&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Essr\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{true}\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003EpercentRange\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{true}\u003C\u002Fspan\u003E\n  &gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EScaledSvg\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003EfixedAspectRatio\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{16\u002F9}\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-comment\"\u003E&lt;!-- Optional fixed aspect ratio --&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003EScaledSvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EThis component also has a \u003Ca href=\"https:\u002F\u002Fsvelte.dev\u002Fdocs#slot_name\"\u003Enamed slot\u003C\u002Fa\u003E for adding elements into the SVG \u003Ccode\u003E&lt;defs&gt;\u003C\u002Fcode\u003E field.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;chart-container&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E...\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n      \u003Cspan class=\"hljs-comment\"\u003E&lt;!-- Add your defs in a named slot here --&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Esvelte:fragment\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eslot\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;defs&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ElinearGradient\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eid\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;myGradient&quot;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003EgradientTransform\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;rotate(90)&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estop\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eoffset\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;20%&quot;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Estop-color\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;gold&quot;\u003C\u002Fspan\u003E \u002F&gt;\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estop\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eoffset\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;90%&quot;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Estop-color\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;red&quot;\u003C\u002Fspan\u003E \u002F&gt;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ElinearGradient\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Esvelte:fragment\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"canvas\"\u003ECanvas\u003Ca href=\"\u002Fguide#canvas\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E App.svelte\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { LayerCake, Canvas } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;layercake&#x27;\u003C\u002Fspan\u003E;\n\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E CanvasLayer \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;.\u002Fcomponents\u002FCanvasLayer.svelte&#x27;\u003C\u002Fspan\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"css\"\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n    The wrapper div needs to have an explicit width and height in CSS.\n    It can also be a flexbox child or CSS grid element.\n    The point being it needs dimensions since the &lt;LayerCake&gt; element will\n    expand to fill it.\n  *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-selector-class\"\u003E.chart-container\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-attribute\"\u003Ewidth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E100%\u003C\u002Fspan\u003E;\n    \u003Cspan class=\"hljs-attribute\"\u003Eheight\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E300px\u003C\u002Fspan\u003E;\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;chart-container&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E...\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ECanvas\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003EzIndex\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{3}\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-comment\"\u003E&lt;!-- Optional z-index --&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ECanvasLayer\u003C\u002Fspan\u003E\u002F&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ECanvas\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EIn the component, you access the canvas context with \u003Ccode\u003Econst { ctx } = getContext(&#39;canvas&#39;);\u003C\u002Fcode\u003E. This value is on a different context from the \u003Ccode\u003EgetContext(&#39;LayerCake&#39;)\u003C\u002Fcode\u003E one because you could have multiple canvas layers and there wouldn&#39;t be an easy way to grab the right one. This way, the component always has access to just its parent Canvas component.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003ESince the \u003Ccode\u003Ectx\u003C\u002Fcode\u003E value is a normal 2d context, the underlying canvas element is accessible under \u003Ccode\u003Ectx.canvas\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EHere&#39;s an example showing a scatter plot.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E .\u002Fcomponents\u002FCanvasLayer.svelte\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { getContext } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;svelte&#x27;\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { scaleCanvas } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;layercake&#x27;\u003C\u002Fspan\u003E;\n\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { data, xGet, yGet, width, height } = getContext(\u003Cspan class=\"hljs-string\"\u003E&#x27;LayerCake&#x27;\u003C\u002Fspan\u003E);\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { ctx } = getContext(\u003Cspan class=\"hljs-string\"\u003E&#x27;canvas&#x27;\u003C\u002Fspan\u003E);\n\n  $: {\n    \u003Cspan class=\"hljs-keyword\"\u003Eif\u003C\u002Fspan\u003E ($ctx) {\n      \u003Cspan class=\"hljs-comment\"\u003E\u002F* --------------------------------------------\n       * If you were to have multiple canvas layers\n       * maybe for some artistic layering purposes\n       * put these reset functions in the first layer, not each one\n       * since they should only run once per update\n       *\u002F\u003C\u002Fspan\u003E\n      scaleCanvas($ctx, $width, $height);\n      $ctx.clearRect(\u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, $width, $height);\n\n      \u003Cspan class=\"hljs-comment\"\u003E\u002F* --------------------------------------------\n       * Draw the scatterplot\n       *\u002F\u003C\u002Fspan\u003E\n      $data.forEach(\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Ed\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E {\n        $ctx.beginPath();\n        $ctx.arc($xGet(d), $yGet(d), \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E * \u003Cspan class=\"hljs-built_in\"\u003EMath\u003C\u002Fspan\u003E.PI, \u003Cspan class=\"hljs-literal\"\u003Efalse\u003C\u002Fspan\u003E);\n        $ctx.fillStyle = \u003Cspan class=\"hljs-string\"\u003E&#x27;#f0c&#x27;\u003C\u002Fspan\u003E;\n        $ctx.fill();\n      });\n    }\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"webgl\"\u003EWebGL\u003Ca href=\"\u002Fguide#webgl\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E App.svelte\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { LayerCake, WebGL } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;layercake&#x27;\u003C\u002Fspan\u003E;\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"css\"\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n    The wrapper div needs to have an explicit width and height in CSS.\n    It can also be a flexbox child or CSS grid element.\n    The point being it needs dimensions since the &lt;LayerCake&gt; element will\n    expand to fill it.\n  *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-selector-class\"\u003E.chart-container\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-attribute\"\u003Ewidth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E100%\u003C\u002Fspan\u003E;\n    \u003Cspan class=\"hljs-attribute\"\u003Eheight\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E300px\u003C\u002Fspan\u003E;\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;chart-container&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E...\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EWebGL\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003EzIndex\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{4}\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-comment\"\u003E&lt;!-- Optional z-index --&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003EWebGL\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EIn the component, you access the canvas context with \u003Ccode\u003Econst { gl } = getContext(&#39;gl&#39;);\u003C\u002Fcode\u003E. This value is on a different context from the \u003Ccode\u003EgetContext(&#39;LayerCake&#39;)\u003C\u002Fcode\u003E one because you could have multiple WebGL layers and there wouldn&#39;t be an easy way to grab the right one.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003ESince the \u003Ccode\u003Egl\u003C\u002Fcode\u003E value is a normal WebGL context, the underlying canvas element is accessible under \u003Ccode\u003Egl.canvas\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003ESee the \u003Ca href=\"\u002Fexample\u002FScatterWebgl\"\u003EWebGL scatter chart\u003C\u002Fa\u003E for a working example.\u003C\u002Fp\u003E\n",metadata:{title:"Layout components"},subsections:[{slug:"html",title:"Html"},{slug:"svg",title:"Svg"},{slug:"scaledsvg",title:"ScaledSvg"},{slug:"canvas",title:"Canvas"},{slug:"webgl",title:"WebGL"}],slug:"layout-components",file:"04-layout-components.md"},{html:"\u003Cp\u003EAll layout components accept the following props:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"guide#zindex-1\"\u003EzIndex\u003C\u002Fa\u003E \u003Ccode\u003ENumber|String\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"guide#pointerevents-1\"\u003EpointerEvents\u003C\u002Fa\u003E \u003Ccode\u003EBoolean\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EThe Svg and ScaledSvg layout components also accept:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"guide#viewbox-1\"\u003EviewBox\u003C\u002Fa\u003E \u003Ccode\u003EString\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EAnd ScaledSvg additionally accepts:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"guide#fixedaspectratio-1\"\u003EfixedAspectRatio\u003C\u002Fa\u003E \u003Ccode\u003ENumber\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EThe WebGL Component accepts:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"guide#contextattributes-1\"\u003EcontextAttributes\u003C\u002Fa\u003E \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EEach layout component also export an \u003Ccode\u003Eelement\u003C\u002Fcode\u003E prop that you can bind to and represents the HTML element that wraps the layout component. These are also available as slot props.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EIn the \u003Ccode\u003EHtml\u003C\u002Fcode\u003E component, \u003Ccode\u003Eelement\u003C\u002Fcode\u003E equals the \u003Ccode\u003E&lt;div&gt;\u003C\u002Fcode\u003E tag.\u003C\u002Fli\u003E\n\u003Cli\u003EIn the \u003Ccode\u003ESvg\u003C\u002Fcode\u003E component, \u003Ccode\u003Eelement\u003C\u002Fcode\u003E equals the \u003Ccode\u003E&lt;svg&gt;\u003C\u002Fcode\u003E tag.\u003C\u002Fli\u003E\n\u003Cli\u003EIn the \u003Ccode\u003EScaledSvg\u003C\u002Fcode\u003E component, \u003Ccode\u003Eelement\u003C\u002Fcode\u003E equals the \u003Ccode\u003E&lt;svg&gt;\u003C\u002Fcode\u003E tag.\u003C\u002Fli\u003E\n\u003Cli\u003EIn the \u003Ccode\u003ECanvas\u003C\u002Fcode\u003E component, \u003Ccode\u003Eelement\u003C\u002Fcode\u003E equals the \u003Ccode\u003E&lt;canvas&gt;\u003C\u002Fcode\u003E tag.\u003C\u002Fli\u003E\n\u003Cli\u003EIn the \u003Ccode\u003EWebGL\u003C\u002Fcode\u003E component, \u003Ccode\u003Eelement\u003C\u002Fcode\u003E equals the \u003Ccode\u003E&lt;canvas&gt;\u003C\u002Fcode\u003E tag.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EThe \u003Ccode\u003ECanvas\u003C\u002Fcode\u003E and the \u003Ccode\u003EWebGL\u003C\u002Fcode\u003E components also export a \u003Ccode\u003Econtext\u003C\u002Fcode\u003E variable that you can bind to and is also available as a slot prop.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EIn the \u003Ccode\u003ECanvas\u003C\u002Fcode\u003E component, \u003Ccode\u003Econtext\u003C\u002Fcode\u003E equals \u003Ccode\u003Eelement.getContext(&#39;2d&#39;)\u003C\u002Fcode\u003E.\u003C\u002Fli\u003E\n\u003Cli\u003EIn the \u003Ccode\u003EWebGL\u003C\u002Fcode\u003E component, \u003Ccode\u003Econtext\u003C\u002Fcode\u003E equals \u003Ccode\u003Eelement.getContext(&#39;webgl&#39;)\u003C\u002Fcode\u003E.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E svgElement;\n \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E canvasElement;\n \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E canvasContext\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E...\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Ebind:element\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{svgElement}\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Elet:element\u003C\u002Fspan\u003E\n  &gt;\u003C\u002Fspan\u003E\n    {console.log(svgElement === element)} \n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ECanvas\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Ebind:element\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{canvasElement}\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Ebind:context\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{canvasContext}\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Elet:element\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Elet:context\u003C\u002Fspan\u003E\n  &gt;\u003C\u002Fspan\u003E\n    {console.log(canvasElement === element)} \n    {console.log(canvasContext === context)} \n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ECanvas\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"zindex\"\u003EzIndex \u003Ccode\u003ENumber|String\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#zindex\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThis lets you fine-tune your layering and is useful if you want your layers to build in a certain order but have a different appearance than their DOM order.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E...\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003EzIndex\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{2}\u003C\u002Fspan\u003E\n  &gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"pointerevents\"\u003EpointerEvents \u003Ccode\u003EBoolean\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#pointerevents\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EUseful for tooltip layers that need to be display above chart elements but not capture mouse events. Defaults to no \u003Ccode\u003Epointer-events\u003C\u002Fcode\u003E CSS being set. Set to \u003Ccode\u003Efalse\u003C\u002Fcode\u003E to set \u003Ccode\u003Epointer-events: none;\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E...\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EHtml\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003EpointerEvents\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{false}\u003C\u002Fspan\u003E\n  &gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003EHtml\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"viewbox\"\u003EviewBox \u003Ccode\u003EString\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#viewbox\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EOn Svg components, this defaults to \u003Ccode\u003Eundefined\u003C\u002Fcode\u003E and \u003Ccode\u003E0 0 100 100\u003C\u002Fcode\u003E for ScaledSvg.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E...\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003EviewBox\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;0 0 100 50&#x27;\u003C\u002Fspan\u003E\n  &gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"fixedaspectratio\"\u003EfixedAspectRatio \u003Ccode\u003ENumber\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#fixedaspectratio\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EFor ScaledSvg components, you can pass in a set aspect ratio. See the \u003Ca href=\"\u002Fexample-ssr\u002FMapSvg\"\u003Eserver-side rendered Map\u003C\u002Fa\u003E for an example.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E...\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EScaledSvg\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003EfixedAspectRatio\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{16\u002F9}\u003C\u002Fspan\u003E\n  &gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003EScaledSvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"contextattributes\"\u003EcontextAttributes \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#contextattributes\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EFor WebGL components, you can pass in an object that gets passed as the second argument to \u003Ccode\u003Ecanvas.getContext()\u003C\u002Fcode\u003E. See the \u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FAPI\u002FHTMLCanvasElement\u002FgetContext\"\u003EWebGL docs\u003C\u002Fa\u003E for more details on what those attributes can be.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E...\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EWebGL\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003EcontextAttributes\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-attr\"\u003Eantialias:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Efalse\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Edepth:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Efalse\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Ealpha:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Efalse\u003C\u002Fspan\u003E\n    }}\n  &gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003EWebGL\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E",metadata:{title:"Layout component props"},subsections:[{slug:"zindex",title:"zIndex"},{slug:"pointerevents",title:"pointerEvents"},{slug:"viewbox",title:"viewBox"},{slug:"fixedaspectratio",title:"fixedAspectRatio"},{slug:"contextattributes",title:"contextAttributes"}],slug:"layout-component-props",file:"05-layout-component-props.md"},{html:"\u003Cp\u003ELayer Cake exposes some commonly-used helper functions. If you don&#39;t use them, they will be tree-shaken so there&#39;s no added bloat!\u003C\u002Fp\u003E\n\u003Ch3 id=\"flatten\"\u003Eflatten\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Edata: \u003Ccode\u003EArray\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#flatten\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EFlatten an array one-level down. Handy for preparing data from stacked layouts whose extents can easily be calculated.\u003C\u002Fp\u003E\n\u003Cp\u003EThis data:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E data = [\n  [{\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E}, {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E}, {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E}],\n  [{\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E}, {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E15\u003C\u002Fspan\u003E}, {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E20\u003C\u002Fspan\u003E}]\n];\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EBecomes this:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { flatten } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;layercake&#x27;\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E flatData = flatten(data);\n\u003Cspan class=\"hljs-comment\"\u003E\u002F*\n  [{x: 0, y: 1}, {x: 1, y: 5}, {x: 2, y: 10},\n   {x: 0, y: 10}, {x: 1, y: 15}, {x: 2, y: 20}]\n*\u002F\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EYou can safely use this function on arrays of arrays of arrays, such as the output from \u003Ccode\u003Ed3.stack()\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E[\n  [[   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E], [   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E], [   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E], [   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E]],\n  [[\u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E5760\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3040\u003C\u002Fspan\u003E], [ \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E], [ \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-number\"\u003E800\u003C\u002Fspan\u003E]],\n  [[\u003Cspan class=\"hljs-number\"\u003E5760\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E6720\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E3040\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E4000\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2240\u003C\u002Fspan\u003E], [ \u003Cspan class=\"hljs-number\"\u003E800\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E]],\n  [[\u003Cspan class=\"hljs-number\"\u003E6720\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E7120\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E4000\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E4400\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E2240\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2640\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1840\u003C\u002Fspan\u003E]]\n]\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EBecomes...\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E[ [ \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E5760\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3040\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E800\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E5760\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E6720\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E3040\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E4000\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2240\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E800\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E6720\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E7120\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E4000\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E4400\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E2240\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2640\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1840\u003C\u002Fspan\u003E ]\n]\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"scalecanvas\"\u003EscaleCanvas\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Ectx: \u003Ccode\u003ECanvas 2d Context\u003C\u002Fcode\u003E, width: \u003Ccode\u003ENumber\u003C\u002Fcode\u003E, height: \u003Ccode\u003ENumber\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#scalecanvas\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EScale your canvas size to retina screens. This function will modify the canvas, if necessary, and return an object with the new \u003Ccode\u003Ewidth\u003C\u002Fcode\u003E and \u003Ccode\u003Eheight\u003C\u002Fcode\u003E as properties.\u003C\u002Fp\u003E\n\u003Cp\u003ESuch as in the \u003Ca href=\"\u002Fexample\u002FScatter\"\u003EScatter canvas\u003C\u002Fa\u003E example:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E Scatter.html\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { getContext } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;svelte&#x27;\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { scaleCanvas } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;layercake&#x27;\u003C\u002Fspan\u003E;\n\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { data, xGet, yGet, width, height } = getContext(\u003Cspan class=\"hljs-string\"\u003E&#x27;LayerCake&#x27;\u003C\u002Fspan\u003E);\n\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { ctx } = getContext(\u003Cspan class=\"hljs-string\"\u003E&#x27;canvas&#x27;\u003C\u002Fspan\u003E);\n\n  \u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E r;\n  \u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E fill;\n\n  $: {\n    \u003Cspan class=\"hljs-keyword\"\u003Eif\u003C\u002Fspan\u003E ($ctx) {\n      \u003Cspan class=\"hljs-comment\"\u003E\u002F* --------------------------------------------\n       * If you were to have multiple canvas layers\n       * maybe for some artistic layering purposes\n       * put these reset functions in the first layer, not each one\n       * since they should only run once per update\n       *\u002F\u003C\u002Fspan\u003E\n      scaleCanvas($ctx, $width, $height);\n      $ctx.clearRect(\u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, $width, $height);\n\n      \u003Cspan class=\"hljs-comment\"\u003E\u002F* --------------------------------------------\n       * Draw our scatterplot\n       *\u002F\u003C\u002Fspan\u003E\n      $data.forEach(\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Ed\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E {\n        $ctx.beginPath();\n        $ctx.arc($xGet(d), $yGet(d), r, \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E * \u003Cspan class=\"hljs-built_in\"\u003EMath\u003C\u002Fspan\u003E.PI, \u003Cspan class=\"hljs-literal\"\u003Efalse\u003C\u002Fspan\u003E);\n        $ctx.fillStyle = fill;\n        $ctx.fill();\n      });\n    }\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"calcextents\"\u003EcalcExtents\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003EflatData: \u003Ccode\u003EArray\u003C\u002Fcode\u003E, fields: \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#calcextents\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ECalculate the extents of any of the keys specified in \u003Cstrong\u003Efields\u003C\u002Fstrong\u003E, which is an object whose keys represent the name of the dimension (\u003Ccode\u003Ex\u003C\u002Fcode\u003E, \u003Ccode\u003Ey\u003C\u002Fcode\u003E, \u003Ccode\u003Ez\u003C\u002Fcode\u003E or \u003Ccode\u003Er\u003C\u002Fcode\u003E) and whose values are an accessor function.\u003C\u002Fp\u003E\n\u003Cp\u003EFor example, calculating the extents for the x and y fields, which are in the data as \u003Ccode\u003EmyX\u003C\u002Fcode\u003E and \u003Ccode\u003EmyY\u003C\u002Fcode\u003E would look like this:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E extents = calcExtents(flatData, {\n  \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Ed\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E d.myX,\n  \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Ed\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E d.myY\n});\n\n\u003Cspan class=\"hljs-built_in\"\u003Econsole\u003C\u002Fspan\u003E.log(extents);\n\u003Cspan class=\"hljs-comment\"\u003E\u002F*\n{\n  x: [0, 10],\n  y: [-20, 20]\n}\n*\u002F\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EReturns an object whose keys are the field names specified as the first item in the key group array followed by an array of \u003Ccode\u003E[min, max]\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EYou can also return an array if you have an object with keys where each one is more logically associated with the min or the max like this:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E timeData = [{ \u003Cspan class=\"hljs-attr\"\u003Estart\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Eend\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E }, { \u003Cspan class=\"hljs-attr\"\u003Estart\u003C\u002Fspan\u003E: -\u003Cspan class=\"hljs-number\"\u003E10000\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Eend\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E }];\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E extents = calcExtents(timeData, {\n  \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Ed\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E [d.start, d.end]\n});\n\n\u003Cspan class=\"hljs-built_in\"\u003Econsole\u003C\u002Fspan\u003E.log(extents);\n\u003Cspan class=\"hljs-comment\"\u003E\u002F*\n{\n  y: [-10000, 1]\n}\n*\u002F\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"uniques\"\u003Euniques\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Edata: \u003Ccode\u003EArray\u003C\u002Fcode\u003E[, accessor: \u003Ccode\u003EString|Function\u003C\u002Fcode\u003E, transform: \u003Ccode\u003EBoolean\u003C\u002Fcode\u003E]\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#uniques\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EA function to get the unique values from a list. If \u003Cstrong\u003Eaccessor\u003C\u002Fstrong\u003E is specified, the uniqueness will be compared using that and, by default, the values in the returned list of unique values will be values returned by the accessor. Accessor can also be the string name of the key. Pass \u003Ccode\u003Efalse\u003C\u002Fcode\u003E to the \u003Cstrong\u003Etransform\u003C\u002Fstrong\u003E argument if you want to return the original elements, which will be the first one that appears for every unique value. The default for \u003Cstrong\u003Etransform\u003C\u002Fstrong\u003E is \u003Ccode\u003Etrue\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EThis is different from Underscore&#39;s \u003Ca href=\"https:\u002F\u002Funderscorejs.org\u002F#uniq\"\u003Euniq\u003C\u002Fa\u003E because that function doesn&#39;t return the transformed value.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { uniques } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;layercake&#x27;\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E data = [\n  { \u003Cspan class=\"hljs-attr\"\u003Eyear\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;1990&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E},\n  { \u003Cspan class=\"hljs-attr\"\u003Eyear\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;1990&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E4\u003C\u002Fspan\u003E},\n  { \u003Cspan class=\"hljs-attr\"\u003Eyear\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;1991&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E},\n  { \u003Cspan class=\"hljs-attr\"\u003Eyear\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;1991&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E6\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E},\n  { \u003Cspan class=\"hljs-attr\"\u003Eyear\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;1992&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E6\u003C\u002Fspan\u003E},\n  { \u003Cspan class=\"hljs-attr\"\u003Eyear\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;1992&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E7\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E3\u003C\u002Fspan\u003E},\n  { \u003Cspan class=\"hljs-attr\"\u003Eyear\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;1993&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E7\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E8\u003C\u002Fspan\u003E},\n  { \u003Cspan class=\"hljs-attr\"\u003Eyear\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;1993&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E3\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E}\n];\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E uniqueYears = unique(data, \u003Cspan class=\"hljs-string\"\u003E&#x27;year&#x27;\u003C\u002Fspan\u003E);\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F [&#x27;1990&#x27;, &#x27;1991&#x27;, &#x27;1992&#x27;, &#x27;1993&#x27;]\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F this is equivalent to\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E uniqueYears = unique(data, \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Ed\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E d.year);\n\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F setting transform to `false` gives you the full row of the first unique element\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E uniqueYears = unique(data, \u003Cspan class=\"hljs-string\"\u003E&#x27;year&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-literal\"\u003Efalse\u003C\u002Fspan\u003E);\n\u003Cspan class=\"hljs-comment\"\u003E\u002F*\n[\n  {year: &#x27;1990&#x27;, x: 0, y: 1},\n  {year: &#x27;1991&#x27;, x: 2, y: 5},\n  {year: &#x27;1992&#x27;, x: 1, y: 6},\n  {year: &#x27;1993&#x27;, x: 7, y: 8}\n*\u002F\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"raise\"\u003Eraise\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Eel: \u003Ccode\u003EDOM Element\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#raise\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EAdapted from the \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fd3\u002Fd3-selection#selection_raise\"\u003Eraise\u003C\u002Fa\u003E method in d3-selection, this is a convenience function to re-insert the passed in element as the last child of its parent. Equivalent to:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003Eel.parentNode.appendChild(el);\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EThis is useful for hovering over SVG maps so that the hovered-over feature is not obstructed by neighboring shapes. See how it&#39;s used in the \u003Ca href=\"\u002Fexample\u002FMapSvg\"\u003ESVG map component\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n",metadata:{title:"Helper functions"},subsections:[{slug:"flatten",title:"flatten(...)"},{slug:"scalecanvas",title:"scaleCanvas(...)"},{slug:"calcextents",title:"calcExtents(...)"},{slug:"uniques",title:"uniques(...)"},{slug:"raise",title:"raise(...)"}],slug:"helper-functions",file:"99-helper-functions.md"}]}}("x","y","z","r","extents","data","padding","xDomain","yDomain","zDomain","rDomain","xRange","yRange","zRange","rRange","ssr","position","custom","box","config","width","height")),(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){return {sections:[{html:"\u003Ch3 id=\"what-is-layer-cake\"\u003EWhat is Layer Cake?\u003Ca href=\"\u002Fguide#what-is-layer-cake\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ELayer Cake is a graphics framework for \u003Ca href=\"https:\u002F\u002Fsvelte.dev\"\u003ESvelte\u003C\u002Fa\u003E that removes the boilerplate from making responsive web graphics. it gives you common elements, like a coordinate system and scales, for you to start creating your own dataviz layers, like axes, plots and annotations.\u003C\u002Fp\u003E\n\u003Cp\u003ELayer Cake is described as a framework and not a library because unlike Vega or HighCharts, it doesn&#39;t automatically create, for example, a scatter chart for you. It gives you the scales and the DOM element to encode chart elements from your data. This is because every chart ends up being custom in one way or another. Other libraries handle this usually by creating a complex JSON specification but learning that is a big investment and often mentally taxing.\u003C\u002Fp\u003E\n\u003Cp\u003EThe idea behind a Layer Cake chart is you can start from a basic scatter, line or bar chart template but because those chart layers live in your project, you can customize them however you want.\u003C\u002Fp\u003E\n\u003Cp\u003EBy organizing a graphic into layers, you can more easily reuse components from project to project. It also lets you easily move between web languages (SVG, Canvas, HTML, WebGL) by giving you a common coordinate system they can all use. That way, you can choose the best format for each element without worrying superimposing different elements on top of one another.\u003C\u002Fp\u003E\n\u003Cp\u003ELayer Cake is more about having a system to organize your own custom components than it is a high-level charting library. It doesn&#39;t have any built-in concepts or strong opinions about how your data should be structured.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003ELayer Cake uses D3 scales. See more in the \u003Ca href=\"\u002Fguide#xscale\"\u003ExScale\u003C\u002Fa\u003E, \u003Ca href=\"\u002Fguide#yscale\"\u003EyScale\u003C\u002Fa\u003E, \u003Ca href=\"\u002Fguide#zscale\"\u003EzScale\u003C\u002Fa\u003E and \u003Ca href=\"\u002Fguide#rscale\"\u003ErScale\u003C\u002Fa\u003E sections of the \u003Ca href=\"\u002Fguide#layercake-props\"\u003ELayer Cake Props API\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch3 id=\"getting-started\"\u003EGetting started\u003Ca href=\"\u002Fguide#getting-started\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EInstall Layer Cake in your \u003Ccode\u003EdevDependencies\u003C\u002Fcode\u003E alongside Svelte.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003Enpm install --save-dev layercake\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EThe easiest way to get started is to clone down, or use \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Frich-harris\u002Fdegit\"\u003Edegit\u003C\u002Fa\u003E to grab the starter template at \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fmhkeller\u002Flayercake-template\"\u003Ehttps:\u002F\u002Fgithub.com\u002Fmhkeller\u002Flayercake-template\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003Edegit mhkeller\u002Flayercake-template my-chart\n\u003Cspan class=\"hljs-built_in\"\u003Ecd\u003C\u002Fspan\u003E my-chart\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EThe \u003Ccode\u003EApp.svelte\u003C\u002Fcode\u003E file in this example is your main Svelte component. You can render a LayerCake inside a DOM element like so.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E js\u002FApp.svelte\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { LayerCake } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;layercake&#x27;\u003C\u002Fspan\u003E;\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Define some data\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E points = [\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E20\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E15\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E30\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E20\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E40\u003C\u002Fspan\u003E}\n  ];\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"css\"\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n    The wrapper div needs to have an explicit width and height in CSS.\n    It can also be a flexbox child or CSS grid element.\n    The point being it needs dimensions since the &lt;LayerCake&gt; element will\n    expand to fill it.\n  *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-selector-class\"\u003E.chart-container\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-attribute\"\u003Ewidth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E100%\u003C\u002Fspan\u003E;\n    \u003Cspan class=\"hljs-attribute\"\u003Eheight\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E300px\u003C\u002Fspan\u003E;\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;chart-container&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Edata\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Epoints\u003C\u002Fspan\u003E }\n    \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;x&#x27;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;y&#x27;\u003C\u002Fspan\u003E\n  &gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-comment\"\u003E&lt;!-- Components go here --&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cblockquote\u003E\n\u003Cp\u003EEach of the \u003Ca href=\"https:\u002F\u002Flayercake.graphics\"\u003Echart examples\u003C\u002Fa\u003E can be downloaded or edited live in the browser by clicking on the &quot;Download&quot; or &quot;Edit&quot; buttons, respectively.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch3 id=\"using-layout-components\"\u003EUsing layout components\u003Ca href=\"\u002Fguide#using-layout-components\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EWithin the \u003Ccode\u003ELayerCake\u003C\u002Fcode\u003E component, you&#39;ll want to add at least one layout component, kind of like a wrapper. It can be \u003Ccode\u003ESvg\u003C\u002Fcode\u003E, \u003Ccode\u003EHtml\u003C\u002Fcode\u003E, \u003Ccode\u003ECanvas\u003C\u002Fcode\u003E or \u003Ccode\u003EWebGL\u003C\u002Fcode\u003E. Within any of these is where you&#39;ll put your own custom layer components. Here&#39;s an example with a few different layout elements working together.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E App.svelte\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { LayerCake, Svg, Canvas, Html }  \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;layercake&#x27;\u003C\u002Fspan\u003E;\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F These are components that live in your project that\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F you can customize as you see fit\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E ScatterCanvas \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;.\u002Fcomponents\u002FScatterCanvas.svelte&#x27;\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E AxisX \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;.\u002Fcomponents\u002FAxisX.svelte&#x27;\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E AxisY \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;.\u002Fcomponents\u002FAxisY.svelte&#x27;\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E Annotations \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;.\u002Fcomponents\u002FAnnotations.svelte&#x27;\u003C\u002Fspan\u003E;\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Set up some data\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E points = [\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E20\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E15\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E30\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E20\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E40\u003C\u002Fspan\u003E}\n  ];\n\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E annotationBlurbs = [\n    { \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E20\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Etext\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;Look at this value!&#x27;\u003C\u002Fspan\u003E}\n  ];\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"css\"\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n    The wrapper div needs to have an explicit width and height in CSS.\n    It can also be a flexbox child or CSS grid element.\n    The point being it needs dimensions since the &lt;LayerCake&gt; element will\n    expand to fill it.\n  *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-selector-class\"\u003E.chart-container\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-attribute\"\u003Ewidth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E100%\u003C\u002Fspan\u003E;\n    \u003Cspan class=\"hljs-attribute\"\u003Eheight\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E300px\u003C\u002Fspan\u003E;\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;chart-container&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;x&#x27;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;y&#x27;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Edata\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{points}\u003C\u002Fspan\u003E\n  &gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ECanvas\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EScatterCanvas\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Efill\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E&#x27;\u003Cspan class=\"hljs-attr\"\u003Eblue\u003C\u002Fspan\u003E&#x27;} \u003Cspan class=\"hljs-attr\"\u003Er\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{3}\u002F\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ECanvas\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EAxisX\u003C\u002Fspan\u003E\u002F&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EAxisY\u003C\u002Fspan\u003E\u002F&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EHtml\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EAnnotations\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eblurbs\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{annotationBlurbs}\u003C\u002Fspan\u003E \u002F&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003EHtml\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"hljs-comment\"\u003E&lt;!-- If you wanted to, you could add another &lt;Svg&gt; again... --&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cblockquote\u003E\n\u003Cp\u003ELayout components have a few their own properties that let you customize behavior. Read more in the \u003Ca href=\"guide#layout-components\"\u003ELayout Components\u003C\u002Fa\u003E section.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch3 id=\"layer-components\"\u003ELayer components\u003Ca href=\"\u002Fguide#layer-components\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe only components the Layer Cake module exports are \u003Ccode\u003ELayerCake\u003C\u002Fcode\u003E and those layout components, everything else that actually draws your chart is up to you to create. Inside those layer components you can access the scales and other values derived from your data. You do this with Svelte&#39;s \u003Ca href=\"https:\u002F\u002Fsvelte.dev\u002Fdocs#getContext\"\u003E\u003Ccode\u003EgetContext\u003C\u002Fcode\u003E\u003C\u002Fa\u003E function.\u003C\u002Fp\u003E\n\u003Cp\u003EHere&#39;s an example starting with a similar \u003Ccode\u003EApp.svelte\u003C\u002Fcode\u003E file to the example above. We&#39;re creating a scatter chart in SVG.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E App.svelte\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { LayerCake, Svg } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;layercake&#x27;\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E Scatter \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;.\u002Fcomponents\u002FScatter.svelte&#x27;\u003C\u002Fspan\u003E;\n\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E points = [\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E20\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E15\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E30\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E20\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E40\u003C\u002Fspan\u003E}\n  ];\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"css\"\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n    The wrapper div needs to have an explicit width and height in CSS.\n    It can also be a flexbox child or CSS grid element.\n    The point being it needs dimensions since the &lt;LayerCake&gt; element will\n    expand to fill it.\n  *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-selector-class\"\u003E.chart-container\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-attribute\"\u003Ewidth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E100%\u003C\u002Fspan\u003E;\n    \u003Cspan class=\"hljs-attribute\"\u003Eheight\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E300px\u003C\u002Fspan\u003E;\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;chart-container&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;x&#x27;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;y&#x27;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Edata\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Epoints\u003C\u002Fspan\u003E }\n  &gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-comment\"\u003E&lt;!-- You can expose properties on your chart components to make them more reusable --&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EScatter\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Efill\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E&#x27;\u003Cspan class=\"hljs-attr\"\u003Eblue\u003C\u002Fspan\u003E&#x27;} \u003Cspan class=\"hljs-attr\"\u003Er\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{3}\u003C\u002Fspan\u003E \u002F&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EThis is what the scatter component looks like:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E .\u002Fcomponents\u002FScatter.svelte\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Import the getContext function from svelte\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { getContext } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;svelte&#x27;\u003C\u002Fspan\u003E;\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Access the context using the &#x27;LayerCake&#x27; keyword\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Grab some helpful functions\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { data, x, xScale, y, yScale } = getContext(\u003Cspan class=\"hljs-string\"\u003E&#x27;LayerCake&#x27;\u003C\u002Fspan\u003E);\n\n  \u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E fill = \u003Cspan class=\"hljs-string\"\u003E&#x27;#000&#x27;\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E r = \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E;\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  {#each $data as d}\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ecircle\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecx\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;{ $xScale($x(d)) }&#x27;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecy\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;{ $yScale($y(d)) }&#x27;\u003C\u002Fspan\u003E {\u003Cspan class=\"hljs-attr\"\u003Efill\u003C\u002Fspan\u003E} {\u003Cspan class=\"hljs-attr\"\u003Er\u003C\u002Fspan\u003E} \u002F&gt;\u003C\u002Fspan\u003E\n  {\u002Feach}\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Eg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cblockquote\u003E\n\u003Cp\u003EYou \u003Cem\u003Ecould\u003C\u002Fem\u003E hardcode the radius and fill in the component but exposing those variables to your App makes this component more reusable from project to project. Or, within a project, you could use the same layer component to render different charts of varying color.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EA few notes on this component:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003EEverything that you export from \u003Ccode\u003EgetContext(&#39;LayerCake&#39;)\u003C\u002Fcode\u003E is a \u003Ca href=\"https:\u002F\u002Fsvelte.dev\u002Fdocs#svelte_store\"\u003ESvelte store\u003C\u002Fa\u003E so prefix them with \u003Ccode\u003E$\u003C\u002Fcode\u003E in the template.\u003C\u002Fli\u003E\n\u003Cli\u003EThis example is a bit verbose because we&#39;re calling our accessor functions and then our scale functions. You can combine these two steps with the built-in \u003Ccode\u003ExGet\u003C\u002Fcode\u003E and \u003Ccode\u003EyGet\u003C\u002Fcode\u003E functions. Like so:\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E .\u002Fcomponents\u002FScatter.svelte\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Import the getContext function from svelte\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { getContext } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;svelte&#x27;\u003C\u002Fspan\u003E;\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Access the context using the &#x27;LayerCake&#x27; keyword\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Grab some helpful functions\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { data, xGet, yGet } = getContext(\u003Cspan class=\"hljs-string\"\u003E&#x27;LayerCake&#x27;\u003C\u002Fspan\u003E);\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Customizable defaults\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E fill = \u003Cspan class=\"hljs-string\"\u003E&#x27;#000&#x27;\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E r = \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E;\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  {#each $data as d}\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ecircle\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecx\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;{ $xGet(d) }&#x27;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecy\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;{ $yGet(d) }&#x27;\u003C\u002Fspan\u003E {\u003Cspan class=\"hljs-attr\"\u003Efill\u003C\u002Fspan\u003E} {\u003Cspan class=\"hljs-attr\"\u003Er\u003C\u002Fspan\u003E} \u002F&gt;\u003C\u002Fspan\u003E\n  {\u002Feach}\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Eg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cblockquote\u003E\n\u003Cp\u003EMany common chart types have example pages. See the gallery at \u003Ca href=\"https:\u002F\u002Flayercake.graphics\"\u003Ehttps:\u002F\u002Flayercake.graphics\u003C\u002Fa\u003E or use the dropdown menu at the top of the page to navigate to one.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch3 id=\"data-less-cakes\"\u003EData-less cakes\u003Ca href=\"\u002Fguide#data-less-cakes\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EYou can also use Layer Cake to simply arrange SVG, HTML, Canvas and WebGL elements on top of one another, sharing the same dimensions. For example, this would be handy if you have some SVG artwork that you want to put on top of an HTML video player.\u003C\u002Fp\u003E\n\u003Cp\u003EHere&#39;s an example that doesn&#39;t set any properties on the \u003Ccode\u003ELayerCake\u003C\u002Fcode\u003E component:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E App.Svelte\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { LayerCake, Svg, Html } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;layercake&#x27;\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E Frame \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;.\u002Fcomponents\u002FFrame.svelte&#x27;\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E VideoPlayer \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;.\u002Fcomponents\u002FVideoPlayer.svelte&#x27;\u003C\u002Fspan\u003E;\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"css\"\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n    The wrapper div needs to have an explicit width and height in CSS.\n    It can also be a flexbox child or CSS grid element.\n    The point being it needs dimensions since the &lt;LayerCake&gt; element will\n    expand to fill it.\n  *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-selector-class\"\u003E.chart-container\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-attribute\"\u003Ewidth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E100%\u003C\u002Fspan\u003E;\n    \u003Cspan class=\"hljs-attribute\"\u003Ewidth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E300px\u003C\u002Fspan\u003E;\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;chart-container&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EFrame\u003C\u002Fspan\u003E\u002F&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EHtml\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EVideoPlayer\u003C\u002Fspan\u003E\u002F&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003EHtml\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"server-side-rendering\"\u003EServer-side rendering\u003Ca href=\"\u002Fguide#server-side-rendering\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESee the \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fmhkeller\u002Flayercake-template\"\u003Elayercake-template\u003C\u002Fa\u003E for the rollup config needed to compile LayerCake server-side. In short, it creates a JavaScript file, which then constructs the required HTML and CSS when executed. You have the option of also hydrating that markup with any additiona client-side JavaScript, or building it without any bundled JavaScript.\u003C\u002Fp\u003E\n\u003Cp\u003EYou can also use LayerCake in Sapper (or similar dev environment) to create charts that work without JavaScript, which is how the server-side examples on this site work. Just set the \u003Ca href=\"\u002Fguide#ssr\"\u003Essr\u003C\u002Fa\u003E prop to \u003Ccode\u003Etrue\u003C\u002Fcode\u003E. Check out the examples on the \u003Ca href=\"\u002F\"\u003Ehome page\u003C\u002Fa\u003E for useful patterns using the \u003Ca href=\"\u002Fguide#percentrange\"\u003EpercentRange\u003C\u002Fa\u003E option, the \u003Ca href=\"\u002Fguide#scaledsvg\"\u003EScaledSvg\u003C\u002Fa\u003E component and other percentage-based components.\u003C\u002Fp\u003E\n",metadata:{title:"Introduction"},subsections:[{slug:"what-is-layer-cake",title:"What is Layer Cake?"},{slug:"getting-started",title:"Getting started"},{slug:"using-layout-components",title:"Using layout components"},{slug:"layer-components",title:"Layer components"},{slug:"data-less-cakes",title:"Data-less cakes"},{slug:"server-side-rendering",title:"Server-side rendering"}],slug:"introduction",file:"00-introduction.md"},{html:"\u003Ch3 id=\"the-chart-is-blank\"\u003EThe chart is blank\u003Ca href=\"\u002Fguide#the-chart-is-blank\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe \u003Ccode\u003E&lt;LayerCake&gt;\u003C\u002Fcode\u003E component expands to fill the size of its parent \u003Ccode\u003E&lt;div&gt;\u003C\u002Fcode\u003E – that&#39;s why all of the examples define a \u003Ccode\u003Echart-container\u003C\u002Fcode\u003E element with a specific width and height. If your chart isn&#39;t showing up, make sure you have a width and height set on your wrapper div. \u003C\u002Fp\u003E\n\u003Cp\u003EInspect the DOM tree with your browser&#39;s dev tools and look at what width and height the Layer Cake layout elements are receiving and trace up the parents in the tree to see which element may not be sized properly. If you have an unusual combination of \u003Ccode\u003Eabsolute\u003C\u002Fcode\u003E-ly positioned elements, it could be one of the parents is not getting a specific width and height. \u003C\u002Fp\u003E\n\u003Cp\u003EAlso take a look in the console for any warnings – LayerCake should warn you if any of the dimensions are zero or negative.\u003C\u002Fp\u003E\n\u003Ch3 id=\"the-chart-is-a-very-small-square\"\u003EThe chart is a very small square\u003Ca href=\"\u002Fguide#the-chart-is-a-very-small-square\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThis is likely due to some other JavaScript error on the page. A small rectangle of a chart, probably 100x100 means that the server-side rendering was able to bake elements onto the page, but something short-circuited the JavaScript. Check for other console errors that halted the JavaScript process.\u003C\u002Fp\u003E\n\u003Ch3 id=\"the-library-isn39t-building-properly\"\u003EThe library isn&#39;t building properly\u003Ca href=\"\u002Fguide#the-library-isn39t-building-properly\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ELayer Cake is \u003Cem\u003Ealmost entirely\u003C\u002Fem\u003E a basic Svelte component. The exception is the \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fmhkeller\u002Flayercake\u002Fblob\u002Fbc13c6c38d54abc16d20ef37878fa707bf48a3bf\u002Fsrc\u002Findex.js\"\u003Eindex.js\u003C\u002Fa\u003E file, which is an esm module. This file, though, is non-essential to how the library works and is just a pointer for the rest of the library&#39;s imports. If you copy Layer Cake&#39;s source into your project directly and import the individual components, it should build just like any other Svelte component in your project.\u003C\u002Fp\u003E\n\u003Cp\u003EFor example:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E LayerCake \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;.\u002Flayercake\u002Fsrc\u002FLayerCake.svelte&#x27;\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E Svg \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;.\u002Flayercake\u002Fsrc\u002Flayouts\u002FSvg.svelte&#x27;\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F etc...\u003C\u002Fspan\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cblockquote\u003E\n\u003Cp\u003ECopying Layer Cake&#39;s layout components into your library is actually a great way to add any additional customizations or functionality while maintaining compatibility with the rest of the library&#39;s API. You can use any of the built-in layout components as a starting point for something more complex, if need be.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n",metadata:{title:"Troubleshooting"},subsections:[{slug:"the-chart-is-blank",title:"The chart is blank"},{slug:"the-chart-is-a-very-small-square",title:"The chart is a very small square"},{slug:"the-library-isn39t-building-properly",title:"The library isn't building properly"}],slug:"troubleshooting",file:"01-troubleshooting.md"},{html:"\u003Cp\u003EThese are the props you can set on the \u003Ccode\u003ELayerCake\u003C\u002Fcode\u003E component itself. You set them all like so:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayercake\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Efoo\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;foo&#x27;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Ebar\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;bar&#x27;\u003C\u002Fspan\u003E\n&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EThe component also exports an \u003Ccode\u003Eelement\u003C\u002Fcode\u003E prop that represents the main wrapper, in case you need to access it for some reason. It also exposes this as a slot prop.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E mainElement;\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Ebind:element\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{mainElement}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Elet:element\u003C\u002Fspan\u003E\n&gt;\u003C\u002Fspan\u003E\n  {console.log(mainElement === element)}\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"data\"\u003Edata \u003Ccode\u003EArray\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#data\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EA list of data items. If this is not a flat data array of objects, you&#39;ll also need to set \u003Ca href=\"\u002Fguide#flatdata\"\u003EflatData\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Edata\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003EmyData\u003C\u002Fspan\u003E }\n&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"x\"\u003Ex \u003Ccode\u003EString|Function|Array\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#x\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe key in each row of data that corresponds to the x-field. This can be a string or an accessor function. This property gets converted to a function when you access it through the context.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E&lt;LayerCake\n  x=&#x27;myX&#x27;\n  &lt;!-- is equivalent to... --&gt;\n  x={ d =&gt; d.myX }\n&gt;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EYou can also give this value an array of strings or arrays of functions. While it may seem counter-intuitive to have more than one x- or y-accessor, this is the case in stacked layouts and Cleveland dot plots. See the \u003Ca href=\"\u002Fexample\u002FBarStacked\"\u003EStacked bar\u003C\u002Fa\u003E, \u003Ca href=\"\u002Fexample\u002FAreaStacked\"\u003EStacked area\u003C\u002Fa\u003E, \u003Ca href=\"\u002Fexample\u002FColumnStacked\"\u003EStacked colummn\u003C\u002Fa\u003E or \u003Ca href=\"\u002Fexample\u002FClevelandDotPlot\"\u003ECleveland dot plot\u003C\u002Fa\u003E for complete examples.\u003C\u002Fp\u003E\n\u003Cp\u003EHere&#39;s an overview using the \u003Ccode\u003Ed3.stack()\u003C\u002Fcode\u003E to make a horizontal bar chart, which will have two values for the x-accessor.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E data = [\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Eapples\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ebananas\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1920\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Echerries\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E960\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Edates\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E400\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Eapples\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ebananas\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Echerries\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E960\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Edates\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E400\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Eapples\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-attr\"\u003Ebananas\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E960\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-attr\"\u003Echerries\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Edates\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E400\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Eapples\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-attr\"\u003Ebananas\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E480\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-attr\"\u003Echerries\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Edates\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E400\u003C\u002Fspan\u003E}\n];\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E stack = d3.stack()\n  .keys([\u003Cspan class=\"hljs-string\"\u003E&#x27;apples&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E&#x27;bananas&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E&#x27;cherries&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E&#x27;dates&#x27;\u003C\u002Fspan\u003E]);\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E series = stack(data);\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EThe data is now an array of values. The \u003Ccode\u003Emonth\u003C\u002Fcode\u003E values you can&#39;t see because sneakily stashes them as a property on the array, accessible as \u003Ccode\u003Ed.data\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E[\n  [[   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E], [   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E], [   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E], [   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E]], \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F apples\u003C\u002Fspan\u003E\n  [[\u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E5760\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3040\u003C\u002Fspan\u003E], [ \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E], [ \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-number\"\u003E800\u003C\u002Fspan\u003E]], \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F bananas\u003C\u002Fspan\u003E\n  [[\u003Cspan class=\"hljs-number\"\u003E5760\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E6720\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E3040\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E4000\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2240\u003C\u002Fspan\u003E], [ \u003Cspan class=\"hljs-number\"\u003E800\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E]], \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F cherries\u003C\u002Fspan\u003E\n  [[\u003Cspan class=\"hljs-number\"\u003E6720\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E7120\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E4000\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E4400\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E2240\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2640\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1840\u003C\u002Fspan\u003E]]  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F dates\u003C\u002Fspan\u003E\n]\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EThe x- and y-accessors would then look like this:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E [\u003Cspan class=\"hljs-attr\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003E1\u003C\u002Fspan\u003E] }\n  \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ed\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E d.data.month }\n&gt;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003ECalls to \u003Ccode\u003Ex(dataRow)\u003C\u002Fcode\u003E in this scenario will return the two-value array. Calls to \u003Ccode\u003ExGet(dataRow)\u003C\u002Fcode\u003E will return a two-value array, mapped through the \u003Ca href=\"\u002Fguide#xscale\"\u003ExScale\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"y\"\u003Ey \u003Ccode\u003EString|Function|Array\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#y\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#x\"\u003Ex\u003C\u002Fa\u003E but for the y dimension.\u003C\u002Fp\u003E\n\u003Ch3 id=\"z\"\u003Ez \u003Ccode\u003EString|Function|Array\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#z\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#x\"\u003Ex\u003C\u002Fa\u003E but for the z dimension.\u003C\u002Fp\u003E\n\u003Ch3 id=\"r\"\u003Er \u003Ccode\u003EString|Function|Array\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#r\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#x\"\u003Ex\u003C\u002Fa\u003E but for the r dimension.\u003C\u002Fp\u003E\n\u003Ch3 id=\"padding\"\u003Epadding \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#padding\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EAn object that can specify \u003Ccode\u003Etop\u003C\u002Fcode\u003E, \u003Ccode\u003Eright\u003C\u002Fcode\u003E, \u003Ccode\u003Ebottom\u003C\u002Fcode\u003E, or \u003Ccode\u003Eleft\u003C\u002Fcode\u003E padding in pixels. Any unspecified values are filled in as \u003Ccode\u003E0\u003C\u002Fcode\u003E. Padding operates like CSS \u003Ccode\u003Ebox-sizing: border-box;\u003C\u002Fcode\u003E where values are subtracted from the parent container&#39;s width and height, the same as \u003Ca href=\"https:\u002F\u002Fbl.ocks.org\u002Fmbostock\u002F3019563\"\u003Ea D3 margin convention\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Epadding\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E { \u003Cspan class=\"hljs-attr\"\u003Etop:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E20\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Eright:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E10\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ebottom:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Eleft:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E0\u003C\u002Fspan\u003E } }\n  \u002F\u002F \u003Cspan class=\"hljs-attr\"\u003Eequivalent\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eto...\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Epadding\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E { \u003Cspan class=\"hljs-attr\"\u003Etop:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E20\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Eright:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E10\u003C\u002Fspan\u003E } }\n&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cblockquote\u003E\n\u003Cp\u003EAnother way to set padding is to add it via normal CSS on your target div. The target element is assigned CSS of \u003Ccode\u003Ebox-sizing: border-box;\u003C\u002Fcode\u003E so padding settings won&#39;t affect the width or height. If you set any padding via CSS, the padding object will be ignored.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch3 id=\"xscale\"\u003ExScale \u003Ccode\u003E\u003Cspan class=\"function\"\u003Ed3.\u003C\u002Fspan\u003EscaleLinear\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#xscale\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe D3 scale that should be used for the x-dimension. Pass in an instantiated D3 scale if you want to override the default \u003Ccode\u003Ed3.scaleLinear()\u003C\u002Fcode\u003E or you want to add extra options.\u003C\u002Fp\u003E\n\u003Cp\u003ESee the \u003Ca href=\"\u002Fexample\u002FColumn\"\u003EColumn chart\u003C\u002Fa\u003E for an example of passing in a \u003Ccode\u003Ed3.scaleBand()\u003C\u002Fcode\u003E to override the default.\u003C\u002Fp\u003E\n\u003Ch3 id=\"yscale\"\u003EyScale \u003Ccode\u003E\u003Cspan class=\"function\"\u003Ed3.\u003C\u002Fspan\u003EscaleLinear\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#yscale\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xscale\"\u003ExScale\u003C\u002Fa\u003E but for the y scale. The default is \u003Ccode\u003Ed3.scaleLinear()\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"zscale\"\u003EzScale \u003Ccode\u003E\u003Cspan class=\"function\"\u003Ed3.\u003C\u002Fspan\u003EscaleLinear\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#zscale\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xscale\"\u003ExScale\u003C\u002Fa\u003E but for the z scale. The default is \u003Ccode\u003Ed3.scaleLinear()\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rscale\"\u003ErScale \u003Ccode\u003E\u003Cspan class=\"function\"\u003Ed3.\u003C\u002Fspan\u003EscaleSqrt\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#rscale\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xscale\"\u003ExScale\u003C\u002Fa\u003E but for the r scale. The default is \u003Ccode\u003Ed3.scaleSqrt()\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"xdomain\"\u003ExDomain \u003Ccode\u003EArray:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#xdomain\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESet a min or max on the x scale. If you want to inherit the value from the data&#39;s extent, set that value to \u003Ccode\u003Enull\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003ExDomain\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E [\u003Cspan class=\"hljs-attr\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003E100\u003C\u002Fspan\u003E] } \u002F\u002F \u003Cspan class=\"hljs-attr\"\u003EFixes\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ethe\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Escale\u003C\u002Fspan\u003E&#x27;\u003Cspan class=\"hljs-attr\"\u003Es\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Edomain\u003C\u002Fspan\u003E\n  \u002F\u002F \u003Cspan class=\"hljs-attr\"\u003Eor..\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003ExDomain\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E [\u003Cspan class=\"hljs-attr\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Enull\u003C\u002Fspan\u003E] } \u002F\u002F \u003Cspan class=\"hljs-attr\"\u003EFixes\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ethe\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Emin\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ebut\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eallows\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ethe\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Emax\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eto\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ebe\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ewhatever\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eis\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ein\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ethe\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Edata\u003C\u002Fspan\u003E\n&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"ydomain\"\u003EyDomain \u003Ccode\u003EArray:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#ydomain\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xdomain\"\u003ExDomain\u003C\u002Fa\u003E but for the y scale.\u003C\u002Fp\u003E\n\u003Ch3 id=\"zdomain\"\u003EzDomain \u003Ccode\u003EArray:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#zdomain\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xdomain\"\u003ExDomain\u003C\u002Fa\u003E but for the z scale.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rdomain\"\u003ErDomain \u003Ccode\u003EArray:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#rdomain\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xdomain\"\u003ExDomain\u003C\u002Fa\u003E but for the r scale.\u003C\u002Fp\u003E\n\u003Ch3 id=\"xreverse\"\u003ExReverse \u003Ccode\u003EBoolean=false\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#xreverse\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EReverse the default x domain. By default this is \u003Ccode\u003Efalse\u003C\u002Fcode\u003E and the domain is \u003Ccode\u003E[0, width]\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EThis is ignored if you set \u003Ca href=\"\u002Fguide#xRange\"\u003ExRange\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"yreverse\"\u003EyReverse \u003Ccode\u003EBoolean=true\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#yreverse\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EReverse the default y domain. By default this is \u003Ccode\u003Etrue\u003C\u002Fcode\u003E and the domain is \u003Ccode\u003E[height, 0]\u003C\u002Fcode\u003E.\nReverse the default x domain. By default this is \u003Ccode\u003Efalse\u003C\u002Fcode\u003E and the domain is \u003Ccode\u003E[0, width]\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EThis is ignored if you set \u003Ca href=\"\u002Fguide#yRange\"\u003EyRange\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"zreverse\"\u003EzReverse \u003Ccode\u003EBoolean=false\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#zreverse\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EReverse the default z domain. By default this is \u003Ccode\u003Efalse\u003C\u002Fcode\u003E and the domain is \u003Ccode\u003E[0, width]\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EThis is ignored if you set \u003Ca href=\"\u002Fguide#zRange\"\u003EzRange\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rreverse\"\u003ErReverse \u003Ccode\u003EBoolean=false\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#rreverse\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EReverse the default r domain. By default this is \u003Ccode\u003Efalse\u003C\u002Fcode\u003E and the domain is \u003Ccode\u003E[1, 25]\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EThis is ignored if you set \u003Ca href=\"\u002Fguide#rRange\"\u003ErRange\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"xrange\"\u003ExRange \u003Ccode\u003EFunction|Array:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#xrange\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EOverride the default y range of \u003Ccode\u003E[0, width]\u003C\u002Fcode\u003E by setting it here to an array or function with argument \u003Ccode\u003E({ width, height})\u003C\u002Fcode\u003E that returns an array.\u003C\u002Fp\u003E\n\u003Cp\u003EThis overrides setting \u003Ca href=\"\u002Fguide#xreverse\"\u003ExReverse\u003C\u002Fa\u003E to \u003Ccode\u003Etrue\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003ExRange\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E [\u003Cspan class=\"hljs-attr\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003E100\u003C\u002Fspan\u003E] }\n&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EIt can also be a function:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003ExRange\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E ({ \u003Cspan class=\"hljs-attr\"\u003Ewidth\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Eheight\u003C\u002Fspan\u003E }) =&gt;\u003C\u002Fspan\u003E [0, width \u002F 2] }\n&gt;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"yrange\"\u003EyRange \u003Ccode\u003EFunction|Array:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#yrange\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xrange\"\u003ExRange\u003C\u002Fa\u003E but for the y scale. Override the default y range of \u003Ccode\u003E[0, height]\u003C\u002Fcode\u003E by setting it here to an array or function with argument \u003Ccode\u003E({ width, height})\u003C\u002Fcode\u003E that returns an array.\u003C\u002Fp\u003E\n\u003Cp\u003EThis overrides setting \u003Ca href=\"\u002Fguide#yreverse\"\u003EyReverse\u003C\u002Fa\u003E to \u003Ccode\u003Etrue\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"zrange\"\u003EzRange \u003Ccode\u003EFunction|Array:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#zrange\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xrange\"\u003ExRange\u003C\u002Fa\u003E but for the z scale. Override the default z range of \u003Ccode\u003E[0, width]\u003C\u002Fcode\u003E by setting it here to an array or function with argument \u003Ccode\u003E({ width, height})\u003C\u002Fcode\u003E that returns an array.\u003C\u002Fp\u003E\n\u003Cp\u003EThis overrides setting \u003Ca href=\"\u002Fguide#zreverse\"\u003EzReverse\u003C\u002Fa\u003E to \u003Ccode\u003Etrue\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rrange\"\u003ErRange \u003Ccode\u003EFunction|Array:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#rrange\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xrange\"\u003ExRange\u003C\u002Fa\u003E but for the r scale. Override the default y range of \u003Ccode\u003E[1, 25]\u003C\u002Fcode\u003E by setting it here to an array or function with argument \u003Ccode\u003E({ width, height})\u003C\u002Fcode\u003E that returns an array. The r scale defaults to \u003Ccode\u003Ed3.scaleSqrt\u003C\u002Fcode\u003E so make sure you don&#39;t use a zero in your range.\u003C\u002Fp\u003E\n\u003Cp\u003EThis overrides setting \u003Ca href=\"\u002Fguide#rreverse\"\u003ErReverse\u003C\u002Fa\u003E to \u003Ccode\u003Etrue\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"xpadding\"\u003ExPadding \u003Ccode\u003EArray:[leftPixels: Number, rightPixels: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#xpadding\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EAssign a pixel value to add to the min or max of the x scale. This will increase the scales domain by the scale unit equivalent of the provided pixels. This is useful for adding extra space to a scatter plot so that your circles don&#39;t interfere with your y-axis. It&#39;s better than fussing with the range since you don&#39;t need to add a magic number to other components, like axes.\u003C\u002Fp\u003E\n\u003Cp\u003EIt will log out a warning if you try to use it on a scale that has a domain or range that isn&#39;t two items, such as with ordinal scales.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003ExPadding\u003C\u002Fspan\u003E= \u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E [\u003Cspan class=\"hljs-attr\"\u003E10\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003E10\u003C\u002Fspan\u003E] } \u002F\u002F \u003Cspan class=\"hljs-attr\"\u003EAdd\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eten\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Epixels\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eof\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Edata\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eunits\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eto\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eboth\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Esides\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eof\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ethe\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Escale\u003C\u002Fspan\u003E&#x27;\u003Cspan class=\"hljs-attr\"\u003Es\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Edomain\u003C\u002Fspan\u003E\n&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"ypadding\"\u003EyPadding \u003Ccode\u003EArray:[leftPixels: Number, rightPixels: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#ypadding\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xpadding\"\u003ExPadding\u003C\u002Fa\u003E but for the y domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"zpadding\"\u003EzPadding \u003Ccode\u003EArray:[leftPixels: Number, rightPixels: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#zpadding\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xpadding\"\u003ExPadding\u003C\u002Fa\u003E but for the z domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rpadding\"\u003ErPadding \u003Ccode\u003EArray:[leftPixels: Number, rightPixels: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#rpadding\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xpadding\"\u003ExPadding\u003C\u002Fa\u003E but for the r domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"xnice\"\u003ExNice \u003Ccode\u003EBoolean=false\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#xnice\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EApplies D3&#39;s \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fd3\u002Fd3-scale#continuous_nice\"\u003Escale.nice()\u003C\u002Fa\u003E to the x domain. This is a separate option instead of being one you can apply to a passed in scale because D3&#39;s &quot;nice&quot; transformation only works on existing domains and does not use a state to be able to tell if your existing scale wants to be nice.\u003C\u002Fp\u003E\n\u003Ch3 id=\"ynice\"\u003EyNice \u003Ccode\u003EBoolean=false\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#ynice\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xnice\"\u003ExNice\u003C\u002Fa\u003E but for the y domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"znice\"\u003EzNice \u003Ccode\u003EBoolean=false\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#znice\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xnice\"\u003ExNice\u003C\u002Fa\u003E but for the z domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rnice\"\u003ErNice \u003Ccode\u003EBoolean=false\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#rnice\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xnice\"\u003ExNice\u003C\u002Fa\u003E but for the r domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"extents\"\u003Eextents \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#extents\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EManually set the extents of the x, y or r scale as a two-dimensional array of the min and max you want. Setting values here will skip any dynamic extent calculation of the data for that dimension.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Eextents\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{{\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ex:\u003C\u002Fspan\u003E [\u003Cspan class=\"hljs-attr\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003E100\u003C\u002Fspan\u003E], \u003Cspan class=\"hljs-attr\"\u003Ey:\u003C\u002Fspan\u003E [\u003Cspan class=\"hljs-attr\"\u003E50\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003E100\u003C\u002Fspan\u003E] }}\n&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"flatdata\"\u003EflatData \u003Ccode\u003EArray\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#flatdata\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EIn order for Layer Cake to measure the extents of your data, it needs a flat array of items that the x, y and r accessors can find. If your data is not flat (often the case if your renderers prefer a nested format), you can tell it to measure extents against a flat version. This \u003Cem\u003Ewill not\u003C\u002Fem\u003E change the shape of the data that gets passed to components — it is only for extent calculation.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003EThe library also exports a flattening function to handle common use cases if you need to flatten your data and you don&#39;t already have a flat version. See the \u003Ca href=\"\u002Fguide#flatten\"\u003Eflatten\u003C\u002Fa\u003E helper function for more info.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EHere&#39;s an example showing passing different data formats for extent calculation versus what is used by layer components.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { LayerCake } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;LayerCake&#x27;\u003C\u002Fspan\u003E;\n\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E data = [\n    {\n      \u003Cspan class=\"hljs-attr\"\u003Ekey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;apples&#x27;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Evalues\u003C\u002Fspan\u003E: [{\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;2015-03-01&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E}, ...]\n    },\n    {\n      \u003Cspan class=\"hljs-attr\"\u003Ekey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;bananas&#x27;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Evalues\u003C\u002Fspan\u003E: [{\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;2015-03-01&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1920\u003C\u002Fspan\u003E}, ...]\n    },\n  ];\n\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E flatData = [\n    {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;2015-03-01&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;apples&#x27;\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;2015-02-01&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;apples&#x27;\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;2015-01-01&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E:  \u003Cspan class=\"hljs-string\"\u003E&#x27;apples&#x27;\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;2015-00-01&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E:  \u003Cspan class=\"hljs-string\"\u003E&#x27;apples&#x27;\u003C\u002Fspan\u003E},\n\n    {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;2015-03-01&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1920\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;bananas&#x27;\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;2015-02-01&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;bananas&#x27;\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;2015-01-01&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E960\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E:  \u003Cspan class=\"hljs-string\"\u003E&#x27;bananas&#x27;\u003C\u002Fspan\u003E},\n    {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;2015-00-01&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E480\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E:  \u003Cspan class=\"hljs-string\"\u003E&#x27;bananas&#x27;\u003C\u002Fspan\u003E}\n  ];\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"css\"\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n    The wrapper div needs to have an explicit width and height in CSS.\n    It can also be a flexbox child or CSS grid element.\n    The point being it needs dimensions since the &lt;LayerCake&gt; element will\n    expand to fill it.\n  *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-selector-class\"\u003E.chart-container\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-attribute\"\u003Ewidth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E100%\u003C\u002Fspan\u003E;\n    \u003Cspan class=\"hljs-attribute\"\u003Eheight\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E300px\u003C\u002Fspan\u003E;\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;chart-container&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;month&#x27;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;value&#x27;\u003C\u002Fspan\u003E\n    {\u003Cspan class=\"hljs-attr\"\u003Edata\u003C\u002Fspan\u003E}\n    {\u003Cspan class=\"hljs-attr\"\u003EflatData\u003C\u002Fspan\u003E}\n  &gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-comment\"\u003E&lt;!-- Components go here --&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"ssr\"\u003Essr \u003Ccode\u003EBoolean=false\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#ssr\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESet whether this chart should be rendered server side. This is best used in conjunction with the \u003Ca href=\"guide#scaledsvg\"\u003EScaledSvg\u003C\u002Fa\u003E component or HTML components that are set to use percentage scales since you won&#39;t know the size of the container at render time.\u003C\u002Fp\u003E\n\u003Cp\u003EUse it in conjunction with \u003Ca href=\"guide#percentrange\"\u003E\u003Ccode\u003EpercentRange={true}\u003C\u002Fcode\u003E\u003C\u002Fa\u003E to easily set up your scales for a percent coordinate systems.\u003C\u002Fp\u003E\n\u003Ch3 id=\"percentrange\"\u003EpercentRange \u003Ccode\u003EBoolean=false\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#percentrange\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EWhen rendering charts server side, you pretty much always want your scale range to be \u003Ccode\u003E[0, 100]\u003C\u002Fcode\u003E since you won&#39;t be able to base the range off of the target container&#39;s width. Use this convenience helper to set the min and max to be out of a hundred.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003EThe default range for the y-scale will be \u003Ccode\u003E[100, 0]\u003C\u002Fcode\u003E because \u003Ccode\u003EyReverse\u003C\u002Fcode\u003E defaults to \u003Ccode\u003Etrue\u003C\u002Fcode\u003E. All of the range reverse functions will work as usual with this.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch3 id=\"position\"\u003Eposition \u003Ccode\u003EString=&#39;relative&#39;\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#position\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EDetermine the positioning of the wrapper div. Set this to \u003Ccode\u003E&#39;absolute&#39;\u003C\u002Fcode\u003E when you want to stack two \u003Ccode\u003E&lt;LayerCake&gt;\u003C\u002Fcode\u003E components on top of one another, such as when you have one that is server-side rendered and one client side like in the \u003Ca href=\"\u002Fexample-ssr\u002FColumn\"\u003EAnnotated column\u003C\u002Fa\u003E example.\u003C\u002Fp\u003E\n\u003Ch3 id=\"custom\"\u003Ecustom \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#custom\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EAny extra configuration values you want available on the LayerCake context. This could be useful for color lookups or additional constants.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Ecustom\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E { \u003Cspan class=\"hljs-attr\"\u003Esize:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E10\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Enames:\u003C\u002Fspan\u003E [&#x27;\u003Cspan class=\"hljs-attr\"\u003Ea\u003C\u002Fspan\u003E&#x27;, &#x27;\u003Cspan class=\"hljs-attr\"\u003Eb\u003C\u002Fspan\u003E&#x27;, &#x27;\u003Cspan class=\"hljs-attr\"\u003Ec\u003C\u002Fspan\u003E&#x27;] } }\n&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E",metadata:{title:"LayerCake props"},subsections:[{slug:f,title:f},{slug:a,title:a},{slug:b,title:b},{slug:c,title:c},{slug:d,title:d},{slug:g,title:g},{slug:"xscale",title:"xScale"},{slug:"yscale",title:"yScale"},{slug:"zscale",title:"zScale"},{slug:"rscale",title:"rScale"},{slug:"xdomain",title:h},{slug:"ydomain",title:i},{slug:"zdomain",title:j},{slug:"rdomain",title:k},{slug:"xreverse",title:"xReverse"},{slug:"yreverse",title:"yReverse"},{slug:"zreverse",title:"zReverse"},{slug:"rreverse",title:"rReverse"},{slug:"xrange",title:l},{slug:"yrange",title:m},{slug:"zrange",title:n},{slug:"rrange",title:o},{slug:"xpadding",title:"xPadding"},{slug:"ypadding",title:"yPadding"},{slug:"zpadding",title:"zPadding"},{slug:"rpadding",title:"rPadding"},{slug:"xnice",title:"xNice"},{slug:"ynice",title:"yNice"},{slug:"znice",title:"zNice"},{slug:"rnice",title:"rNice"},{slug:e,title:e},{slug:"flatdata",title:"flatData"},{slug:p,title:p},{slug:"percentrange",title:"percentRange"},{slug:q,title:q},{slug:r,title:r}],slug:"layercake-props",file:"02-layercake-props.md"},{html:"\u003Cp\u003EIn addition to the values you set on the LayerCake component, additional properties are computed and exposed on the context.\u003C\u002Fp\u003E\n\u003Ch3 id=\"activegetters\"\u003EactiveGetters \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#activegetters\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EAn object that has a key for each dimension of data you have provided an accessor key for and a value that is the accessor function. This used internally but it&#39;s exposed here in case it&#39;s useful.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E{\n  x: &#x27;&lt;function&gt;&#x27;,\n  y: &#x27;&lt;function&gt;&#x27;,\n  z: &#x27;&lt;function&gt;&#x27;,\n  r: &#x27;&lt;function&gt;\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"aspectratio\"\u003EaspectRatio \u003Ccode\u003ENumber\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#aspectratio\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe aspect ratio of the chart, \u003Ccode\u003Ewidth \u002F height\u003C\u002Fcode\u003E. This is also exposed as a variable on the Layer Cake slot so you can access it with \u003Ccode\u003Elet:aspectRatio\u003C\u002Fcode\u003E. For example, you could use it to selectively display some components over others:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Elet:aspectRatio\u003C\u002Fspan\u003E\n&gt;\u003C\u002Fspan\u003E\n  {#if aspectRatio &gt; 1}\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayoutOne\u003C\u002Fspan\u003E\u002F&gt;\u003C\u002Fspan\u003E\n  {:else}\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayoutTwo\u003C\u002Fspan\u003E\u002F&gt;\u003C\u002Fspan\u003E\n  {\u002Fif}\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"box\"\u003Ebox \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#box\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EA bounding box object of the parent container with \u003Ccode\u003Etop\u003C\u002Fcode\u003E, \u003Ccode\u003Eright\u003C\u002Fcode\u003E, \u003Ccode\u003Ebottom\u003C\u002Fcode\u003E, \u003Ccode\u003Eleft\u003C\u002Fcode\u003E, \u003Ccode\u003Ewidth\u003C\u002Fcode\u003E and \u003Ccode\u003Eheight\u003C\u002Fcode\u003E numbers in pixels. Useful for creating tooltips.\u003C\u002Fp\u003E\n\u003Ch3 id=\"config\"\u003Econfig \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#config\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EA copy of some of the config properties set on the \u003Ccode\u003E&lt;LayerCake&gt;\u003C\u002Fcode\u003E component.\u003C\u002Fp\u003E\n\u003Cp\u003ESome of these properties get changed by the time they end up on the context object. For example, the \u003Ca href=\"\u002Fguide#x\"\u003Ex\u003C\u002Fa\u003E, \u003Ca href=\"\u002Fguide#y\"\u003Ey\u003C\u002Fa\u003E, \u003Ca href=\"\u002Fguide#z\"\u003Ez\u003C\u002Fa\u003E and \u003Ca href=\"\u002Fguide#r\"\u003Er\u003C\u002Fa\u003E LayerCake properties can be strings or arrays but when they&#39;re exposed on the context as compued values, they are always a function. Sometimes, it&#39;s useful to refer to those original props such as in the \u003Ca href=\"\u002Fexample\u002FClevelandDotPlot\"\u003ECleveland Dot Plot example\u003C\u002Fa\u003E, which uses the x accessor shorthand of providing a list of keys.\u003C\u002Fp\u003E\n\u003Cp\u003EOr, \u003Ca href=\"\u002Fguide#xdomain\"\u003ExDomain\u003C\u002Fa\u003E and the other domain props can be used to set manual limits on the min or max of the domain scale. This can be different from what gets set on the context \u003Ca href=\"\u002Fguide#xdomain\"\u003ExDomain\u003C\u002Fa\u003E if the prop value contained any \u003Ccode\u003Enull\u003C\u002Fcode\u003E values. If you want to refer to the original value for any reason, it&#39;s set on this object.\u003C\u002Fp\u003E\n\u003Cp\u003EHaving access to this field can help you not repeat yourself in specifying things twice or in scenarios where Layer Cake is doing a transformation on that original value, like in accessors or domain inputs, and you want to know about the original value.\u003C\u002Fp\u003E\n\u003Ch3 id=\"containerwidth\"\u003EcontainerWidth \u003Ccode\u003ENumber\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#containerwidth\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe width of the parent container, the div element that contains the \u003Ccode\u003E&lt;LayerCake&gt;\u003C\u002Fcode\u003E component. This is also exposed as a variable on the Layer Cake slot so you can access it with \u003Ccode\u003Elet:containerWidth\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"containerheight\"\u003EcontainerHeight \u003Ccode\u003ENumber\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#containerheight\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe height of the parent container, the div element that contains the \u003Ccode\u003E&lt;LayerCake&gt;\u003C\u002Fcode\u003E component. This is also exposed as a variable on the Layer Cake slot so you can access it with \u003Ccode\u003Elet:containerHeight\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"extents-1\"\u003Eextents \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#extents-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EAn object containing a key for x, y or r (if any are set), whose value is two-value array representing the min and max values for that field in the data.\u003C\u002Fp\u003E\n\u003Cp\u003EThis value could differ from the domain of your scale if you are manually setting a limit on your scale by setting any of the \u003Ccode\u003ExDomain\u003C\u002Fcode\u003E, \u003Ccode\u003EyDomain\u003C\u002Fcode\u003E, \u003Ccode\u003EzDomain\u003C\u002Fcode\u003E or \u003Ccode\u003ErDomain\u003C\u002Fcode\u003E settings. This is used internally to set domain things but it&#39;s also useful as a reference if you want to toggle between an arbitrary domain and the measured extents of the data, such as in the \u003Ca href=\"\u002Fexample\u002FSmallMultiples\"\u003Esmall multiples example\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E{\n  \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: [\u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E235\u003C\u002Fspan\u003E],\n  \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: [\u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E80\u003C\u002Fspan\u003E],\n  \u003Cspan class=\"hljs-attr\"\u003Ez\u003C\u002Fspan\u003E: [\u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E90\u003C\u002Fspan\u003E],\n  \u003Cspan class=\"hljs-attr\"\u003Er\u003C\u002Fspan\u003E: [\u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E35\u003C\u002Fspan\u003E]\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"width\"\u003Ewidth \u003Ccode\u003ENumber\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#width\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe width of the drawable space for the chart. This is the width of the parent container taking into account any margin. This is also exposed as a variable on the Layer Cake slot so you can access it with \u003Ccode\u003Elet:width\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"height\"\u003Eheight \u003Ccode\u003ENumber\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#height\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe width of the drawable space for the chart. This is the height of the parent container taking into account any margin. This is also exposed as a variable on the Layer Cake slot so you can access it with \u003Ccode\u003Elet:height\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"x-1\"\u003Ex \u003Ccode\u003EFunction\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#x-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe x accessor. This will always be a function regardless of whether you passed in a string or an array as a prop. If you passed in an array, it will return an array of equal length.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E&lt;LayerCake\n  x=&#x27;x&#x27;\n  &lt;!-- equivalent to --&gt;\n  x={ d =&gt; d.x }\n&gt;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { getContext } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;svelte&#x27;\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { data, x, y } = getContext(\u003Cspan class=\"hljs-string\"\u003E&#x27;LayerCake&#x27;\u003C\u002Fspan\u003E);\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n{#each $data as d}\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ecircle\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Ecx\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;{$xScale($x(d))}&quot;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Ecy\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;{$yScale($y(d))}&quot;\u003C\u002Fspan\u003E\n  \u002F&gt;\u003C\u002Fspan\u003E\n{\u002Feach}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"y-1\"\u003Ey \u003Ccode\u003EFunction\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#y-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#x-1\"\u003Ex\u003C\u002Fa\u003E but for the y dimension.\u003C\u002Fp\u003E\n\u003Ch3 id=\"z-1\"\u003Ez \u003Ccode\u003EFunction\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#z-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#x-1\"\u003Ex\u003C\u002Fa\u003E but for the z dimension.\u003C\u002Fp\u003E\n\u003Ch3 id=\"r-1\"\u003Er \u003Ccode\u003EFunction\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#r-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#x-1\"\u003Ex\u003C\u002Fa\u003E but for the r dimension.\u003C\u002Fp\u003E\n\u003Ch3 id=\"xdomain-1\"\u003ExDomain \u003Ccode\u003EArray:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#xdomain-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe calculated extent of the x-dimension of the data. This is the extent of the data taking into account any manual settings passed in for \u003Ca href=\"\u002Fguide#xdomain\"\u003ExDomain\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EFor example, if the extent of the data is \u003Ccode\u003E[10, 100]\u003C\u002Fcode\u003E and you set the xDomain prop to \u003Ccode\u003E[0, null]\u003C\u002Fcode\u003E, the xDomain on the context value is \u003Ccode\u003E[0, 100]\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EIt&#39;s equivalent to calling \u003Ccode\u003E$xScale.domain()\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"ydomain-1\"\u003EyDomain \u003Ccode\u003EArray:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#ydomain-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xdomain-1\"\u003ExDomain\u003C\u002Fa\u003E above but for the y domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"zdomain-1\"\u003EzDomain \u003Ccode\u003EArray:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#zdomain-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xdomain-1\"\u003ExDomain\u003C\u002Fa\u003E above but for the z domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rdomain-1\"\u003ErDomain \u003Ccode\u003EArray:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#rdomain-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xdomain-1\"\u003ExDomain\u003C\u002Fa\u003E above but for the r domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"xrange-1\"\u003ExRange \u003Ccode\u003EArray:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#xrange-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe range used for the x-scale. This is usually \u003Ccode\u003E[0, width]\u003C\u002Fcode\u003E unless it&#39;s been manually set via the \u003Ca href=\"\u002Fguide#xrange\"\u003ExRange\u003C\u002Fa\u003E prop.\u003C\u002Fp\u003E\n\u003Cp\u003EIt&#39;s equivalent to calling \u003Ccode\u003E$xScale.range()\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"yrange-1\"\u003EyRange \u003Ccode\u003EArray:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#yrange-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xrange-1\"\u003ExRange\u003C\u002Fa\u003E above but for the y domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"zrange-1\"\u003EzRange \u003Ccode\u003EArray:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#zrange-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xrange-1\"\u003ExRange\u003C\u002Fa\u003E above but for the z domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rrange-1\"\u003ErRange \u003Ccode\u003EArray:[min: Number, max: Number]\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#rrange-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xrange-1\"\u003ExRange\u003C\u002Fa\u003E above but for the r domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"xget\"\u003ExGet\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Ed: \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#xget\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EOften you want to get the x value from a row in your data and scale it like so: \u003Ccode\u003E$xScale($x(d))\u003C\u002Fcode\u003E. This function is shorthand for doing just that. Super handy!\u003C\u002Fp\u003E\n\u003Cp\u003EHere&#39;s an example from a simple SVG line path generator:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { getContext } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;svelte&#x27;\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { data, xGet, yGet } = getContext(\u003Cspan class=\"hljs-string\"\u003E&#x27;LayerCake&#x27;\u003C\u002Fspan\u003E);\n\n$: path=  \u003Cspan class=\"hljs-string\"\u003E&#x27;M&#x27;\u003C\u002Fspan\u003E + $data\n  .map(\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Ed\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E $xGet(d) + \u003Cspan class=\"hljs-string\"\u003E&#x27;,&#x27;\u003C\u002Fspan\u003E + $yGet(d);\n  })\n  .join(\u003Cspan class=\"hljs-string\"\u003E&#x27;L&#x27;\u003C\u002Fspan\u003E);\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"yget\"\u003EyGet\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Ed: \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#yget\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xget\"\u003ExGet\u003C\u002Fa\u003E but for the y scale.\u003C\u002Fp\u003E\n\u003Ch3 id=\"zget\"\u003EzGet\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Ed: \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#zget\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xget\"\u003ExGet\u003C\u002Fa\u003E but for the z scale.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rget\"\u003ErGet\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Ed: \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#rget\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as \u003Ca href=\"\u002Fguide#xget\"\u003ExGet\u003C\u002Fa\u003E but for the r scale.\u003C\u002Fp\u003E\n\u003Ch3 id=\"xscale-1\"\u003ExScale\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Ed: \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#xscale-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe calculated scale for the x dimension.\u003C\u002Fp\u003E\n\u003Ch3 id=\"yscale-1\"\u003EyScale\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Ed: \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#yscale-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as the above but for the y dimension.\u003C\u002Fp\u003E\n\u003Ch3 id=\"zscale-1\"\u003EzScale\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Ed: \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#zscale-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as the above but for the z dimension.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rscale-1\"\u003ErScale\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Ed: \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#rscale-1\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESame as the above but for the r dimension.\u003C\u002Fp\u003E\n",metadata:{title:"Computed context values"},subsections:[{slug:"activegetters",title:"activeGetters"},{slug:"aspectratio",title:"aspectRatio"},{slug:s,title:s},{slug:t,title:t},{slug:"containerwidth",title:"containerWidth"},{slug:"containerheight",title:"containerHeight"},{slug:"extents-1",title:e},{slug:u,title:u},{slug:v,title:v},{slug:"x-1",title:a},{slug:"y-1",title:b},{slug:"z-1",title:c},{slug:"r-1",title:d},{slug:"xdomain-1",title:h},{slug:"ydomain-1",title:i},{slug:"zdomain-1",title:j},{slug:"rdomain-1",title:k},{slug:"xrange-1",title:l},{slug:"yrange-1",title:m},{slug:"zrange-1",title:n},{slug:"rrange-1",title:o},{slug:"xget",title:"xGet(...)"},{slug:"yget",title:"yGet(...)"},{slug:"zget",title:"zGet(...)"},{slug:"rget",title:"rGet(...)"},{slug:"xscale-1",title:"xScale(...)"},{slug:"yscale-1",title:"yScale(...)"},{slug:"zscale-1",title:"zScale(...)"},{slug:"rscale-1",title:"rScale(...)"}],slug:"computed-context-values",file:"03-computed-context-values.md"},{html:"\u003Cp\u003ELayer Cake comes with layout components that provide HTML, Svg, ScaledSvg, Canvas and WebGL containers for your custom components.\u003C\u002Fp\u003E\n\u003Cp\u003EYou must wrap your chart components in these layout components for them to appear properly scaled. For Html and Svg components, they create a \u003Ccode\u003E&lt;div&gt;\u003C\u002Fcode\u003E and \u003Ccode\u003E&lt;g&gt;\u003C\u002Fcode\u003E, respectively.\u003C\u002Fp\u003E\n\u003Cp\u003EThe Canvas and WebGL layout components also create canvas contexts that are then available on the LayerCake context object.\u003C\u002Fp\u003E\n\u003Cp\u003EEach of these components also takes props. See the next section \u003Ca href=\"\u002Fguide#layout-component-props\"\u003ELayout component props\u003C\u002Fa\u003E for more info.\u003C\u002Fp\u003E\n\u003Cp\u003EHere are the four layout components: HTML, Svg, ScaledSvg, Canvas and WebGL containers.\u003C\u002Fp\u003E\n\u003Ch3 id=\"html\"\u003EHtml\u003Ca href=\"\u002Fguide#html\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E App.svelte\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { LayerCake, Html } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;layercake&#x27;\u003C\u002Fspan\u003E;\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"css\"\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n    The wrapper div needs to have an explicit width and height in CSS.\n    It can also be a flexbox child or CSS grid element.\n    The point being it needs dimensions since the &lt;LayerCake&gt; element will\n    expand to fill it.\n  *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-selector-class\"\u003E.chart-container\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-attribute\"\u003Ewidth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E100%\u003C\u002Fspan\u003E;\n    \u003Cspan class=\"hljs-attribute\"\u003Eheight\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E300px\u003C\u002Fspan\u003E;\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;chart-container&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E...\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EHtml\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003EzIndex\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{1}\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-comment\"\u003E&lt;!-- Optional z-index --&gt;\u003C\u002Fspan\u003E\n      ...\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003EHtml\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"svg\"\u003ESvg\u003Ca href=\"\u002Fguide#svg\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe SVG layout component also accepts a \u003Ccode\u003EviewBox\u003C\u002Fcode\u003E prop. See the \u003Ca href=\"\u002Fguide#layout-component-props\"\u003ELayout component props\u003C\u002Fa\u003E section for more information.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E App.svelte\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { LayerCake, Svg } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;layercake&#x27;\u003C\u002Fspan\u003E;\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"css\"\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n    The wrapper div needs to have an explicit width and height in CSS.\n    It can also be a flexbox child or CSS grid element.\n    The point being it needs dimensions since the &lt;LayerCake&gt; element will\n    expand to fill it.\n  *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-selector-class\"\u003E.chart-container\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-attribute\"\u003Ewidth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E100%\u003C\u002Fspan\u003E;\n    \u003Cspan class=\"hljs-attribute\"\u003Eheight\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E300px\u003C\u002Fspan\u003E;\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;chart-container&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E...\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003EzIndex\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{2}\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-comment\"\u003E&lt;!-- Optional z-index --&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EThis component also has a \u003Ca href=\"https:\u002F\u002Fsvelte.dev\u002Fdocs#slot_name\"\u003Enamed slot\u003C\u002Fa\u003E for adding elements into the SVG \u003Ccode\u003E&lt;defs&gt;\u003C\u002Fcode\u003E field.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;chart-container&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E...\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n      \u003Cspan class=\"hljs-comment\"\u003E&lt;!-- Add your defs in a named slot here --&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Esvelte:fragment\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eslot\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;defs&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ElinearGradient\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eid\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;myGradient&quot;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003EgradientTransform\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;rotate(90)&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estop\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eoffset\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;20%&quot;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Estop-color\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;gold&quot;\u003C\u002Fspan\u003E \u002F&gt;\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estop\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eoffset\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;90%&quot;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Estop-color\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;red&quot;\u003C\u002Fspan\u003E \u002F&gt;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ElinearGradient\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Esvelte:fragment\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"scaledsvg\"\u003EScaledSvg\u003Ca href=\"\u002Fguide#scaledsvg\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EUse this when you want to render SVGs server side, using Rich Harris&#39;s \u003Ca href=\"https:\u002F\u002Fdev.to\u002Frichharris\u002Fa-new-technique-for-making-responsive-javascript-free-charts-gmp\"\u003EPancake technique\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EIt&#39;s often used in conjunction with props \u003Ccode\u003Essr={true}\u003C\u002Fcode\u003E and \u003Ccode\u003EpercentRange={true}\u003C\u002Fcode\u003E. \u003C\u002Fp\u003E\n\u003Cp\u003EThe ScaledSvg component has two custom props: \u003Ccode\u003EfixedAspectRatio\u003C\u002Fcode\u003E and \u003Ccode\u003EviewBox\u003C\u002Fcode\u003E. See the \u003Ca href=\"\u002Fguide#layout-component-props\"\u003ELayout component props\u003C\u002Fa\u003E section for more information.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E App.svelte\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { LayerCake, ScaledSvg } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;layercake&#x27;\u003C\u002Fspan\u003E;\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"css\"\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n    The wrapper div needs to have an explicit width and height in CSS.\n    It can also be a flexbox child or CSS grid element.\n    The point being it needs dimensions since the &lt;LayerCake&gt; element will\n    expand to fill it.\n  *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-selector-class\"\u003E.chart-container\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-attribute\"\u003Ewidth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E100%\u003C\u002Fspan\u003E;\n    \u003Cspan class=\"hljs-attribute\"\u003Eheight\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E300px\u003C\u002Fspan\u003E;\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;chart-container&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Essr\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{true}\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003EpercentRange\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{true}\u003C\u002Fspan\u003E\n  &gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EScaledSvg\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003EfixedAspectRatio\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{16\u002F9}\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-comment\"\u003E&lt;!-- Optional fixed aspect ratio --&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003EScaledSvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EThis component also has a \u003Ca href=\"https:\u002F\u002Fsvelte.dev\u002Fdocs#slot_name\"\u003Enamed slot\u003C\u002Fa\u003E for adding elements into the SVG \u003Ccode\u003E&lt;defs&gt;\u003C\u002Fcode\u003E field.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;chart-container&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E...\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n      \u003Cspan class=\"hljs-comment\"\u003E&lt;!-- Add your defs in a named slot here --&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Esvelte:fragment\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eslot\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;defs&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ElinearGradient\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eid\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;myGradient&quot;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003EgradientTransform\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;rotate(90)&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estop\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eoffset\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;20%&quot;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Estop-color\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;gold&quot;\u003C\u002Fspan\u003E \u002F&gt;\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estop\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eoffset\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;90%&quot;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Estop-color\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;red&quot;\u003C\u002Fspan\u003E \u002F&gt;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ElinearGradient\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Esvelte:fragment\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"canvas\"\u003ECanvas\u003Ca href=\"\u002Fguide#canvas\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E App.svelte\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { LayerCake, Canvas } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;layercake&#x27;\u003C\u002Fspan\u003E;\n\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E CanvasLayer \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;.\u002Fcomponents\u002FCanvasLayer.svelte&#x27;\u003C\u002Fspan\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"css\"\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n    The wrapper div needs to have an explicit width and height in CSS.\n    It can also be a flexbox child or CSS grid element.\n    The point being it needs dimensions since the &lt;LayerCake&gt; element will\n    expand to fill it.\n  *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-selector-class\"\u003E.chart-container\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-attribute\"\u003Ewidth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E100%\u003C\u002Fspan\u003E;\n    \u003Cspan class=\"hljs-attribute\"\u003Eheight\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E300px\u003C\u002Fspan\u003E;\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;chart-container&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E...\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ECanvas\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003EzIndex\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{3}\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-comment\"\u003E&lt;!-- Optional z-index --&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ECanvasLayer\u003C\u002Fspan\u003E\u002F&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ECanvas\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EIn the component, you access the canvas context with \u003Ccode\u003Econst { ctx } = getContext(&#39;canvas&#39;);\u003C\u002Fcode\u003E. This value is on a different context from the \u003Ccode\u003EgetContext(&#39;LayerCake&#39;)\u003C\u002Fcode\u003E one because you could have multiple canvas layers and there wouldn&#39;t be an easy way to grab the right one. This way, the component always has access to just its parent Canvas component.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003ESince the \u003Ccode\u003Ectx\u003C\u002Fcode\u003E value is a normal 2d context, the underlying canvas element is accessible under \u003Ccode\u003Ectx.canvas\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EHere&#39;s an example showing a scatter plot.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E .\u002Fcomponents\u002FCanvasLayer.svelte\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { getContext } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;svelte&#x27;\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { scaleCanvas } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;layercake&#x27;\u003C\u002Fspan\u003E;\n\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { data, xGet, yGet, width, height } = getContext(\u003Cspan class=\"hljs-string\"\u003E&#x27;LayerCake&#x27;\u003C\u002Fspan\u003E);\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { ctx } = getContext(\u003Cspan class=\"hljs-string\"\u003E&#x27;canvas&#x27;\u003C\u002Fspan\u003E);\n\n  $: {\n    \u003Cspan class=\"hljs-keyword\"\u003Eif\u003C\u002Fspan\u003E ($ctx) {\n      \u003Cspan class=\"hljs-comment\"\u003E\u002F* --------------------------------------------\n       * If you were to have multiple canvas layers\n       * maybe for some artistic layering purposes\n       * put these reset functions in the first layer, not each one\n       * since they should only run once per update\n       *\u002F\u003C\u002Fspan\u003E\n      scaleCanvas($ctx, $width, $height);\n      $ctx.clearRect(\u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, $width, $height);\n\n      \u003Cspan class=\"hljs-comment\"\u003E\u002F* --------------------------------------------\n       * Draw the scatterplot\n       *\u002F\u003C\u002Fspan\u003E\n      $data.forEach(\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Ed\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E {\n        $ctx.beginPath();\n        $ctx.arc($xGet(d), $yGet(d), \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E * \u003Cspan class=\"hljs-built_in\"\u003EMath\u003C\u002Fspan\u003E.PI, \u003Cspan class=\"hljs-literal\"\u003Efalse\u003C\u002Fspan\u003E);\n        $ctx.fillStyle = \u003Cspan class=\"hljs-string\"\u003E&#x27;#f0c&#x27;\u003C\u002Fspan\u003E;\n        $ctx.fill();\n      });\n    }\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"webgl\"\u003EWebGL\u003Ca href=\"\u002Fguide#webgl\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E App.svelte\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { LayerCake, WebGL } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;layercake&#x27;\u003C\u002Fspan\u003E;\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"css\"\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n    The wrapper div needs to have an explicit width and height in CSS.\n    It can also be a flexbox child or CSS grid element.\n    The point being it needs dimensions since the &lt;LayerCake&gt; element will\n    expand to fill it.\n  *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-selector-class\"\u003E.chart-container\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-attribute\"\u003Ewidth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E100%\u003C\u002Fspan\u003E;\n    \u003Cspan class=\"hljs-attribute\"\u003Eheight\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E300px\u003C\u002Fspan\u003E;\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;chart-container&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E...\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EWebGL\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003EzIndex\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{4}\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-comment\"\u003E&lt;!-- Optional z-index --&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003EWebGL\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EIn the component, you access the canvas context with \u003Ccode\u003Econst { gl } = getContext(&#39;gl&#39;);\u003C\u002Fcode\u003E. This value is on a different context from the \u003Ccode\u003EgetContext(&#39;LayerCake&#39;)\u003C\u002Fcode\u003E one because you could have multiple WebGL layers and there wouldn&#39;t be an easy way to grab the right one.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003ESince the \u003Ccode\u003Egl\u003C\u002Fcode\u003E value is a normal WebGL context, the underlying canvas element is accessible under \u003Ccode\u003Egl.canvas\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003ESee the \u003Ca href=\"\u002Fexample\u002FScatterWebgl\"\u003EWebGL scatter chart\u003C\u002Fa\u003E for a working example.\u003C\u002Fp\u003E\n",metadata:{title:"Layout components"},subsections:[{slug:"html",title:"Html"},{slug:"svg",title:"Svg"},{slug:"scaledsvg",title:"ScaledSvg"},{slug:"canvas",title:"Canvas"},{slug:"webgl",title:"WebGL"}],slug:"layout-components",file:"04-layout-components.md"},{html:"\u003Cp\u003EAll layout components accept the following props:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"guide#zindex-1\"\u003EzIndex\u003C\u002Fa\u003E \u003Ccode\u003ENumber|String\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"guide#pointerevents-1\"\u003EpointerEvents\u003C\u002Fa\u003E \u003Ccode\u003EBoolean\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EThe Svg and ScaledSvg layout components also accept:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"guide#viewbox-1\"\u003EviewBox\u003C\u002Fa\u003E \u003Ccode\u003EString\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EAnd ScaledSvg additionally accepts:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"guide#fixedaspectratio-1\"\u003EfixedAspectRatio\u003C\u002Fa\u003E \u003Ccode\u003ENumber\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EThe WebGL Component accepts:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"guide#contextattributes-1\"\u003EcontextAttributes\u003C\u002Fa\u003E \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EEach layout component also export an \u003Ccode\u003Eelement\u003C\u002Fcode\u003E prop that you can bind to and represents the HTML element that wraps the layout component. These are also available as slot props.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EIn the \u003Ccode\u003EHtml\u003C\u002Fcode\u003E component, \u003Ccode\u003Eelement\u003C\u002Fcode\u003E equals the \u003Ccode\u003E&lt;div&gt;\u003C\u002Fcode\u003E tag.\u003C\u002Fli\u003E\n\u003Cli\u003EIn the \u003Ccode\u003ESvg\u003C\u002Fcode\u003E component, \u003Ccode\u003Eelement\u003C\u002Fcode\u003E equals the \u003Ccode\u003E&lt;svg&gt;\u003C\u002Fcode\u003E tag.\u003C\u002Fli\u003E\n\u003Cli\u003EIn the \u003Ccode\u003EScaledSvg\u003C\u002Fcode\u003E component, \u003Ccode\u003Eelement\u003C\u002Fcode\u003E equals the \u003Ccode\u003E&lt;svg&gt;\u003C\u002Fcode\u003E tag.\u003C\u002Fli\u003E\n\u003Cli\u003EIn the \u003Ccode\u003ECanvas\u003C\u002Fcode\u003E component, \u003Ccode\u003Eelement\u003C\u002Fcode\u003E equals the \u003Ccode\u003E&lt;canvas&gt;\u003C\u002Fcode\u003E tag.\u003C\u002Fli\u003E\n\u003Cli\u003EIn the \u003Ccode\u003EWebGL\u003C\u002Fcode\u003E component, \u003Ccode\u003Eelement\u003C\u002Fcode\u003E equals the \u003Ccode\u003E&lt;canvas&gt;\u003C\u002Fcode\u003E tag.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EThe \u003Ccode\u003ECanvas\u003C\u002Fcode\u003E and the \u003Ccode\u003EWebGL\u003C\u002Fcode\u003E components also export a \u003Ccode\u003Econtext\u003C\u002Fcode\u003E variable that you can bind to and is also available as a slot prop.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EIn the \u003Ccode\u003ECanvas\u003C\u002Fcode\u003E component, \u003Ccode\u003Econtext\u003C\u002Fcode\u003E equals \u003Ccode\u003Eelement.getContext(&#39;2d&#39;)\u003C\u002Fcode\u003E.\u003C\u002Fli\u003E\n\u003Cli\u003EIn the \u003Ccode\u003EWebGL\u003C\u002Fcode\u003E component, \u003Ccode\u003Econtext\u003C\u002Fcode\u003E equals \u003Ccode\u003Eelement.getContext(&#39;webgl&#39;)\u003C\u002Fcode\u003E.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E svgElement;\n \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E canvasElement;\n \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E canvasContext\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E...\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Ebind:element\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{svgElement}\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Elet:element\u003C\u002Fspan\u003E\n  &gt;\u003C\u002Fspan\u003E\n    {console.log(svgElement === element)} \n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ECanvas\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Ebind:element\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{canvasElement}\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Ebind:context\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{canvasContext}\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Elet:element\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Elet:context\u003C\u002Fspan\u003E\n  &gt;\u003C\u002Fspan\u003E\n    {console.log(canvasElement === element)} \n    {console.log(canvasContext === context)} \n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ECanvas\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"zindex\"\u003EzIndex \u003Ccode\u003ENumber|String\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#zindex\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThis lets you fine-tune your layering and is useful if you want your layers to build in a certain order but have a different appearance than their DOM order.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E...\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003EzIndex\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{2}\u003C\u002Fspan\u003E\n  &gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"pointerevents\"\u003EpointerEvents \u003Ccode\u003EBoolean\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#pointerevents\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EUseful for tooltip layers that need to be display above chart elements but not capture mouse events. Defaults to no \u003Ccode\u003Epointer-events\u003C\u002Fcode\u003E CSS being set. Set to \u003Ccode\u003Efalse\u003C\u002Fcode\u003E to set \u003Ccode\u003Epointer-events: none;\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E...\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EHtml\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003EpointerEvents\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{false}\u003C\u002Fspan\u003E\n  &gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003EHtml\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"viewbox\"\u003EviewBox \u003Ccode\u003EString\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#viewbox\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EOn Svg components, this defaults to \u003Ccode\u003Eundefined\u003C\u002Fcode\u003E and \u003Ccode\u003E0 0 100 100\u003C\u002Fcode\u003E for ScaledSvg.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E...\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003EviewBox\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&#x27;0 0 100 50&#x27;\u003C\u002Fspan\u003E\n  &gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ESvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"fixedaspectratio\"\u003EfixedAspectRatio \u003Ccode\u003ENumber\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#fixedaspectratio\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EFor ScaledSvg components, you can pass in a set aspect ratio. See the \u003Ca href=\"\u002Fexample-ssr\u002FMapSvg\"\u003Eserver-side rendered Map\u003C\u002Fa\u003E for an example.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E...\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EScaledSvg\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003EfixedAspectRatio\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{16\u002F9}\u003C\u002Fspan\u003E\n  &gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003EScaledSvg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"contextattributes\"\u003EcontextAttributes \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003Ca href=\"\u002Fguide#contextattributes\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EFor WebGL components, you can pass in an object that gets passed as the second argument to \u003Ccode\u003Ecanvas.getContext()\u003C\u002Fcode\u003E. See the \u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FAPI\u002FHTMLCanvasElement\u002FgetContext\"\u003EWebGL docs\u003C\u002Fa\u003E for more details on what those attributes can be.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E...\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EWebGL\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003EcontextAttributes\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-attr\"\u003Eantialias:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Efalse\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Edepth:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Efalse\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Ealpha:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Efalse\u003C\u002Fspan\u003E\n    }}\n  &gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003EWebGL\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ELayerCake\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E",metadata:{title:"Layout component props"},subsections:[{slug:"zindex",title:"zIndex"},{slug:"pointerevents",title:"pointerEvents"},{slug:"viewbox",title:"viewBox"},{slug:"fixedaspectratio",title:"fixedAspectRatio"},{slug:"contextattributes",title:"contextAttributes"}],slug:"layout-component-props",file:"05-layout-component-props.md"},{html:"\u003Cp\u003ELayer Cake exposes some commonly-used helper functions. If you don&#39;t use them, they will be tree-shaken so there&#39;s no added bloat!\u003C\u002Fp\u003E\n\u003Ch3 id=\"flatten\"\u003Eflatten\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Edata: \u003Ccode\u003EArray\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#flatten\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EFlatten an array one-level down. Handy for preparing data from stacked layouts whose extents can easily be calculated.\u003C\u002Fp\u003E\n\u003Cp\u003EThis data:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E data = [\n  [{\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E}, {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E}, {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E}],\n  [{\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E}, {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E15\u003C\u002Fspan\u003E}, {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E20\u003C\u002Fspan\u003E}]\n];\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EBecomes this:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { flatten } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;layercake&#x27;\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E flatData = flatten(data);\n\u003Cspan class=\"hljs-comment\"\u003E\u002F*\n  [{x: 0, y: 1}, {x: 1, y: 5}, {x: 2, y: 10},\n   {x: 0, y: 10}, {x: 1, y: 15}, {x: 2, y: 20}]\n*\u002F\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EYou can safely use this function on arrays of arrays of arrays, such as the output from \u003Ccode\u003Ed3.stack()\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E[\n  [[   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E], [   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E], [   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E], [   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E]],\n  [[\u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E5760\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3040\u003C\u002Fspan\u003E], [ \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E], [ \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-number\"\u003E800\u003C\u002Fspan\u003E]],\n  [[\u003Cspan class=\"hljs-number\"\u003E5760\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E6720\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E3040\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E4000\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2240\u003C\u002Fspan\u003E], [ \u003Cspan class=\"hljs-number\"\u003E800\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E]],\n  [[\u003Cspan class=\"hljs-number\"\u003E6720\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E7120\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E4000\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E4400\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E2240\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2640\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1840\u003C\u002Fspan\u003E]]\n]\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EBecomes...\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E[ [ \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E5760\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3040\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E800\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E5760\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E6720\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E3040\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E4000\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2240\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E800\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E6720\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E7120\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E4000\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E4400\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E2240\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2640\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1840\u003C\u002Fspan\u003E ]\n]\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"scalecanvas\"\u003EscaleCanvas\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Ectx: \u003Ccode\u003ECanvas 2d Context\u003C\u002Fcode\u003E, width: \u003Ccode\u003ENumber\u003C\u002Fcode\u003E, height: \u003Ccode\u003ENumber\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#scalecanvas\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EScale your canvas size to retina screens. This function will modify the canvas, if necessary, and return an object with the new \u003Ccode\u003Ewidth\u003C\u002Fcode\u003E and \u003Ccode\u003Eheight\u003C\u002Fcode\u003E as properties.\u003C\u002Fp\u003E\n\u003Cp\u003ESuch as in the \u003Ca href=\"\u002Fexample\u002FScatter\"\u003EScatter canvas\u003C\u002Fa\u003E example:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E Scatter.html\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { getContext } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;svelte&#x27;\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { scaleCanvas } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;layercake&#x27;\u003C\u002Fspan\u003E;\n\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { data, xGet, yGet, width, height } = getContext(\u003Cspan class=\"hljs-string\"\u003E&#x27;LayerCake&#x27;\u003C\u002Fspan\u003E);\n\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { ctx } = getContext(\u003Cspan class=\"hljs-string\"\u003E&#x27;canvas&#x27;\u003C\u002Fspan\u003E);\n\n  \u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E r;\n  \u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E fill;\n\n  $: {\n    \u003Cspan class=\"hljs-keyword\"\u003Eif\u003C\u002Fspan\u003E ($ctx) {\n      \u003Cspan class=\"hljs-comment\"\u003E\u002F* --------------------------------------------\n       * If you were to have multiple canvas layers\n       * maybe for some artistic layering purposes\n       * put these reset functions in the first layer, not each one\n       * since they should only run once per update\n       *\u002F\u003C\u002Fspan\u003E\n      scaleCanvas($ctx, $width, $height);\n      $ctx.clearRect(\u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, $width, $height);\n\n      \u003Cspan class=\"hljs-comment\"\u003E\u002F* --------------------------------------------\n       * Draw our scatterplot\n       *\u002F\u003C\u002Fspan\u003E\n      $data.forEach(\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Ed\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E {\n        $ctx.beginPath();\n        $ctx.arc($xGet(d), $yGet(d), r, \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E * \u003Cspan class=\"hljs-built_in\"\u003EMath\u003C\u002Fspan\u003E.PI, \u003Cspan class=\"hljs-literal\"\u003Efalse\u003C\u002Fspan\u003E);\n        $ctx.fillStyle = fill;\n        $ctx.fill();\n      });\n    }\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"calcextents\"\u003EcalcExtents\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003EflatData: \u003Ccode\u003EArray\u003C\u002Fcode\u003E, fields: \u003Ccode\u003EObject\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#calcextents\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ECalculate the extents of any of the keys specified in \u003Cstrong\u003Efields\u003C\u002Fstrong\u003E, which is an object whose keys represent the name of the dimension (\u003Ccode\u003Ex\u003C\u002Fcode\u003E, \u003Ccode\u003Ey\u003C\u002Fcode\u003E, \u003Ccode\u003Ez\u003C\u002Fcode\u003E or \u003Ccode\u003Er\u003C\u002Fcode\u003E) and whose values are an accessor function.\u003C\u002Fp\u003E\n\u003Cp\u003EFor example, calculating the extents for the x and y fields, which are in the data as \u003Ccode\u003EmyX\u003C\u002Fcode\u003E and \u003Ccode\u003EmyY\u003C\u002Fcode\u003E would look like this:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E extents = calcExtents(flatData, {\n  \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Ed\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E d.myX,\n  \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Ed\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E d.myY\n});\n\n\u003Cspan class=\"hljs-built_in\"\u003Econsole\u003C\u002Fspan\u003E.log(extents);\n\u003Cspan class=\"hljs-comment\"\u003E\u002F*\n{\n  x: [0, 10],\n  y: [-20, 20]\n}\n*\u002F\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EReturns an object whose keys are the field names specified as the first item in the key group array followed by an array of \u003Ccode\u003E[min, max]\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EYou can also return an array if you have an object with keys where each one is more logically associated with the min or the max like this:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E timeData = [{ \u003Cspan class=\"hljs-attr\"\u003Estart\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Eend\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E }, { \u003Cspan class=\"hljs-attr\"\u003Estart\u003C\u002Fspan\u003E: -\u003Cspan class=\"hljs-number\"\u003E10000\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Eend\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E }];\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E extents = calcExtents(timeData, {\n  \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Ed\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E [d.start, d.end]\n});\n\n\u003Cspan class=\"hljs-built_in\"\u003Econsole\u003C\u002Fspan\u003E.log(extents);\n\u003Cspan class=\"hljs-comment\"\u003E\u002F*\n{\n  y: [-10000, 1]\n}\n*\u002F\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"uniques\"\u003Euniques\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Edata: \u003Ccode\u003EArray\u003C\u002Fcode\u003E[, accessor: \u003Ccode\u003EString|Function\u003C\u002Fcode\u003E, transform: \u003Ccode\u003EBoolean\u003C\u002Fcode\u003E]\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#uniques\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EA function to get the unique values from a list. If \u003Cstrong\u003Eaccessor\u003C\u002Fstrong\u003E is specified, the uniqueness will be compared using that and, by default, the values in the returned list of unique values will be values returned by the accessor. Accessor can also be the string name of the key. Pass \u003Ccode\u003Efalse\u003C\u002Fcode\u003E to the \u003Cstrong\u003Etransform\u003C\u002Fstrong\u003E argument if you want to return the original elements, which will be the first one that appears for every unique value. The default for \u003Cstrong\u003Etransform\u003C\u002Fstrong\u003E is \u003Ccode\u003Etrue\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EThis is different from Underscore&#39;s \u003Ca href=\"https:\u002F\u002Funderscorejs.org\u002F#uniq\"\u003Euniq\u003C\u002Fa\u003E because that function doesn&#39;t return the transformed value.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { uniques } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;layercake&#x27;\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E data = [\n  { \u003Cspan class=\"hljs-attr\"\u003Eyear\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;1990&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E},\n  { \u003Cspan class=\"hljs-attr\"\u003Eyear\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;1990&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E4\u003C\u002Fspan\u003E},\n  { \u003Cspan class=\"hljs-attr\"\u003Eyear\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;1991&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E},\n  { \u003Cspan class=\"hljs-attr\"\u003Eyear\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;1991&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E6\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E},\n  { \u003Cspan class=\"hljs-attr\"\u003Eyear\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;1992&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E6\u003C\u002Fspan\u003E},\n  { \u003Cspan class=\"hljs-attr\"\u003Eyear\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;1992&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E7\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E3\u003C\u002Fspan\u003E},\n  { \u003Cspan class=\"hljs-attr\"\u003Eyear\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;1993&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E7\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E8\u003C\u002Fspan\u003E},\n  { \u003Cspan class=\"hljs-attr\"\u003Eyear\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;1993&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E3\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E}\n];\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E uniqueYears = unique(data, \u003Cspan class=\"hljs-string\"\u003E&#x27;year&#x27;\u003C\u002Fspan\u003E);\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F [&#x27;1990&#x27;, &#x27;1991&#x27;, &#x27;1992&#x27;, &#x27;1993&#x27;]\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F this is equivalent to\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E uniqueYears = unique(data, \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Ed\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E d.year);\n\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F setting transform to `false` gives you the full row of the first unique element\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E uniqueYears = unique(data, \u003Cspan class=\"hljs-string\"\u003E&#x27;year&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-literal\"\u003Efalse\u003C\u002Fspan\u003E);\n\u003Cspan class=\"hljs-comment\"\u003E\u002F*\n[\n  {year: &#x27;1990&#x27;, x: 0, y: 1},\n  {year: &#x27;1991&#x27;, x: 2, y: 5},\n  {year: &#x27;1992&#x27;, x: 1, y: 6},\n  {year: &#x27;1993&#x27;, x: 7, y: 8}\n*\u002F\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"raise\"\u003Eraise\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Eel: \u003Ccode\u003EDOM Element\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003Ca href=\"\u002Fguide#raise\"\u003E \u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EAdapted from the \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fd3\u002Fd3-selection#selection_raise\"\u003Eraise\u003C\u002Fa\u003E method in d3-selection, this is a convenience function to re-insert the passed in element as the last child of its parent. Equivalent to:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003Eel.parentNode.appendChild(el);\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EThis is useful for hovering over SVG maps so that the hovered-over feature is not obstructed by neighboring shapes. See how it&#39;s used in the \u003Ca href=\"\u002Fexample\u002FMapSvg\"\u003ESVG map component\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n",metadata:{title:"Helper functions"},subsections:[{slug:"flatten",title:"flatten(...)"},{slug:"scalecanvas",title:"scaleCanvas(...)"},{slug:"calcextents",title:"calcExtents(...)"},{slug:"uniques",title:"uniques(...)"},{slug:"raise",title:"raise(...)"}],slug:"helper-functions",file:"99-helper-functions.md"}]}}("x","y","z","r","extents","data","padding","xDomain","yDomain","zDomain","rDomain","xRange","yRange","zRange","rRange","ssr","position","custom","box","config","width","height"))]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');(function(){try{eval("async function x(){}");var main="/client/client.fe58ea4d.js"}catch(e){main="/client/legacy/client.abc63d3e.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> 