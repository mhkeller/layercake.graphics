<!doctype html> <head> <meta charset=utf-8> <meta content="width=device-width" name=viewport> <meta content=#aa1e1e name=theme-color> <base href=/ > <link href=global.css rel=stylesheet> <link href=manifest.json rel=manifest> <link href=favicon.png rel=icon type=image/png> <style>.chart-container{width:100%;height:100%}.mousecatcher.svelte-1ljay5p{position:fixed;left:0;top:0;width:100vw;height:100vh;background-color:#000;pointer-events:none;opacity:0;z-index:3}.mousecatcher.open.svelte-1ljay5p{pointer-events:all;opacity:.3}@keyframes svelte-1ljay5p-fadein{from{opacity:0}to{opacity:1}}.container.svelte-1ljay5p{position:fixed;width:100%;height:2.5em;background-color:#fff;color:#000;border-bottom:1px solid rgb(170,30,30,.1);font-family:SignPainter,Helvetica,sans-serif;z-index:5}.dropdown.svelte-1ljay5p{position:fixed;top:21px;transform:translate(0,-50%);font-family:SignPainter,Helvetica,sans-serif;font-size:25px;z-index:6;line-height:1;right:1rem;left:auto}.dropdown.svelte-1ljay5p li.svelte-1ljay5p{padding:0;margin:0;display:inline-block;vertical-align:top}.dropdown.svelte-1ljay5p li.svelte-1ljay5p:before{color:#000;content:'View...';margin-right:.25em}nav.svelte-1ljay5p{position:fixed;width:14em;height:calc(100vh - 2.5em);top:2.5em;font-family:SignPainter,Helvetica,sans-serif;background-color:#fff;transform:translate(-100%,0);transition:transform .2s cubic-bezier(.17,.67,.24,.99);border-right:1px solid #eee;z-index:5;padding:1em;user-select:none}.open.svelte-1ljay5p{transform:translate(0,0);transition:transform .3s cubic-bezier(.17,.67,.24,.99);overflow-y:auto}.menu-link.svelte-1ljay5p{display:inline;position:absolute;top:50%;left:1rem;transform:translate(0,-50%);font-size:25px;line-height:1;color:#000;cursor:pointer;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}.menu-link.menu-open.svelte-1ljay5p{color:#999}.menu-link.svelte-1ljay5p:hover{text-decoration:underline}.logo.svelte-1ljay5p{position:absolute;top:50%;left:50%;transform:translate(-50%,-45%);-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;line-height:1;text-decoration:none;font-weight:700;color:#000;font-size:25px}ul.svelte-1ljay5p{display:block;margin:0;padding:0;list-style:none}.primary.svelte-1ljay5p{margin:0 0 .5em 0}.primary.svelte-1ljay5p li.svelte-1ljay5p{position:relative;display:block}.primary.svelte-1ljay5p .active.svelte-1ljay5p{color:#f0c}.primary.svelte-1ljay5p li a.svelte-1ljay5p{display:block;font-size:25px;padding:0 0 .75em 0;text-decoration:none;line-height:1}.logo.svelte-1ljay5p:hover,.primary.svelte-1ljay5p a.svelte-1ljay5p:hover{text-decoration:underline}.secondary.svelte-1ljay5p{font-family:Helvetica,sans-serif;padding-bottom:2em}.secondary.svelte-1ljay5p .guide-toc>li{margin-bottom:1.5em!important}@media(max-width:500px){.dropdown.svelte-1ljay5p li.svelte-1ljay5p:before{content:''}}@media(min-width:1100px){.dropdown.svelte-1ljay5p{left:calc((100vw - 800px)/ 2)!important;transform:translate(0,0)!important}}@media(min-width:645px){.menu-link.svelte-1ljay5p,.mousecatcher.svelte-1ljay5p{display:none}.dropdown.svelte-1ljay5p{top:1rem;left:50%;transform:translate(-50%,0);right:auto}.dropdown.svelte-1ljay5p li.svelte-1ljay5p:before{content:'View example...';margin-right:.25em}.container.svelte-1ljay5p{height:3.5em}nav.svelte-1ljay5p{width:100%;height:3.5em;padding:0 1.5em 0 0;transform:none;transition:none;height:0}.primary.svelte-1ljay5p{position:fixed;top:1rem;right:1.5rem;margin:0}.primary.svelte-1ljay5p li.svelte-1ljay5p{display:inline-block;position:relative;padding:0 .5em}.primary.svelte-1ljay5p li a.active.svelte-1ljay5p{color:#f0c}.primary.svelte-1ljay5p li.svelte-1ljay5p:first-child::after{position:absolute;top:-2px;right:-3px;content:'|';font-size:25px}.primary.svelte-1ljay5p li.svelte-1ljay5p:last-child::after{content:''}.secondary.svelte-1ljay5p{display:none}.logo.svelte-1ljay5p{position:absolute;top:1rem;left:1.5rem;text-decoration:none;transform:none}}.guide-toc.svelte-12f7dp8{margin:0;padding:0}.guide-toc.svelte-12f7dp8 a.svelte-12f7dp8{text-decoration:none}.guide-toc.svelte-12f7dp8 a.svelte-12f7dp8:hover{text-decoration:underline}.guide-toc.svelte-12f7dp8 li.svelte-12f7dp8{display:block;margin:0 0 1.5em 0}.section.svelte-12f7dp8{display:block;font-weight:700;color:#333;font-size:1.2rem;margin:0 0 .15em 0}.subsection.svelte-12f7dp8{display:block;color:#727272;font-size:1em;margin:0 0 .15em 0}.section.active.svelte-12f7dp8,.subsection.active.svelte-12f7dp8{color:#f0c}.svelte-ref-sidebar.svelte-rnkgh8{position:fixed;background-color:#fff;top:61px;left:0;display:none;height:calc(100% - (2.7em + 67px));width:11.75em;padding:1.18em 1em 2em 1.5em;overflow-y:auto}.svelte-ref-container.svelte-rnkgh8{width:100%;tab-size:2;margin-top:-7rem;padding:7em 2em 2em 2em;box-sizing:border-box}h2.svelte-rnkgh8{padding:4rem 0 0 0;margin:-3rem 0 1rem 0;font-size:2.4em;font-weight:400;pointer-events:none}small.svelte-rnkgh8{font-size:14px;opacity:.5;float:right;line-height:3.4rem;pointer-events:all}section.svelte-rnkgh8 pre h2{padding:.2em 0;border-bottom:1px solid rgba(0,0,0,.1);font-size:1.2em;color:rgba(0,0,0,.5)}section.svelte-rnkgh8 .code-block{position:relative}section.svelte-rnkgh8 .filename{background:#f9f9f9;font-size:16px;padding:6px 12px 4px 12px;display:inline-block;top:0;border-left:2px solid #eee;border-radius:2px 2px 0 0;border-top:1px solid #eee;font-family:Inconsolata,monospace;color:rgba(0,0,0,.4);line-height:1}section.svelte-rnkgh8 h3{font-size:1.2em;font-weight:800;margin:-4em 0 1em 0;padding-top:6em;pointer-events:none}section.svelte-rnkgh8 h3 .function{font-weight:400}section.svelte-rnkgh8 h3 .call{font-weight:400}section.svelte-rnkgh8 h3 .arguments{font-style:italic}section.svelte-rnkgh8 p{margin:0 0 1em 0;font-family:Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-weight:300;color:#181818;line-height:1.5}section.svelte-rnkgh8 a{text-decoration:none;color:#f0c}section.svelte-rnkgh8 a:hover{text-decoration:underline}section.svelte-rnkgh8 strong{font-weight:500}section.svelte-rnkgh8 code{background-color:#f9f9f9;padding:.2em .4em;border-radius:3px}section.svelte-rnkgh8 a code{color:#037ee3}section.svelte-rnkgh8 pre code{padding:0}section.svelte-rnkgh8 pre{overflow-x:auto}section.svelte-rnkgh8:first-child h3{border:none}section.svelte-rnkgh8{border-bottom:1px solid #eee;max-width:64em;margin:0 auto 2em auto;padding:0 0 2em 0}section.svelte-rnkgh8:last-child{border:none}section.svelte-rnkgh8 .CodeMirror,section.svelte-rnkgh8 .code-block pre{background-color:#f9f9f9;border-left:2px solid #eee;padding:8px;margin:0 0 1em 0}section.svelte-rnkgh8 .code-block pre{padding:12px 8px 12px 12px}section.svelte-rnkgh8 p,section.svelte-rnkgh8 ul{max-width:48em}section.svelte-rnkgh8 ol,section.svelte-rnkgh8 ul{line-height:1.5}section.svelte-rnkgh8 li{margin:0}section.svelte-rnkgh8 blockquote{position:relative;color:#999;margin:1em 0;padding:.5em 0 .5em 2.5em;max-width:48em;border-top:1px solid #eee;border-bottom:1px solid #eee}section.svelte-rnkgh8 blockquote p{color:#666}section.svelte-rnkgh8 blockquote p:last-child{margin:0}section.svelte-rnkgh8 blockquote::before{content:'üç∞';position:absolute;left:5px;top:6px;font-size:1.5em;font-weight:800;width:1em;height:1em;text-align:center;line-height:1;border-radius:50%}section.svelte-rnkgh8 table{margin:0 0 2em 0;width:100%}section.svelte-rnkgh8 td,section.svelte-rnkgh8 th{text-align:left;border-bottom:1px solid #eee;padding:.2em .5em .2em 0;line-height:1.8}section.svelte-rnkgh8 table code,section.svelte-rnkgh8 table span{white-space:pre}@media(min-width:768px){.svelte-ref-sidebar.svelte-rnkgh8{display:block}.svelte-ref-container.svelte-rnkgh8{padding-left:15em;padding-right:8em}h2.svelte-rnkgh8{padding:4rem 0 0 0;margin:-3rem 0 1rem 0}section.svelte-rnkgh8 h3{padding-top:3.5em;margin:-2em 0 1em 0}}</style> <noscript id=sapper-head-start></noscript><title>LayerCake - Guide</title><link href=hljs.css rel=stylesheet><noscript id=sapper-head-end></noscript> </head> <body> <div id=sapper><div class="svelte-1ljay5p closed mousecatcher"></div> <div class="svelte-1ljay5p container"> <span class="svelte-1ljay5p menu-closed menu-link">Menu</span> <a href=. class="svelte-1ljay5p logo">Layer Cake</a> </div> <ul class="svelte-1ljay5p dropdown"> <li class=svelte-1ljay5p> <select> <option value="">All</option> <option value=examples/Line>Line + area<option value=examples/Scatter>Scatter<option value=examples/MapSvg>Map<option value=examples/MapLayered>Multilayer map<option value=examples/Column>Column<option value=examples/ColumnStacked>Stacked column<option value=examples/Bar>Bar<option value=examples/BarStacked>Stacked bar<option value=examples/MultiLine>Multiline<option value=examples/AreaStacked>Stacked area</option> </select> </li> </ul> <nav class="svelte-1ljay5p closed"> <ul class="svelte-1ljay5p primary"> <li class=svelte-1ljay5p><a href=guide class="svelte-1ljay5p active" rel=prefetch>Guide</a></li> <li class=svelte-1ljay5p><a href=https://github.com/sveltejs/svelte class=svelte-1ljay5p>GitHub</a></li> </ul> <div class="svelte-1ljay5p secondary"> <ul class="svelte-12f7dp8 guide-toc"> <li class=svelte-12f7dp8> <a href=guide#introduction class="svelte-12f7dp8 section">Introduction</a> <a href=guide#what-is-layer-cake- class="svelte-12f7dp8 subsection">What is Layer Cake?</a><a href=guide#what-layer-cake-is-not class="svelte-12f7dp8 subsection">What Layer Cake is not</a><a href=guide#getting-started class="svelte-12f7dp8 subsection">Getting started</a><a href=guide#organizing-components class="svelte-12f7dp8 subsection">Organizing components</a><a href=guide#adding-more-layers class="svelte-12f7dp8 subsection">Adding more layers</a> <li class=svelte-12f7dp8> <a href=guide#store-api class="svelte-12f7dp8 section">Store API</a> <a href=guide#target-dom-node class="svelte-12f7dp8 subsection">target</a><a href=guide#data-array class="svelte-12f7dp8 subsection">data</a><a href=guide#x-string-function class="svelte-12f7dp8 subsection">x</a><a href=guide#y-string-function class="svelte-12f7dp8 subsection">y</a><a href=guide#r-string-function class="svelte-12f7dp8 subsection">r</a><a href=guide#padding-object class="svelte-12f7dp8 subsection">padding</a><a href=guide#xscale-d3scale- class="svelte-12f7dp8 subsection">xScale</a><a href=guide#yscale-d3scale- class="svelte-12f7dp8 subsection">yScale</a><a href=guide#rscale-d3scale- class="svelte-12f7dp8 subsection">rScale</a><a href=guide#xdomain-array-min-max- class="svelte-12f7dp8 subsection">xDomain</a><a href=guide#ydomain-array-min-max- class="svelte-12f7dp8 subsection">yDomain</a><a href=guide#rdomain-array-min-max- class="svelte-12f7dp8 subsection">rDomain</a><a href=guide#reversex-boolean-false class="svelte-12f7dp8 subsection">reverseX</a><a href=guide#reversey-boolean-true class="svelte-12f7dp8 subsection">reverseY</a><a href=guide#xpadding-array-leftpixels-rightpixels- class="svelte-12f7dp8 subsection">xPadding</a><a href=guide#ypadding-array-leftpixels-rightpixels- class="svelte-12f7dp8 subsection">yPadding</a><a href=guide#rpadding-array-leftpixels-rightpixels- class="svelte-12f7dp8 subsection">rPadding</a><a href=guide#rrange-array-min-max- class="svelte-12f7dp8 subsection">rRange</a><a href=guide#flatten-function class="svelte-12f7dp8 subsection">flatten</a><a href=guide#flatdata-array class="svelte-12f7dp8 subsection">flatData</a> <li class=svelte-12f7dp8> <a href=guide#cake-api class="svelte-12f7dp8 section">Cake API</a> <a href=guide#cake-svglayers-componentslist-opts- class="svelte-12f7dp8 subsection">cake.svgLayers(...)</a><a href=guide#cake-htmllayers-componentslist-opts- class="svelte-12f7dp8 subsection">cake.htmlLayers(...)</a><a href=guide#cake-canvaslayers-componentslist-opts- class="svelte-12f7dp8 subsection">cake.canvasLayers(...)</a><a href=guide#cake-webgllayers-componentslist-opts- class="svelte-12f7dp8 subsection">cake.webglLayers(...)</a><a href=guide#cake-render-options- class="svelte-12f7dp8 subsection">cake.render(...)</a> <li class=svelte-12f7dp8> <a href=guide#computed-store-functions class="svelte-12f7dp8 section">Computed Store Properties</a> <a href=guide#box class="svelte-12f7dp8 subsection">box</a><a href=guide#xget-datarow- class="svelte-12f7dp8 subsection">xGet(...)</a><a href=guide#yget-datarow- class="svelte-12f7dp8 subsection">yGet(...)</a><a href=guide#rget-datarow- class="svelte-12f7dp8 subsection">rGet(...)</a> <li class=svelte-12f7dp8> <a href=guide#helper-functions class="svelte-12f7dp8 section">Helper functions</a> <a href=guide#newdiv-classname-stylesobject-parentdomnode- class="svelte-12f7dp8 subsection">newDiv(...)</a><a href=guide#flatten-data- class="svelte-12f7dp8 subsection">flatten(...)</a><a href=guide#scalecanvas-canvas-ctx-width-height- class="svelte-12f7dp8 subsection">scaleCanvas(...)</a> </li> </ul> </div> </nav> <main> <sidebar class="svelte-rnkgh8 svelte-ref-sidebar"> <ul class="svelte-12f7dp8 guide-toc"> <li class=svelte-12f7dp8> <a href=guide#introduction class="svelte-12f7dp8 section">Introduction</a> <a href=guide#what-is-layer-cake- class="svelte-12f7dp8 subsection">What is Layer Cake?</a><a href=guide#what-layer-cake-is-not class="svelte-12f7dp8 subsection">What Layer Cake is not</a><a href=guide#getting-started class="svelte-12f7dp8 subsection">Getting started</a><a href=guide#organizing-components class="svelte-12f7dp8 subsection">Organizing components</a><a href=guide#adding-more-layers class="svelte-12f7dp8 subsection">Adding more layers</a> <li class=svelte-12f7dp8> <a href=guide#store-api class="svelte-12f7dp8 section">Store API</a> <a href=guide#target-dom-node class="svelte-12f7dp8 subsection">target</a><a href=guide#data-array class="svelte-12f7dp8 subsection">data</a><a href=guide#x-string-function class="svelte-12f7dp8 subsection">x</a><a href=guide#y-string-function class="svelte-12f7dp8 subsection">y</a><a href=guide#r-string-function class="svelte-12f7dp8 subsection">r</a><a href=guide#padding-object class="svelte-12f7dp8 subsection">padding</a><a href=guide#xscale-d3scale- class="svelte-12f7dp8 subsection">xScale</a><a href=guide#yscale-d3scale- class="svelte-12f7dp8 subsection">yScale</a><a href=guide#rscale-d3scale- class="svelte-12f7dp8 subsection">rScale</a><a href=guide#xdomain-array-min-max- class="svelte-12f7dp8 subsection">xDomain</a><a href=guide#ydomain-array-min-max- class="svelte-12f7dp8 subsection">yDomain</a><a href=guide#rdomain-array-min-max- class="svelte-12f7dp8 subsection">rDomain</a><a href=guide#reversex-boolean-false class="svelte-12f7dp8 subsection">reverseX</a><a href=guide#reversey-boolean-true class="svelte-12f7dp8 subsection">reverseY</a><a href=guide#xpadding-array-leftpixels-rightpixels- class="svelte-12f7dp8 subsection">xPadding</a><a href=guide#ypadding-array-leftpixels-rightpixels- class="svelte-12f7dp8 subsection">yPadding</a><a href=guide#rpadding-array-leftpixels-rightpixels- class="svelte-12f7dp8 subsection">rPadding</a><a href=guide#rrange-array-min-max- class="svelte-12f7dp8 subsection">rRange</a><a href=guide#flatten-function class="svelte-12f7dp8 subsection">flatten</a><a href=guide#flatdata-array class="svelte-12f7dp8 subsection">flatData</a> <li class=svelte-12f7dp8> <a href=guide#cake-api class="svelte-12f7dp8 section">Cake API</a> <a href=guide#cake-svglayers-componentslist-opts- class="svelte-12f7dp8 subsection">cake.svgLayers(...)</a><a href=guide#cake-htmllayers-componentslist-opts- class="svelte-12f7dp8 subsection">cake.htmlLayers(...)</a><a href=guide#cake-canvaslayers-componentslist-opts- class="svelte-12f7dp8 subsection">cake.canvasLayers(...)</a><a href=guide#cake-webgllayers-componentslist-opts- class="svelte-12f7dp8 subsection">cake.webglLayers(...)</a><a href=guide#cake-render-options- class="svelte-12f7dp8 subsection">cake.render(...)</a> <li class=svelte-12f7dp8> <a href=guide#computed-store-functions class="svelte-12f7dp8 section">Computed Store Properties</a> <a href=guide#box class="svelte-12f7dp8 subsection">box</a><a href=guide#xget-datarow- class="svelte-12f7dp8 subsection">xGet(...)</a><a href=guide#yget-datarow- class="svelte-12f7dp8 subsection">yGet(...)</a><a href=guide#rget-datarow- class="svelte-12f7dp8 subsection">rGet(...)</a> <li class=svelte-12f7dp8> <a href=guide#helper-functions class="svelte-12f7dp8 section">Helper functions</a> <a href=guide#newdiv-classname-stylesobject-parentdomnode- class="svelte-12f7dp8 subsection">newDiv(...)</a><a href=guide#flatten-data- class="svelte-12f7dp8 subsection">flatten(...)</a><a href=guide#scalecanvas-canvas-ctx-width-height- class="svelte-12f7dp8 subsection">scaleCanvas(...)</a> </li> </ul> </sidebar> <div class="svelte-rnkgh8 content svelte-ref-container"> <section class=svelte-rnkgh8 id=introduction> <h2 class=svelte-rnkgh8> Introduction <small class=svelte-rnkgh8><a href=https://github.com/mhkeller/layercake-examples/edit/master/content/guide/00-introduction.md>edit this section</a></small> </h2> <h3 id=what-is-layer-cake->What is Layer Cake?</h3> <p>Layer Cake is a graphics framework, built on top of <a href=https://svelte.technology>Svelte</a> that removes the boilerplate from making responsive web graphics.</p> <p>At its heart, Layer Cake is a <a href=https://svelte.technology/guide#state-management>Svelte store</a> that takes an array of data objects, a target DOM element and creates scales bound to your element's dimensions. It also includes higher level methods to organize multiple SVG, HTML and Canvas layers that use these scales.</p> <p>By breaking a part a graphic into layers, you can more easily reuse components from project to project. It also lets you easily move between web environments by giving you a common coordinate system. You may be using Canvas for a scatterplot, SVG for axes and HTML for annotations but they all read from a common store and appear seamless to the viewer.</p> <blockquote> <p>Layer Cake uses D3 scales. See more in the <a href=#xScale><code>xScale</code></a>, <a href=#yScale><code>yScale</code></a> and <a href=#rScale><code>rScale</code></a> sections of the <a href=#store-api>Store API</a>.</p> </blockquote> <h3 id=what-layer-cake-is-not>What Layer Cake is not</h3> <p>Layer Cake is not a high-level charting library. It doesn't have any built-in concepts or strong opinions about how your data should be structured.</p> <blockquote> <p>See the <a href=#flatten><code>flatten</code></a> and <a href=#flatData><code>flatData</code></a> methods in the <a href=#store-api>Store API</a> section below for more info about data structure.</p> </blockquote> <h3 id=getting-started>Getting started</h3> <p>You initialize your cake in a normal JavaScript file. Here is an example in Layer Cake's most basic usage, loading in data and binding its extents to a DOM element.</p> <div class="code-block named"><span class=filename> main.js</span><pre><code><span class=hljs-keyword>import</span> LayerCake <span class=hljs-keyword>from</span> <span class=hljs-string>'LayerCake'</span>;

<span class=hljs-keyword>const</span> points = [
  {<span class=hljs-attr>x</span>: <span class=hljs-number>0</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>1</span>},
  {<span class=hljs-attr>x</span>: <span class=hljs-number>10</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>5</span>},
  {<span class=hljs-attr>x</span>: <span class=hljs-number>15</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>10</span>}
];

<span class=hljs-keyword>const</span> myCake = <span class=hljs-keyword>new</span> LayerCake({
  <span class=hljs-attr>x</span>: <span class=hljs-string>'x'</span>,
  <span class=hljs-attr>y</span>: <span class=hljs-string>'y'</span>,
  <span class=hljs-attr>data</span>: points,
  <span class=hljs-attr>target</span>: <span class=hljs-built_in>document</span>.getElementById(<span class=hljs-string>'chart-target'</span>)
});

<span class=hljs-built_in>console</span>.log(myCake.get());</code></pre></div><p>So far, <code>myCake</code> is a Svelte Store with a few different properties that were just computed. Because we gave Layer Cake values for <code>x</code> and <code>y</code>, it's measured the extent of our data's x- and y-dimensions and created <code>xScale</code> and <code>yScale</code> properties. It's also measured our DOM element as well as created x- and y-accessors so, for a given row of our data we can compute the value in our coordinate system.</p> <div class=code-block><pre><code><span class=hljs-keyword>const</span> { x, y, xScale, yScale } = myCake.get();

points.forEach(<span class=hljs-function><span class=hljs-params>d</span> =></span> {
  <span class=hljs-keyword>const</span> firstPoint = [xScale(x(d)), yScale(y(d))];
});</code></pre></div><blockquote> <p>You can also use the shorthand <code>[xGet(d), yGet(d)]</code>. See the <a href=#store-api>Store API</a> section for a full list of computed properties.</p> </blockquote> <p>Because Layer Cake has bound the target DOM element's dimensions to your scales, all computed properties will be updated automatically on resize.</p> <h3 id=organizing-components>Organizing components</h3> <p>While it's perfectly fine to use Layer Cake as a simple store and implement the rest of your project your own way, Layer Cake also comes with helper functions to take care of creating graphic layers that have full access to the store. Add layers inside the <code>.svgLayers</code>, <code>.htmlLayers</code> or <code>.canvasLayers</code> method. Each layer is a Svelte component. When you've added all the layers to your cake, run <code>.render()</code>.</p> <p>Here's an example creating an SVG scatter plot using the above data.</p> <div class="code-block named"><span class=filename> main.js</span><pre><code><span class=hljs-keyword>import</span> LayerCake <span class=hljs-keyword>from</span> <span class=hljs-string>'LayerCake'</span>;
<span class=hljs-keyword>import</span> Scatter <span class=hljs-keyword>from</span> <span class=hljs-string>'./components/Scatter.html'</span>;

<span class=hljs-keyword>const</span> points = [
  {<span class=hljs-attr>x</span>: <span class=hljs-number>0</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>1</span>},
  {<span class=hljs-attr>x</span>: <span class=hljs-number>10</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>5</span>},
  {<span class=hljs-attr>x</span>: <span class=hljs-number>15</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>10</span>}
];

<span class=hljs-keyword>const</span> myCake = <span class=hljs-keyword>new</span> LayerCake({
  <span class=hljs-attr>x</span>: <span class=hljs-string>'x'</span>,
  <span class=hljs-attr>y</span>: <span class=hljs-string>'y'</span>,
  <span class=hljs-attr>data</span>: points,
  <span class=hljs-attr>target</span>: <span class=hljs-built_in>document</span>.getElementById(<span class=hljs-string>'chart-target'</span>)
})
  .svgLayers([
	{ <span class=hljs-attr>component</span>: Scatter, <span class=hljs-attr>opts</span>: { <span class=hljs-attr>fill</span>: <span class=hljs-string>'blue'</span>, <span class=hljs-attr>r</span>: <span class=hljs-number>3</span> } }
  ])

myCake.render();</code></pre></div><div class="code-block named"><span class=filename> Scatter.html</span><pre><code>{#each $data as d}
  <span class=hljs-tag>&lt;<span class=hljs-name>circle</span> <span class=hljs-attr>cx</span>=<span class=hljs-string>'{xGet(d)}'</span> <span class=hljs-attr>cy</span>=<span class=hljs-string>'{yGet(d)}'</span> <span class=hljs-attr>fill</span>=<span class=hljs-string>'{opts.fill}'</span> <span class=hljs-attr>r</span>=<span class=hljs-string>'{opts.r}'</span> /></span>
{/each}</code></pre></div><blockquote> <p>We've defined the circle's fill color and radius size in <code>main.js</code> using the <code>opts</code> field. You could very well hardcode these values into your layer component. Passing in values from <code>mains.js</code> is shown here to give an example of how you can make your components more reusable. For example, you could use the same layer component to render small multiples, but pass in a color to highlight one of them.</p> </blockquote> <p>Our DOM now looks something like this:</p> <div class=code-block><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>svg</span> <span class=hljs-attr>width</span>=<span class=hljs-string>"&lt;el width>"</span> <span class=hljs-attr>height</span>=<span class=hljs-string>"&lt;el height>"</span>></span>
  <span class=hljs-comment>&lt;!-- One main g to wrap all layers --></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>g</span>></span>
	<span class=hljs-comment>&lt;!-- Scatter g --></span>
	<span class=hljs-tag>&lt;<span class=hljs-name>g</span>></span>
	  <span class=hljs-tag>&lt;<span class=hljs-name>circle</span> <span class=hljs-attr>cx</span>=<span class=hljs-string>"..."</span> <span class=hljs-attr>cy</span>=<span class=hljs-string>"..."</span> <span class=hljs-attr>r</span>=<span class=hljs-string>"..."</span> <span class=hljs-attr>fill</span>=<span class=hljs-string>"blue"</span>/></span>
	  <span class=hljs-tag>&lt;<span class=hljs-name>circle</span> <span class=hljs-attr>cx</span>=<span class=hljs-string>"..."</span> <span class=hljs-attr>cy</span>=<span class=hljs-string>"..."</span> <span class=hljs-attr>r</span>=<span class=hljs-string>"..."</span> <span class=hljs-attr>fill</span>=<span class=hljs-string>"blue"</span>/></span>
	  <span class=hljs-tag>&lt;<span class=hljs-name>circle</span> <span class=hljs-attr>cx</span>=<span class=hljs-string>"..."</span> <span class=hljs-attr>cy</span>=<span class=hljs-string>"..."</span> <span class=hljs-attr>r</span>=<span class=hljs-string>"..."</span> <span class=hljs-attr>fill</span>=<span class=hljs-string>"blue"</span>/></span>
	<span class=hljs-tag>&lt;/<span class=hljs-name>g</span>></span>
  <span class=hljs-tag>&lt;/<span class=hljs-name>g</span>></span>
<span class=hljs-tag>&lt;/<span class=hljs-name>svg</span></span></code></pre></div><h3 id=adding-more-layers>Adding more layers</h3> <p>We just saw how to add SVG layers with the <code>.svgLayers</code> method. You also have <code>.htmlLayers</code> and <code>canvasLayers</code>. For the first two, every item in the array will create a new DOM element to render into, <code>&lt;g></code> for SVG and <code>&lt;div></code> for HTML. For Canvas, since there's no DOM equivalent, each layer renders into the same Canvas context. See the <a href=examples/Scatter>Scatter canvas</a> example for details.</p> <p>Layers are rendered in the order they appear. You can call these methods multiple times to create a new layout group.</p> <div class="code-block named"><span class=filename> main.js</span><pre><code><span class=hljs-keyword>import</span> LayerCake <span class=hljs-keyword>from</span> <span class=hljs-string>'LayerCake'</span>;

<span class=hljs-keyword>import</span> ScatterCanvas <span class=hljs-keyword>from</span> <span class=hljs-string>'./components/ScatterCanvas.html'</span>;
<span class=hljs-keyword>import</span> AxisX <span class=hljs-keyword>from</span> <span class=hljs-string>'./components/AxisX.html'</span>;
<span class=hljs-keyword>import</span> AxisY <span class=hljs-keyword>from</span> <span class=hljs-string>'./components/AxisY.html'</span>;
<span class=hljs-keyword>import</span> Annotations <span class=hljs-keyword>from</span> <span class=hljs-string>'./components/Annotations.html'</span>;

<span class=hljs-keyword>const</span> blurbs = [
  { <span class=hljs-attr>x</span>: <span class=hljs-number>10</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>20</span>, <span class=hljs-attr>text</span>: <span class=hljs-string>'Look at this value!'</span>}
];

<span class=hljs-keyword>const</span> points = [
  {<span class=hljs-attr>x</span>: <span class=hljs-number>0</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>1</span>},
  {<span class=hljs-attr>x</span>: <span class=hljs-number>10</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>5</span>},
  {<span class=hljs-attr>x</span>: <span class=hljs-number>15</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>10</span>}
];

<span class=hljs-keyword>const</span> myCake = <span class=hljs-keyword>new</span> LayerCake({
  <span class=hljs-attr>x</span>: <span class=hljs-string>'x'</span>,
  <span class=hljs-attr>y</span>: <span class=hljs-string>'y'</span>,
  <span class=hljs-attr>data</span>: points,
  <span class=hljs-attr>target</span>: <span class=hljs-built_in>document</span>.getElementById(<span class=hljs-string>'chart-target'</span>)
})
  .canvasLayers([
	{ <span class=hljs-attr>component</span>: Scatter, <span class=hljs-attr>opts</span>: { <span class=hljs-attr>fill</span>: <span class=hljs-string>'blue'</span>, <span class=hljs-attr>r</span>: <span class=hljs-number>3</span> } }
  ])
  .svgLayers([
	{ <span class=hljs-attr>component</span>: AxisX, <span class=hljs-attr>opts</span>: { } },
	{ <span class=hljs-attr>component</span>: AxisY, <span class=hljs-attr>opts</span>: { } }
  ])
  .htmlLayers([
	{ <span class=hljs-attr>component</span>: Annotations, <span class=hljs-attr>opts</span>: { blurbs } }
  ]);
  <span class=hljs-comment>// If you needed to, you could do `.svgLayers` again...</span>

myCake.render();</code></pre></div><blockquote> <p>Many common chart types have example pages. See the gallery at <a href=https://layercake.graphics>https://layercake.graphics</a> or use the dropdown menu at the top of the page to navigate to one.</p> </blockquote> </section><section class=svelte-rnkgh8 id=store-api> <h2 class=svelte-rnkgh8> Store API <small class=svelte-rnkgh8><a href=https://github.com/mhkeller/layercake-examples/edit/master/content/guide/01-store-api.md>edit this section</a></small> </h2> <h3 id=target-dom-node>target: <code>&lt;DOM Node></code></h3> <p>The DOM object you want to use as the the basis for measurements and for rendering into.</p> <div class=code-block><pre><code><span class=hljs-keyword>const</span> myCake = <span class=hljs-keyword>new</span> LayerCake({
  <span class=hljs-attr>target</span>: <span class=hljs-built_in>document</span>.getElementById(<span class=hljs-string>'my-chart'</span>)
});</code></pre></div><h3 id=data-array>data: <code>&lt;Array></code></h3> <p>A list of data items. This will be accessible</p> <blockquote> <p>Only <code>target</code> and <code>data</code> are required. Everything else is optional.</p> </blockquote> <h3 id=x-string-function>x: <code>&lt;String|Function></code></h3> <p>The key in each row of data that corresponds to the x-field. This can be a string or an accessor function. This property gets converted to an acessor function available on the store as <code>$x</code>.</p> <div class=code-block><pre><code><span class=hljs-keyword>const</span> myCake = <span class=hljs-keyword>new</span> LayerCake({
  <span class=hljs-attr>x</span>: <span class=hljs-string>'myX'</span>,
  <span class=hljs-comment>// equivalent to...</span>
  x: <span class=hljs-function>(<span class=hljs-params>d</span>) =></span> d.myX
});</code></pre></div><p>You can also give this value an array. While it may seem counter-intuitive to have more than one x- or y-accessor, this is the case in stacked layouts. See the <a href=/examples/BarStacked>Stacked bar</a>, <a href=/examples/AreaStacked>Stacked area</a> or <a href=/examples/ColumnStacked>Stacked colummn</a> for complete examples.</p> <p>Here's an overview using the <code>d3.stack()</code> to make a horizontal bar chart, which will have two values for the x-accessor.</p> <div class=code-block><pre><code><span class=hljs-keyword>const</span> data = [
  {<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>3</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>apples</span>: <span class=hljs-number>3840</span>, <span class=hljs-attr>bananas</span>: <span class=hljs-number>1920</span>, <span class=hljs-attr>cherries</span>: <span class=hljs-number>960</span>, <span class=hljs-attr>dates</span>: <span class=hljs-number>400</span>},
  {<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>2</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>apples</span>: <span class=hljs-number>1600</span>, <span class=hljs-attr>bananas</span>: <span class=hljs-number>1440</span>, <span class=hljs-attr>cherries</span>: <span class=hljs-number>960</span>, <span class=hljs-attr>dates</span>: <span class=hljs-number>400</span>},
  {<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>1</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>apples</span>: <span class=hljs-number>640</span>,  <span class=hljs-attr>bananas</span>: <span class=hljs-number>960</span>,  <span class=hljs-attr>cherries</span>: <span class=hljs-number>640</span>, <span class=hljs-attr>dates</span>: <span class=hljs-number>400</span>},
  {<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>0</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>apples</span>: <span class=hljs-number>320</span>,  <span class=hljs-attr>bananas</span>: <span class=hljs-number>480</span>,  <span class=hljs-attr>cherries</span>: <span class=hljs-number>640</span>, <span class=hljs-attr>dates</span>: <span class=hljs-number>400</span>}
];

<span class=hljs-keyword>const</span> stack = d3.stack()
	.keys([<span class=hljs-string>'apples'</span>, <span class=hljs-string>'bananas'</span>, <span class=hljs-string>'cherries'</span>, <span class=hljs-string>'dates'</span>]);

<span class=hljs-keyword>const</span> series = stack(data);</code></pre></div><p>The data is now an array of values. The <code>month</code> values you can't see because sneakily stashes them as a property on the array, accessible as <code>d.data</code>.</p> <div class=code-block><pre><code>[
  [[   <span class=hljs-number>0</span>, <span class=hljs-number>3840</span>], [   <span class=hljs-number>0</span>, <span class=hljs-number>1600</span>], [   <span class=hljs-number>0</span>,  <span class=hljs-number>640</span>], [   <span class=hljs-number>0</span>,  <span class=hljs-number>320</span>]], <span class=hljs-comment>// apples</span>
  [[<span class=hljs-number>3840</span>, <span class=hljs-number>5760</span>], [<span class=hljs-number>1600</span>, <span class=hljs-number>3040</span>], [ <span class=hljs-number>640</span>, <span class=hljs-number>1600</span>], [ <span class=hljs-number>320</span>,  <span class=hljs-number>800</span>]], <span class=hljs-comment>// bananas</span>
  [[<span class=hljs-number>5760</span>, <span class=hljs-number>6720</span>], [<span class=hljs-number>3040</span>, <span class=hljs-number>4000</span>], [<span class=hljs-number>1600</span>, <span class=hljs-number>2240</span>], [ <span class=hljs-number>800</span>, <span class=hljs-number>1440</span>]], <span class=hljs-comment>// cherries</span>
  [[<span class=hljs-number>6720</span>, <span class=hljs-number>7120</span>], [<span class=hljs-number>4000</span>, <span class=hljs-number>4400</span>], [<span class=hljs-number>2240</span>, <span class=hljs-number>2640</span>], [<span class=hljs-number>1440</span>, <span class=hljs-number>1840</span>]]  <span class=hljs-comment>// dates</span>
]</code></pre></div><p>The x- and y-accessors would then look like this:</p> <div class=code-block><pre><code><span class=hljs-keyword>const</span> myCake = <span class=hljs-keyword>new</span> LayerCake({
  <span class=hljs-attr>x</span>: [<span class=hljs-number>0</span>, <span class=hljs-number>1</span>],
  <span class=hljs-attr>y</span>: <span class=hljs-function><span class=hljs-params>d</span> =></span> d.data.month
});</code></pre></div><p>Calls to <code>x(dataRow)</code> in this scenario will return the two-value array. Calls to <code>xGet(dataRow)</code> will return a two-value array, mapped through the <a href=#xScale>xScale</a>.</p> <h3 id=y-string-function>y: <code>&lt;String|Function></code></h3> <p>Same as <a href=#x>x</a> but for the y scale. Accessor function is available on the store as <code>$y</code>.</p> <h3 id=r-string-function>r: <code>&lt;String|Function></code></h3> <p>Same as <a href=#x>x</a> but for the r scale. Accessor function is available on the store as <code>$r</code>.</p> <h3 id=padding-object>padding: <code>&lt;Object></code></h3> <p>An object that can specify <code>top</code>, <code>right</code>, <code>bottom</code>, or <code>left</code> padding in pixels. Any unspecified values are filled in as <code>0</code>. Padding operates like CSS <code>box-sizing: border-box;</code> where values are subtracted from the target container's width and height, the same as <a href=https://bl.ocks.org/mbostock/3019563>a D3 margin convention</a>.</p> <div class=code-block><pre><code><span class=hljs-keyword>const</span> myCake = <span class=hljs-keyword>new</span> LayerCake({
  <span class=hljs-attr>padding</span>: { <span class=hljs-attr>top</span>: <span class=hljs-number>20</span>, <span class=hljs-attr>right</span>: <span class=hljs-number>10</span>, <span class=hljs-attr>bottom</span>: <span class=hljs-number>0</span>, <span class=hljs-attr>left</span>: <span class=hljs-number>0</span> },
  <span class=hljs-comment>// equivalent to...</span>
  padding: { <span class=hljs-attr>top</span>: <span class=hljs-number>20</span>, <span class=hljs-attr>right</span>: <span class=hljs-number>10</span> }
});</code></pre></div><blockquote> <p>Another way to set padding is to add it via normal CSS on your <a href=#target>target</a> div. The target element is assigned CSS of <code>box-sizing: border-box;</code> so padding settings won't affect the width or height. If you set any padding via CSS, the padding object will be ignored.</p> </blockquote> <h3 id=xscale-d3scale->xScale: d3Scale()</h3> <p>Pass in an instatiated D3 scale if you want to override the default <code>d3.scaleLinear()</code> or you want to add extra options.</p> <p>See the <a href=/examples/Column>Column chart</a> for an example of passing in a <code>d3.scaleBand()</code> to override the default.</p> <h3 id=yscale-d3scale->yScale: d3Scale()</h3> <p>Same as <a href=#xScale>xScale</a> but for the y scale. The default is <code>d3.scaleLinear()</code>.</p> <h3 id=rscale-d3scale->rScale: d3Scale()</h3> <p>Same as <a href=#xScale>xScale</a> but for the r scale. The default is <code>d3.scaleSqrt()</code>.</p> <h3 id=xdomain-array-min-max->xDomain: <code>&lt;Array:[min, max]></code></h3> <p>Set a min or max on the x scale. If you want to inherit the value from the data's extent, set that value to <code>null</code>.</p> <div class=code-block><pre><code><span class=hljs-keyword>const</span> myCake = <span class=hljs-keyword>new</span> LayerCake({
  <span class=hljs-attr>xDomain</span>: [<span class=hljs-number>0</span>, <span class=hljs-number>100</span>], <span class=hljs-comment>// Fixes the x scale's domain</span>
  <span class=hljs-comment>// or..</span>
  xDomain: [<span class=hljs-number>0</span>, <span class=hljs-literal>null</span>], <span class=hljs-comment>// Fixes the min but allows the max to be whatever is in the data</span>
});</code></pre></div><h3 id=ydomain-array-min-max->yDomain: <code>&lt;Array:[min, max]></code></h3> <p>Same as <a href=#xDomain>xDomain</a> but for the y scale.</p> <h3 id=rdomain-array-min-max->rDomain: <code>&lt;Array:[min, max]></code></h3> <p>Same as <a href=#xDomain>xDomain</a> but for the r scale.</p> <h3 id=reversex-boolean-false>reverseX: <code>&lt;Boolean:false></code></h3> <p>Reverse the default x domain. By default this is <code>false</code> and the domain is <code>[0, width]</code>.</p> <h3 id=reversey-boolean-true>reverseY: <code>&lt;Boolean:true></code></h3> <p>Reverse the default y domain. By default this is <code>true</code> and the domain is <code>[height, 0]</code>.</p> <h3 id=xpadding-array-leftpixels-rightpixels->xPadding: <code>&lt;Array:[leftPixels, rightPixels]></code></h3> <p>Assign a value, in pixels, to add to the min or max of the x scale. This will increase the scales domain by the scale unit equivalent of the provided pixels. It uses D3 scale's <a href=https://github.com/d3/d3-scale#continuous_invert>invert function</a>, so this only applies to continuous scales like <code>scaleLinear</code>. This is useful for adding extra space to a scatter plot so that your circles don't interfere with your y axis.</p> <div class=code-block><pre><code><span class=hljs-keyword>const</span> myCake = <span class=hljs-keyword>new</span> LayerCake({
  <span class=hljs-attr>xPadding</span>: [<span class=hljs-number>10</span>, <span class=hljs-number>10</span>], <span class=hljs-comment>// Add ten pixels of data units to both sides of the scale's domain</span>
});</code></pre></div><h3 id=ypadding-array-leftpixels-rightpixels->yPadding: <code>&lt;Array:[leftPixels, rightPixels]></code></h3> <p>Same as <a href=#xPadding>xPadding</a> but for the y domain.</p> <h3 id=rpadding-array-leftpixels-rightpixels->rPadding: <code>&lt;Array:[leftPixels, rightPixels]></code></h3> <p>Same as <a href=#xPadding>xPadding</a> but for the r domain.</p> <h3 id=rrange-array-min-max->rRange: <code>&lt;Array:[min, max]></code></h3> <p>If you're using the r scale, set it's range here since it doens't infer that from anything nt the layout. The r scale defaults to <code>d3.scaleSqrt</code> so make sure you don't use a zero in your range.</p> <div class=code-block><pre><code><span class=hljs-keyword>const</span> myCake = <span class=hljs-keyword>new</span> LayerCake({
  <span class=hljs-attr>rRange</span>: [<span class=hljs-number>1</span>, <span class=hljs-number>100</span>]
});</code></pre></div><h3 id=flatten-function>flatten: <code>&lt;Function></code></h3> <p>In order for Layer Cake to measure the extents of your data, it needs a flat array of items that the x, y and r accessors can get at. If your data is not in that format, you can pass in a function to transform it. This <em>will not</em> change the shape of the data that gets passed to components ‚Äî it is only for extent calculation.</p> <blockquote> <p>You'll run into this if you get data that is nested and that's the best format for a component. For example, labelling a multi-series line chart can be done nicely if you have a <code>key</code> field for each group. If you already have a flat copy of your data, check out <a href=#flatData><code>flatData</code></a> below.</p> </blockquote> <p>For example, let's say you have nested data. You need a function to concatenate the two <code>values</code> arrays like so:</p> <div class=code-block><pre><code><span class=hljs-keyword>const</span> data = [
  {<span class=hljs-attr>key</span>: <span class=hljs-string>'group1'</span>, <span class=hljs-attr>values</span>: [{<span class=hljs-attr>x</span>: <span class=hljs-number>1</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>5</span>},  {<span class=hljs-attr>x</span>: <span class=hljs-number>2</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>10</span>}, {<span class=hljs-attr>x</span>: <span class=hljs-number>3</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>20</span>}]},
  {<span class=hljs-attr>key</span>: <span class=hljs-string>'group2'</span>, <span class=hljs-attr>values</span>: [{<span class=hljs-attr>x</span>: <span class=hljs-number>1</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>10</span>}, {<span class=hljs-attr>x</span>: <span class=hljs-number>2</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>20</span>}, {<span class=hljs-attr>x</span>: <span class=hljs-number>3</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>30</span>}]}
];

<span class=hljs-keyword>const</span> myCake = <span class=hljs-keyword>new</span> LayerCake({
	target,
	<span class=hljs-attr>x</span>: <span class=hljs-string>'x'</span>,
	<span class=hljs-attr>y</span>: <span class=hljs-string>'y'</span>,
	data,
	<span class=hljs-attr>flatten</span>: <span class=hljs-function><span class=hljs-params>data</span> =></span> {
	  <span class=hljs-keyword>return</span> data.reduce(<span class=hljs-function>(<span class=hljs-params>memo, val</span>) =></span> {
		<span class=hljs-keyword>return</span> memo.concat(val.values);
	  }, []);
	}
  });</code></pre></div><h3 id=flatdata-array>flatData: <code>&lt;Array></code></h3> <p>If your data was originally flat but it's since been transformed it into a format more convenient for your components (or you just have a flat copy lying around somewhere) you can pass that data here and it will be used to measure extents using the x, y and r accessors.</p> <div class=code-block><pre><code><span class=hljs-keyword>const</span> flatData = [
  {<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>3</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>value</span>: <span class=hljs-number>3840</span>, <span class=hljs-attr>group</span>: <span class=hljs-string>'apples'</span>},
  {<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>2</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>value</span>: <span class=hljs-number>1600</span>, <span class=hljs-attr>group</span>: <span class=hljs-string>'apples'</span>},
  {<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>1</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>value</span>: <span class=hljs-number>640</span>, <span class=hljs-attr>group</span>:  <span class=hljs-string>'apples'</span>},
  {<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>0</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>value</span>: <span class=hljs-number>320</span>, <span class=hljs-attr>group</span>:  <span class=hljs-string>'apples'</span>},

  {<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>3</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>value</span>: <span class=hljs-number>1920</span>, <span class=hljs-attr>group</span>: <span class=hljs-string>'bananas'</span>},
  {<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>2</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>value</span>: <span class=hljs-number>1440</span>, <span class=hljs-attr>group</span>: <span class=hljs-string>'bananas'</span>},
  {<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>1</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>value</span>: <span class=hljs-number>960</span>, <span class=hljs-attr>group</span>:  <span class=hljs-string>'bananas'</span>},
  {<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>0</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>value</span>: <span class=hljs-number>480</span>, <span class=hljs-attr>group</span>:  <span class=hljs-string>'bananas'</span>}
];

<span class=hljs-keyword>const</span> data = [
  {
	<span class=hljs-attr>key</span>: <span class=hljs-string>'apples'</span>,
	<span class=hljs-attr>values</span>: [{<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>3</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>value</span>: <span class=hljs-number>3840</span>}, ...]
  },
  {
	<span class=hljs-attr>key</span>: <span class=hljs-string>'bananas'</span>,
	<span class=hljs-attr>values</span>: [{<span class=hljs-attr>month</span>: <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(<span class=hljs-number>2015</span>, <span class=hljs-number>3</span>, <span class=hljs-number>1</span>), <span class=hljs-attr>value</span>: <span class=hljs-number>1920</span>}, ...]
  },
];

<span class=hljs-keyword>const</span> myCake = <span class=hljs-keyword>new</span> LayerCake({
	target,
	<span class=hljs-attr>x</span>: <span class=hljs-string>'month'</span>,
	<span class=hljs-attr>y</span>: <span class=hljs-string>'value'</span>,
	data,
	flatData
  });</code></pre></div> </section><section class=svelte-rnkgh8 id=cake-api> <h2 class=svelte-rnkgh8> Cake API <small class=svelte-rnkgh8><a href=https://github.com/mhkeller/layercake-examples/edit/master/content/guide/02-cake-api.md>edit this section</a></small> </h2> <p>When you run <code>new LayerCake(StoreValues)</code> the Svelte store you get back has the following custom methods.</p> <p>Each of the <code>Layers</code> functions takes an array containing the following objects, which we'll call a "component object":</p> <div class=code-block><pre><code>{ <span class=hljs-attr>component</span>: SvelteComponent, <span class=hljs-attr>opts</span>: { optionalInfo } }</code></pre></div><p>All of the container elements created by <code>Layers</code> functions are absolutely positioned and use any <a href=#padding>padding</a> that is set. That way, they share the same coordinate system and can sit one on top of another.</p> <h3 id=cake-svglayers-componentslist-opts-><span class=function>cake.</span>svgLayers<span class=call>(<span class=arguments>ComponentsList[, opts]</span>)</span></h3> <p>Creates a <code>&lt;svg></code> element containing one <code>&lt;g></code> wrapper element, which gets translated based on any <a href=#padding>padding</a>.</p> <p>For every component object in the passed in array, a <code>&lt;g></code> element is created.</p> <h3 id=cake-htmllayers-componentslist-opts-><span class=function>cake.</span>htmlLayers<span class=call>(<span class=arguments>ComponentsList[, opts]</span>)</span></h3> <p>Creates a <code>&lt;div></code> element.</p> <p>For every component object in the passed in array, a <code>&lt;div></code> element is created.</p> <h3 id=cake-canvaslayers-componentslist-opts-><span class=function>cake.</span>canvasLayers<span class=call>(<span class=arguments>ComponentsList[, opts]</span>)</span></h3> <p>Creates a <code>&lt;canvas></code> element.</p> <p>Every component has access to the <code>canvas</code> and <code>ctx</code> objects as <em>data items</em>, not as store values since you could have multiple canvas elements in your cake.</p> <p>This means you fetch the <code>canvas</code> and <code>ctx</code> using <code>this.get()</code> instead of <code>this.store.get()</code>. For example, here's how a scatterplot layer component would be implemented in canvas.</p> <div class=code-block><pre><code><span class=hljs-comment>&lt;!-- { filename: CanvasLayer.html } --></span>
<span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
<span class=hljs-keyword>export</span> <span class=hljs-keyword>default</span> {
  oncreate () {
	<span class=hljs-keyword>const</span> { canvas, ctx } = <span class=hljs-keyword>this</span>.get();
	<span class=hljs-keyword>const</span> { xGet, yGet, data } = <span class=hljs-keyword>this</span>.store.get();

	data.forEach(<span class=hljs-function><span class=hljs-params>d</span> =></span> {
	  ctx.beginPath();
	  ctx.arc(xGet(d), yGet(d), opts.r, <span class=hljs-number>0</span>, <span class=hljs-number>2</span> * <span class=hljs-built_in>Math</span>.PI, <span class=hljs-literal>false</span>);
	  ctx.fillStyle = opts.color;
	  ctx.fill();
	});
  }
};
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span></code></pre></div><h3 id=cake-webgllayers-componentslist-opts-><span class=function>cake.</span>webglLayers<span class=call>(<span class=arguments>ComponentsList[, opts]</span>)</span></h3> <p>Work in progress. Want to help out? Get in touch on the <a href=https://github.com/mhkeller/layercake>issue tracker</a>.</p> <h3 id=cake-render-options-><span class=function>cake.</span>render<span class=call>(<span class=arguments>options</span>)</span></h3> <p>Instantiates your cake and layout groups. Returns an object <code>{ app, store }</code> where <code>app</code> is the instantiate Svelte app and <code>store</code> is the cake's Svelte store. Any options you pass in are added as <a href=https://svelte.technology/guide#component-options>Svelte options</a>, including <code>hydrate</code>.</p> </section><section class=svelte-rnkgh8 id=computed-store-functions> <h2 class=svelte-rnkgh8> Computed Store Properties <small class=svelte-rnkgh8><a href=https://github.com/mhkeller/layercake-examples/edit/master/content/guide/04-computed-store-functions.md>edit this section</a></small> </h2> <p>Convenience functions and other internal properties that are exposed to the user on the store in case they're handy.</p> <h3 id=box>box</h3> <p>A bounding box object of the <a href=#target>target</a> element with <code>top</code>, <code>right</code>, <code>bottom</code>, <code>left</code>, <code>width</code> and <code>height</code> numbers in pixels.</p> <h2 id=domains>domains</h2> <p>An object containing a key for every <a href=#activeKeys>active key</a> whose value is a two-value array representing the min and max values for that dimension in the data. This value could differ from the domain of your scale if you are manually setting a limit on your scale, for instance. That limit would not show up here since this is just measuring the data. Used internally to set domain things.</p> <h3 id=xget-datarow->xGet<span class=call>(<span class=arguments>dataRow</span>)</span></h3> <p>Often you want to get the x value from a row in your data and scale it like so: <code>$xScale($x(d))</code>. This function is shorthand for doing just that.</p> <p>Here's an example from a simple SVG line path generator:</p> <div class=code-block><pre><code>computed: {
  <span class=hljs-attr>path</span>: <span class=hljs-function>(<span class=hljs-params>{ $data, $xGet, $yGet }</span>) =></span> {
	<span class=hljs-keyword>return</span> <span class=hljs-string>'M'</span> + $data
	  .map(<span class=hljs-function><span class=hljs-keyword>function</span> (<span class=hljs-params>d, i</span>) </span>{
		<span class=hljs-keyword>return</span> $xGet(d) + <span class=hljs-string>','</span> + $yGet(d);
	  })
	  .join(<span class=hljs-string>'L'</span>);
  }
}</code></pre></div><h3 id=yget-datarow->yGet<span class=call>(<span class=arguments>dataRow</span>)</span></h3> <p>Same as <a href=#xGet>xGet</a> but for the y scale.</p> <h3 id=rget-datarow->rGet<span class=call>(<span class=arguments>dataRow</span>)</span></h3> <p>Same as <a href=#xGet>xGet</a> but for the r scale.</p> </section><section class=svelte-rnkgh8 id=helper-functions> <h2 class=svelte-rnkgh8> Helper functions <small class=svelte-rnkgh8><a href=https://github.com/mhkeller/layercake-examples/edit/master/content/guide/99-helper-functions.md>edit this section</a></small> </h2> <p>Layer Cake exposes some commonly-used helper functions. If you don't use them, they will be tree-shaken so there's no added bloat.</p> <h3 id=newdiv-classname-stylesobject-parentdomnode->newDiv<span class=call>(<span class=arguments>className[, stylesObject, parentDomNode]</span>)</span></h3> <p>You can also export a <code>newDiv</code> function from the Layer Cake module to help you in creating divs. If you pass a DOM node as the third argument it will attach it to that object.</p> <div class=code-block><pre><code><span class=hljs-keyword>import</span> {<span class=hljs-keyword>default</span> <span class=hljs-keyword>as</span> Layercake, newDiv} <span class=hljs-keyword>from</span> <span class=hljs-string>'LayerCake'</span>;

<span class=hljs-keyword>const</span> container = <span class=hljs-built_in>document</span>.getElementById(<span class=hljs-string>'container'</span>);

<span class=hljs-keyword>const</span> styles = {
  <span class=hljs-attr>position</span>: <span class=hljs-string>'relative'</span>
};

<span class=hljs-keyword>const</span> myDiv = newDiv(<span class=hljs-string>'my-div'</span>, styles, container);

<span class=hljs-comment>// Or attach yourself</span>
<span class=hljs-keyword>const</span> myDiv = container.appendChild(newDiv(<span class=hljs-string>'my-div'</span>, styles));</code></pre></div><h3 id=flatten-data->flatten<span class=call>(<span class=arguments>data</span>)</span></h3> <p>Flatten an array one-level down.</p> <p>This data</p> <div class=code-block><pre><code><span class=hljs-keyword>const</span> data = [
  [{<span class=hljs-attr>x</span>: <span class=hljs-number>0</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>1</span>}, {<span class=hljs-attr>x</span>: <span class=hljs-number>1</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>5</span>}, {<span class=hljs-attr>x</span>: <span class=hljs-number>2</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>10</span>}],
  [{<span class=hljs-attr>x</span>: <span class=hljs-number>0</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>10</span>}, {<span class=hljs-attr>x</span>: <span class=hljs-number>1</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>15</span>}, {<span class=hljs-attr>x</span>: <span class=hljs-number>2</span>, <span class=hljs-attr>y</span>: <span class=hljs-number>20</span>}]
];</code></pre></div><p>Becomes this</p> <div class=code-block><pre><code><span class=hljs-keyword>import</span> { flatten } <span class=hljs-keyword>from</span> <span class=hljs-string>'LayerCake'</span>;
<span class=hljs-keyword>const</span> flatData = flatten(data);
<span class=hljs-comment>/*
  [{x: 0, y: 1}, {x: 1, y: 5}, {x: 2, y: 10},
   {x: 0, y: 10}, {x: 1, y: 15}, {x: 2, y: 20}]
*/</span></code></pre></div><p>You can safely use this function on arrays of arrays of arrays, such as the output from <code>d3.stack()</code></p> <div class=code-block><pre><code>[
  [[   <span class=hljs-number>0</span>, <span class=hljs-number>3840</span>], [   <span class=hljs-number>0</span>, <span class=hljs-number>1600</span>], [   <span class=hljs-number>0</span>,  <span class=hljs-number>640</span>], [   <span class=hljs-number>0</span>,  <span class=hljs-number>320</span>]],
  [[<span class=hljs-number>3840</span>, <span class=hljs-number>5760</span>], [<span class=hljs-number>1600</span>, <span class=hljs-number>3040</span>], [ <span class=hljs-number>640</span>, <span class=hljs-number>1600</span>], [ <span class=hljs-number>320</span>,  <span class=hljs-number>800</span>]],
  [[<span class=hljs-number>5760</span>, <span class=hljs-number>6720</span>], [<span class=hljs-number>3040</span>, <span class=hljs-number>4000</span>], [<span class=hljs-number>1600</span>, <span class=hljs-number>2240</span>], [ <span class=hljs-number>800</span>, <span class=hljs-number>1440</span>]],
  [[<span class=hljs-number>6720</span>, <span class=hljs-number>7120</span>], [<span class=hljs-number>4000</span>, <span class=hljs-number>4400</span>], [<span class=hljs-number>2240</span>, <span class=hljs-number>2640</span>], [<span class=hljs-number>1440</span>, <span class=hljs-number>1840</span>]]
]</code></pre></div><p>Becomes...</p> <div class=code-block><pre><code>[ [ <span class=hljs-number>0</span>, <span class=hljs-number>3840</span> ],
  [ <span class=hljs-number>0</span>, <span class=hljs-number>1600</span> ],
  [ <span class=hljs-number>0</span>, <span class=hljs-number>640</span> ],
  [ <span class=hljs-number>0</span>, <span class=hljs-number>320</span> ],
  [ <span class=hljs-number>3840</span>, <span class=hljs-number>5760</span> ],
  [ <span class=hljs-number>1600</span>, <span class=hljs-number>3040</span> ],
  [ <span class=hljs-number>640</span>, <span class=hljs-number>1600</span> ],
  [ <span class=hljs-number>320</span>, <span class=hljs-number>800</span> ],
  [ <span class=hljs-number>5760</span>, <span class=hljs-number>6720</span> ],
  [ <span class=hljs-number>3040</span>, <span class=hljs-number>4000</span> ],
  [ <span class=hljs-number>1600</span>, <span class=hljs-number>2240</span> ],
  [ <span class=hljs-number>800</span>, <span class=hljs-number>1440</span> ],
  [ <span class=hljs-number>6720</span>, <span class=hljs-number>7120</span> ],
  [ <span class=hljs-number>4000</span>, <span class=hljs-number>4400</span> ],
  [ <span class=hljs-number>2240</span>, <span class=hljs-number>2640</span> ],
  [ <span class=hljs-number>1440</span>, <span class=hljs-number>1840</span> ]
]</code></pre></div><h3 id=scalecanvas-canvas-ctx-width-height->scaleCanvas<span class=call>(<span class=arguments>canvas, ctx, width, height</span>)</span></h3> <p>Scale your canvas size to retina screens. This function will modify the canvas, if necessary, and return an object with the new <code>width</code> and <code>height</code> as properties.</p> <p>Such as in the <a href=/examples/Scatter>Scatter canvas</a> example:</p> <div class="code-block named"><span class=filename> Scatter.html</span><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
<span class=hljs-keyword>import</span> { scaleCanvas } <span class=hljs-keyword>from</span> <span class=hljs-string>'LayerCake'</span>;

<span class=hljs-keyword>export</span> <span class=hljs-keyword>default</span> {
  onstate () {
	<span class=hljs-keyword>const</span> { canvas, ctx, opts } = <span class=hljs-keyword>this</span>.get();
	<span class=hljs-keyword>const</span> { width, height, xGet, yGet, data, custom } = <span class=hljs-keyword>this</span>.store.get();

	scaleCanvas(canvas, ctx, width, height);
	ctx.clearRect(<span class=hljs-number>0</span>, <span class=hljs-number>0</span>, width, height);

	data.forEach(<span class=hljs-function><span class=hljs-params>d</span> =></span> {
	  ctx.beginPath();
	  ctx.arc(xGet(d), yGet(d), custom.r, <span class=hljs-number>0</span>, <span class=hljs-number>2</span> * <span class=hljs-built_in>Math</span>.PI, <span class=hljs-literal>false</span>);
	  ctx.fillStyle = opts.color;
	  ctx.fill();
	});
  }
};
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span></code></pre></div> </section> </div> </main></div> <script>__SAPPER__={baseUrl:"",preloaded:[{},null,(function(a){return {sections:[{html:"\u003Ch3 id=\"what-is-layer-cake-\"\u003EWhat is Layer Cake?\u003C\u002Fh3\u003E\n\u003Cp\u003ELayer Cake is a graphics framework, built on top of \u003Ca href=\"https:\u002F\u002Fsvelte.technology\"\u003ESvelte\u003C\u002Fa\u003E that removes the boilerplate from making responsive web graphics.\u003C\u002Fp\u003E\n\u003Cp\u003EAt its heart, Layer Cake is a \u003Ca href=\"https:\u002F\u002Fsvelte.technology\u002Fguide#state-management\"\u003ESvelte store\u003C\u002Fa\u003E that takes an array of data objects, a target DOM element and creates scales bound to your element&#39;s dimensions. It also includes higher level methods to organize multiple SVG, HTML and Canvas layers that use these scales.\u003C\u002Fp\u003E\n\u003Cp\u003EBy breaking a part a graphic into layers, you can more easily reuse components from project to project. It also lets you easily move between web environments by giving you a common coordinate system. You may be using Canvas for a scatterplot, SVG for axes and HTML for annotations but they all read from a common store and appear seamless to the viewer.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003ELayer Cake uses D3 scales. See more in the \u003Ca href=\"#xScale\"\u003E\u003Ccode\u003ExScale\u003C\u002Fcode\u003E\u003C\u002Fa\u003E, \u003Ca href=\"#yScale\"\u003E\u003Ccode\u003EyScale\u003C\u002Fcode\u003E\u003C\u002Fa\u003E and \u003Ca href=\"#rScale\"\u003E\u003Ccode\u003ErScale\u003C\u002Fcode\u003E\u003C\u002Fa\u003E sections of the \u003Ca href=\"#store-api\"\u003EStore API\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch3 id=\"what-layer-cake-is-not\"\u003EWhat Layer Cake is not\u003C\u002Fh3\u003E\n\u003Cp\u003ELayer Cake is not a high-level charting library. It doesn&#39;t have any built-in concepts or strong opinions about how your data should be structured.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003ESee the \u003Ca href=\"#flatten\"\u003E\u003Ccode\u003Eflatten\u003C\u002Fcode\u003E\u003C\u002Fa\u003E and \u003Ca href=\"#flatData\"\u003E\u003Ccode\u003EflatData\u003C\u002Fcode\u003E\u003C\u002Fa\u003E methods in the \u003Ca href=\"#store-api\"\u003EStore API\u003C\u002Fa\u003E section below for more info about data structure.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch3 id=\"getting-started\"\u003EGetting started\u003C\u002Fh3\u003E\n\u003Cp\u003EYou initialize your cake in a normal JavaScript file. Here is an example in Layer Cake&#39;s most basic usage, loading in data and binding its extents to a DOM element.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E main.js\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E LayerCake \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'LayerCake'\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E points = [\n  {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E15\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E}\n];\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E myCake = \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E LayerCake({\n  \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'x'\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'y'\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-attr\"\u003Edata\u003C\u002Fspan\u003E: points,\n  \u003Cspan class=\"hljs-attr\"\u003Etarget\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-built_in\"\u003Edocument\u003C\u002Fspan\u003E.getElementById(\u003Cspan class=\"hljs-string\"\u003E'chart-target'\u003C\u002Fspan\u003E)\n});\n\n\u003Cspan class=\"hljs-built_in\"\u003Econsole\u003C\u002Fspan\u003E.log(myCake.get());\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003ESo far, \u003Ccode\u003EmyCake\u003C\u002Fcode\u003E is a Svelte Store with a few different properties that were just computed. Because we gave Layer Cake values for \u003Ccode\u003Ex\u003C\u002Fcode\u003E and \u003Ccode\u003Ey\u003C\u002Fcode\u003E, it&#39;s measured the extent of our data&#39;s x- and y-dimensions and created \u003Ccode\u003ExScale\u003C\u002Fcode\u003E and \u003Ccode\u003EyScale\u003C\u002Fcode\u003E properties. It&#39;s also measured our DOM element as well as created x- and y-accessors so, for a given row of our data we can compute the value in our coordinate system.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { x, y, xScale, yScale } = myCake.get();\n\npoints.forEach(\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Ed\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E firstPoint = [xScale(x(d)), yScale(y(d))];\n});\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cblockquote\u003E\n\u003Cp\u003EYou can also use the shorthand \u003Ccode\u003E[xGet(d), yGet(d)]\u003C\u002Fcode\u003E. See the \u003Ca href=\"#store-api\"\u003EStore API\u003C\u002Fa\u003E section for a full list of computed properties.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EBecause Layer Cake has bound the target DOM element&#39;s dimensions to your scales, all computed properties will be updated automatically on resize.\u003C\u002Fp\u003E\n\u003Ch3 id=\"organizing-components\"\u003EOrganizing components\u003C\u002Fh3\u003E\n\u003Cp\u003EWhile it&#39;s perfectly fine to use Layer Cake as a simple store and implement the rest of your project your own way, Layer Cake also comes with helper functions to take care of creating graphic layers that have full access to the store. Add layers inside the \u003Ccode\u003E.svgLayers\u003C\u002Fcode\u003E, \u003Ccode\u003E.htmlLayers\u003C\u002Fcode\u003E or \u003Ccode\u003E.canvasLayers\u003C\u002Fcode\u003E method. Each layer is a Svelte component. When you&#39;ve added all the layers to your cake, run \u003Ccode\u003E.render()\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EHere&#39;s an example creating an SVG scatter plot using the above data.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E main.js\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E LayerCake \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'LayerCake'\u003C\u002Fspan\u003E;\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E Scatter \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'.\u002Fcomponents\u002FScatter.html'\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E points = [\n  {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E15\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E}\n];\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E myCake = \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E LayerCake({\n  \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'x'\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'y'\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-attr\"\u003Edata\u003C\u002Fspan\u003E: points,\n  \u003Cspan class=\"hljs-attr\"\u003Etarget\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-built_in\"\u003Edocument\u003C\u002Fspan\u003E.getElementById(\u003Cspan class=\"hljs-string\"\u003E'chart-target'\u003C\u002Fspan\u003E)\n})\n  .svgLayers([\n\t{ \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: Scatter, \u003Cspan class=\"hljs-attr\"\u003Eopts\u003C\u002Fspan\u003E: { \u003Cspan class=\"hljs-attr\"\u003Efill\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'blue'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Er\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E3\u003C\u002Fspan\u003E } }\n  ])\n\nmyCake.render();\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E Scatter.html\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E{#each $data as d}\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ecircle\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecx\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E'{xGet(d)}'\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecy\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E'{yGet(d)}'\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Efill\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E'{opts.fill}'\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Er\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E'{opts.r}'\u003C\u002Fspan\u003E \u002F&gt;\u003C\u002Fspan\u003E\n{\u002Feach}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cblockquote\u003E\n\u003Cp\u003EWe&#39;ve defined the circle&#39;s fill color and radius size in \u003Ccode\u003Emain.js\u003C\u002Fcode\u003E using the \u003Ccode\u003Eopts\u003C\u002Fcode\u003E field. You could very well hardcode these values into your layer component. Passing in values from \u003Ccode\u003Emains.js\u003C\u002Fcode\u003E is shown here to give an example of how you can make your components more reusable. For example, you could use the same layer component to render small multiples, but pass in a color to highlight one of them.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EOur DOM now looks something like this:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Esvg\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ewidth\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"&lt;el width&gt;\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eheight\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"&lt;el height&gt;\"\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E&lt;!-- One main g to wrap all layers --&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\t\u003Cspan class=\"hljs-comment\"\u003E&lt;!-- Scatter g --&gt;\u003C\u002Fspan\u003E\n\t\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\t  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ecircle\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecx\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"...\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecy\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"...\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Er\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"...\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Efill\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"blue\"\u003C\u002Fspan\u003E\u002F&gt;\u003C\u002Fspan\u003E\n\t  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ecircle\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecx\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"...\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecy\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"...\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Er\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"...\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Efill\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"blue\"\u003C\u002Fspan\u003E\u002F&gt;\u003C\u002Fspan\u003E\n\t  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ecircle\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecx\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"...\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecy\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"...\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Er\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"...\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Efill\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"blue\"\u003C\u002Fspan\u003E\u002F&gt;\u003C\u002Fspan\u003E\n\t\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Eg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Eg\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Esvg\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"adding-more-layers\"\u003EAdding more layers\u003C\u002Fh3\u003E\n\u003Cp\u003EWe just saw how to add SVG layers with the \u003Ccode\u003E.svgLayers\u003C\u002Fcode\u003E method. You also have \u003Ccode\u003E.htmlLayers\u003C\u002Fcode\u003E and \u003Ccode\u003EcanvasLayers\u003C\u002Fcode\u003E. For the first two, every item in the array will create a new DOM element to render into, \u003Ccode\u003E&lt;g&gt;\u003C\u002Fcode\u003E for SVG and \u003Ccode\u003E&lt;div&gt;\u003C\u002Fcode\u003E for HTML. For Canvas, since there&#39;s no DOM equivalent, each layer renders into the same Canvas context. See the \u003Ca href=\"examples\u002FScatter\"\u003EScatter canvas\u003C\u002Fa\u003E example for details.\u003C\u002Fp\u003E\n\u003Cp\u003ELayers are rendered in the order they appear. You can call these methods multiple times to create a new layout group.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E main.js\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E LayerCake \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'LayerCake'\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E ScatterCanvas \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'.\u002Fcomponents\u002FScatterCanvas.html'\u003C\u002Fspan\u003E;\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E AxisX \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'.\u002Fcomponents\u002FAxisX.html'\u003C\u002Fspan\u003E;\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E AxisY \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'.\u002Fcomponents\u002FAxisY.html'\u003C\u002Fspan\u003E;\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E Annotations \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'.\u002Fcomponents\u002FAnnotations.html'\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E blurbs = [\n  { \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E20\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Etext\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'Look at this value!'\u003C\u002Fspan\u003E}\n];\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E points = [\n  {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E15\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E}\n];\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E myCake = \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E LayerCake({\n  \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'x'\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'y'\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-attr\"\u003Edata\u003C\u002Fspan\u003E: points,\n  \u003Cspan class=\"hljs-attr\"\u003Etarget\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-built_in\"\u003Edocument\u003C\u002Fspan\u003E.getElementById(\u003Cspan class=\"hljs-string\"\u003E'chart-target'\u003C\u002Fspan\u003E)\n})\n  .canvasLayers([\n\t{ \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: Scatter, \u003Cspan class=\"hljs-attr\"\u003Eopts\u003C\u002Fspan\u003E: { \u003Cspan class=\"hljs-attr\"\u003Efill\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'blue'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Er\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E3\u003C\u002Fspan\u003E } }\n  ])\n  .svgLayers([\n\t{ \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: AxisX, \u003Cspan class=\"hljs-attr\"\u003Eopts\u003C\u002Fspan\u003E: { } },\n\t{ \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: AxisY, \u003Cspan class=\"hljs-attr\"\u003Eopts\u003C\u002Fspan\u003E: { } }\n  ])\n  .htmlLayers([\n\t{ \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: Annotations, \u003Cspan class=\"hljs-attr\"\u003Eopts\u003C\u002Fspan\u003E: { blurbs } }\n  ]);\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F If you needed to, you could do `.svgLayers` again...\u003C\u002Fspan\u003E\n\nmyCake.render();\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cblockquote\u003E\n\u003Cp\u003EMany common chart types have example pages. See the gallery at \u003Ca href=\"https:\u002F\u002Flayercake.graphics\"\u003Ehttps:\u002F\u002Flayercake.graphics\u003C\u002Fa\u003E or use the dropdown menu at the top of the page to navigate to one.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n",metadata:{title:"Introduction"},subsections:[{slug:"what-is-layer-cake-",title:"What is Layer Cake?"},{slug:"what-layer-cake-is-not",title:"What Layer Cake is not"},{slug:"getting-started",title:"Getting started"},{slug:"organizing-components",title:"Organizing components"},{slug:"adding-more-layers",title:"Adding more layers"}],slug:"introduction",file:"00-introduction.md"},{html:"\u003Ch3 id=\"target-dom-node\"\u003Etarget: \u003Ccode\u003E&lt;DOM Node&gt;\u003C\u002Fcode\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EThe DOM object you want to use as the the basis for measurements and for rendering into.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E myCake = \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E LayerCake({\n  \u003Cspan class=\"hljs-attr\"\u003Etarget\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-built_in\"\u003Edocument\u003C\u002Fspan\u003E.getElementById(\u003Cspan class=\"hljs-string\"\u003E'my-chart'\u003C\u002Fspan\u003E)\n});\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"data-array\"\u003Edata: \u003Ccode\u003E&lt;Array&gt;\u003C\u002Fcode\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EA list of data items. This will be accessible\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003EOnly \u003Ccode\u003Etarget\u003C\u002Fcode\u003E and \u003Ccode\u003Edata\u003C\u002Fcode\u003E are required. Everything else is optional.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch3 id=\"x-string-function\"\u003Ex: \u003Ccode\u003E&lt;String|Function&gt;\u003C\u002Fcode\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EThe key in each row of data that corresponds to the x-field. This can be a string or an accessor function. This property gets converted to an acessor function available on the store as \u003Ccode\u003E$x\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E myCake = \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E LayerCake({\n  \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'myX'\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F equivalent to...\u003C\u002Fspan\u003E\n  x: \u003Cspan class=\"hljs-function\"\u003E(\u003Cspan class=\"hljs-params\"\u003Ed\u003C\u002Fspan\u003E) =&gt;\u003C\u002Fspan\u003E d.myX\n});\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EYou can also give this value an array. While it may seem counter-intuitive to have more than one x- or y-accessor, this is the case in stacked layouts. See the \u003Ca href=\"\u002Fexamples\u002FBarStacked\"\u003EStacked bar\u003C\u002Fa\u003E, \u003Ca href=\"\u002Fexamples\u002FAreaStacked\"\u003EStacked area\u003C\u002Fa\u003E or \u003Ca href=\"\u002Fexamples\u002FColumnStacked\"\u003EStacked colummn\u003C\u002Fa\u003E for complete examples.\u003C\u002Fp\u003E\n\u003Cp\u003EHere&#39;s an overview using the \u003Ccode\u003Ed3.stack()\u003C\u002Fcode\u003E to make a horizontal bar chart, which will have two values for the x-accessor.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E data = [\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Eapples\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ebananas\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1920\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Echerries\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E960\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Edates\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E400\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Eapples\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ebananas\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Echerries\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E960\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Edates\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E400\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Eapples\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-attr\"\u003Ebananas\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E960\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-attr\"\u003Echerries\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Edates\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E400\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Eapples\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-attr\"\u003Ebananas\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E480\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-attr\"\u003Echerries\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Edates\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E400\u003C\u002Fspan\u003E}\n];\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E stack = d3.stack()\n\t.keys([\u003Cspan class=\"hljs-string\"\u003E'apples'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E'bananas'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E'cherries'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E'dates'\u003C\u002Fspan\u003E]);\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E series = stack(data);\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EThe data is now an array of values. The \u003Ccode\u003Emonth\u003C\u002Fcode\u003E values you can&#39;t see because sneakily stashes them as a property on the array, accessible as \u003Ccode\u003Ed.data\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E[\n  [[   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E], [   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E], [   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E], [   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E]], \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F apples\u003C\u002Fspan\u003E\n  [[\u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E5760\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3040\u003C\u002Fspan\u003E], [ \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E], [ \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-number\"\u003E800\u003C\u002Fspan\u003E]], \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F bananas\u003C\u002Fspan\u003E\n  [[\u003Cspan class=\"hljs-number\"\u003E5760\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E6720\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E3040\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E4000\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2240\u003C\u002Fspan\u003E], [ \u003Cspan class=\"hljs-number\"\u003E800\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E]], \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F cherries\u003C\u002Fspan\u003E\n  [[\u003Cspan class=\"hljs-number\"\u003E6720\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E7120\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E4000\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E4400\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E2240\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2640\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1840\u003C\u002Fspan\u003E]]  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F dates\u003C\u002Fspan\u003E\n]\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EThe x- and y-accessors would then look like this:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E myCake = \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E LayerCake({\n  \u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: [\u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E],\n  \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Ed\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E d.data.month\n});\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003ECalls to \u003Ccode\u003Ex(dataRow)\u003C\u002Fcode\u003E in this scenario will return the two-value array. Calls to \u003Ccode\u003ExGet(dataRow)\u003C\u002Fcode\u003E will return a two-value array, mapped through the \u003Ca href=\"#xScale\"\u003ExScale\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"y-string-function\"\u003Ey: \u003Ccode\u003E&lt;String|Function&gt;\u003C\u002Fcode\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003ESame as \u003Ca href=\"#x\"\u003Ex\u003C\u002Fa\u003E but for the y scale. Accessor function is available on the store as \u003Ccode\u003E$y\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"r-string-function\"\u003Er: \u003Ccode\u003E&lt;String|Function&gt;\u003C\u002Fcode\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003ESame as \u003Ca href=\"#x\"\u003Ex\u003C\u002Fa\u003E but for the r scale. Accessor function is available on the store as \u003Ccode\u003E$r\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"padding-object\"\u003Epadding: \u003Ccode\u003E&lt;Object&gt;\u003C\u002Fcode\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EAn object that can specify \u003Ccode\u003Etop\u003C\u002Fcode\u003E, \u003Ccode\u003Eright\u003C\u002Fcode\u003E, \u003Ccode\u003Ebottom\u003C\u002Fcode\u003E, or \u003Ccode\u003Eleft\u003C\u002Fcode\u003E padding in pixels. Any unspecified values are filled in as \u003Ccode\u003E0\u003C\u002Fcode\u003E. Padding operates like CSS \u003Ccode\u003Ebox-sizing: border-box;\u003C\u002Fcode\u003E where values are subtracted from the target container&#39;s width and height, the same as \u003Ca href=\"https:\u002F\u002Fbl.ocks.org\u002Fmbostock\u002F3019563\"\u003Ea D3 margin convention\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E myCake = \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E LayerCake({\n  \u003Cspan class=\"hljs-attr\"\u003Epadding\u003C\u002Fspan\u003E: { \u003Cspan class=\"hljs-attr\"\u003Etop\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E20\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Eright\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ebottom\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Eleft\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E },\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F equivalent to...\u003C\u002Fspan\u003E\n  padding: { \u003Cspan class=\"hljs-attr\"\u003Etop\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E20\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Eright\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E }\n});\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cblockquote\u003E\n\u003Cp\u003EAnother way to set padding is to add it via normal CSS on your \u003Ca href=\"#target\"\u003Etarget\u003C\u002Fa\u003E div. The target element is assigned CSS of \u003Ccode\u003Ebox-sizing: border-box;\u003C\u002Fcode\u003E so padding settings won&#39;t affect the width or height. If you set any padding via CSS, the padding object will be ignored.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch3 id=\"xscale-d3scale-\"\u003ExScale: d3Scale()\u003C\u002Fh3\u003E\n\u003Cp\u003EPass in an instatiated D3 scale if you want to override the default \u003Ccode\u003Ed3.scaleLinear()\u003C\u002Fcode\u003E or you want to add extra options.\u003C\u002Fp\u003E\n\u003Cp\u003ESee the \u003Ca href=\"\u002Fexamples\u002FColumn\"\u003EColumn chart\u003C\u002Fa\u003E for an example of passing in a \u003Ccode\u003Ed3.scaleBand()\u003C\u002Fcode\u003E to override the default.\u003C\u002Fp\u003E\n\u003Ch3 id=\"yscale-d3scale-\"\u003EyScale: d3Scale()\u003C\u002Fh3\u003E\n\u003Cp\u003ESame as \u003Ca href=\"#xScale\"\u003ExScale\u003C\u002Fa\u003E but for the y scale. The default is \u003Ccode\u003Ed3.scaleLinear()\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rscale-d3scale-\"\u003ErScale: d3Scale()\u003C\u002Fh3\u003E\n\u003Cp\u003ESame as \u003Ca href=\"#xScale\"\u003ExScale\u003C\u002Fa\u003E but for the r scale. The default is \u003Ccode\u003Ed3.scaleSqrt()\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"xdomain-array-min-max-\"\u003ExDomain: \u003Ccode\u003E&lt;Array:[min, max]&gt;\u003C\u002Fcode\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003ESet a min or max on the x scale. If you want to inherit the value from the data&#39;s extent, set that value to \u003Ccode\u003Enull\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E myCake = \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E LayerCake({\n  \u003Cspan class=\"hljs-attr\"\u003ExDomain\u003C\u002Fspan\u003E: [\u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E100\u003C\u002Fspan\u003E], \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Fixes the x scale's domain\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F or..\u003C\u002Fspan\u003E\n  xDomain: [\u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-literal\"\u003Enull\u003C\u002Fspan\u003E], \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Fixes the min but allows the max to be whatever is in the data\u003C\u002Fspan\u003E\n});\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"ydomain-array-min-max-\"\u003EyDomain: \u003Ccode\u003E&lt;Array:[min, max]&gt;\u003C\u002Fcode\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003ESame as \u003Ca href=\"#xDomain\"\u003ExDomain\u003C\u002Fa\u003E but for the y scale.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rdomain-array-min-max-\"\u003ErDomain: \u003Ccode\u003E&lt;Array:[min, max]&gt;\u003C\u002Fcode\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003ESame as \u003Ca href=\"#xDomain\"\u003ExDomain\u003C\u002Fa\u003E but for the r scale.\u003C\u002Fp\u003E\n\u003Ch3 id=\"reversex-boolean-false\"\u003EreverseX: \u003Ccode\u003E&lt;Boolean:false&gt;\u003C\u002Fcode\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EReverse the default x domain. By default this is \u003Ccode\u003Efalse\u003C\u002Fcode\u003E and the domain is \u003Ccode\u003E[0, width]\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"reversey-boolean-true\"\u003EreverseY: \u003Ccode\u003E&lt;Boolean:true&gt;\u003C\u002Fcode\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EReverse the default y domain. By default this is \u003Ccode\u003Etrue\u003C\u002Fcode\u003E and the domain is \u003Ccode\u003E[height, 0]\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"xpadding-array-leftpixels-rightpixels-\"\u003ExPadding: \u003Ccode\u003E&lt;Array:[leftPixels, rightPixels]&gt;\u003C\u002Fcode\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EAssign a value, in pixels, to add to the min or max of the x scale. This will increase the scales domain by the scale unit equivalent of the provided pixels. It uses D3 scale&#39;s \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fd3\u002Fd3-scale#continuous_invert\"\u003Einvert function\u003C\u002Fa\u003E, so this only applies to continuous scales like \u003Ccode\u003EscaleLinear\u003C\u002Fcode\u003E. This is useful for adding extra space to a scatter plot so that your circles don&#39;t interfere with your y axis.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E myCake = \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E LayerCake({\n  \u003Cspan class=\"hljs-attr\"\u003ExPadding\u003C\u002Fspan\u003E: [\u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E], \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Add ten pixels of data units to both sides of the scale's domain\u003C\u002Fspan\u003E\n});\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"ypadding-array-leftpixels-rightpixels-\"\u003EyPadding: \u003Ccode\u003E&lt;Array:[leftPixels, rightPixels]&gt;\u003C\u002Fcode\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003ESame as \u003Ca href=\"#xPadding\"\u003ExPadding\u003C\u002Fa\u003E but for the y domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rpadding-array-leftpixels-rightpixels-\"\u003ErPadding: \u003Ccode\u003E&lt;Array:[leftPixels, rightPixels]&gt;\u003C\u002Fcode\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003ESame as \u003Ca href=\"#xPadding\"\u003ExPadding\u003C\u002Fa\u003E but for the r domain.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rrange-array-min-max-\"\u003ErRange: \u003Ccode\u003E&lt;Array:[min, max]&gt;\u003C\u002Fcode\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EIf you&#39;re using the r scale, set it&#39;s range here since it doens&#39;t infer that from anything nt the layout. The r scale defaults to \u003Ccode\u003Ed3.scaleSqrt\u003C\u002Fcode\u003E so make sure you don&#39;t use a zero in your range.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E myCake = \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E LayerCake({\n  \u003Cspan class=\"hljs-attr\"\u003ErRange\u003C\u002Fspan\u003E: [\u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E100\u003C\u002Fspan\u003E]\n});\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"flatten-function\"\u003Eflatten: \u003Ccode\u003E&lt;Function&gt;\u003C\u002Fcode\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EIn order for Layer Cake to measure the extents of your data, it needs a flat array of items that the x, y and r accessors can get at. If your data is not in that format, you can pass in a function to transform it. This \u003Cem\u003Ewill not\u003C\u002Fem\u003E change the shape of the data that gets passed to components ‚Äî it is only for extent calculation.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003EYou&#39;ll run into this if you get data that is nested and that&#39;s the best format for a component. For example, labelling a multi-series line chart can be done nicely if you have a \u003Ccode\u003Ekey\u003C\u002Fcode\u003E field for each group. If you already have a flat copy of your data, check out \u003Ca href=\"#flatData\"\u003E\u003Ccode\u003EflatData\u003C\u002Fcode\u003E\u003C\u002Fa\u003E below.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EFor example, let&#39;s say you have nested data. You need a function to concatenate the two \u003Ccode\u003Evalues\u003C\u002Fcode\u003E arrays like so:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E data = [\n  {\u003Cspan class=\"hljs-attr\"\u003Ekey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'group1'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Evalues\u003C\u002Fspan\u003E: [{\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E},  {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E}, {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E3\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E20\u003C\u002Fspan\u003E}]},\n  {\u003Cspan class=\"hljs-attr\"\u003Ekey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'group2'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Evalues\u003C\u002Fspan\u003E: [{\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E}, {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E20\u003C\u002Fspan\u003E}, {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E3\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E30\u003C\u002Fspan\u003E}]}\n];\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E myCake = \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E LayerCake({\n\ttarget,\n\t\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'x'\u003C\u002Fspan\u003E,\n\t\u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'y'\u003C\u002Fspan\u003E,\n\tdata,\n\t\u003Cspan class=\"hljs-attr\"\u003Eflatten\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Edata\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E {\n\t  \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E data.reduce(\u003Cspan class=\"hljs-function\"\u003E(\u003Cspan class=\"hljs-params\"\u003Ememo, val\u003C\u002Fspan\u003E) =&gt;\u003C\u002Fspan\u003E {\n\t\t\u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E memo.concat(val.values);\n\t  }, []);\n\t}\n  });\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"flatdata-array\"\u003EflatData: \u003Ccode\u003E&lt;Array&gt;\u003C\u002Fcode\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EIf your data was originally flat but it&#39;s since been transformed it into a format more convenient for your components (or you just have a flat copy lying around somewhere) you can pass that data here and it will be used to measure extents using the x, y and r accessors.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E flatData = [\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'apples'\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'apples'\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E:  \u003Cspan class=\"hljs-string\"\u003E'apples'\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E:  \u003Cspan class=\"hljs-string\"\u003E'apples'\u003C\u002Fspan\u003E},\n\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1920\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'bananas'\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'bananas'\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E960\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E:  \u003Cspan class=\"hljs-string\"\u003E'bananas'\u003C\u002Fspan\u003E},\n  {\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E480\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Egroup\u003C\u002Fspan\u003E:  \u003Cspan class=\"hljs-string\"\u003E'bananas'\u003C\u002Fspan\u003E}\n];\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E data = [\n  {\n\t\u003Cspan class=\"hljs-attr\"\u003Ekey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'apples'\u003C\u002Fspan\u003E,\n\t\u003Cspan class=\"hljs-attr\"\u003Evalues\u003C\u002Fspan\u003E: [{\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E}, ...]\n  },\n  {\n\t\u003Cspan class=\"hljs-attr\"\u003Ekey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'bananas'\u003C\u002Fspan\u003E,\n\t\u003Cspan class=\"hljs-attr\"\u003Evalues\u003C\u002Fspan\u003E: [{\u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2015\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1920\u003C\u002Fspan\u003E}, ...]\n  },\n];\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E myCake = \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E LayerCake({\n\ttarget,\n\t\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'month'\u003C\u002Fspan\u003E,\n\t\u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'value'\u003C\u002Fspan\u003E,\n\tdata,\n\tflatData\n  });\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E",metadata:{title:"Store API"},subsections:[{slug:"target-dom-node",title:"target"},{slug:"data-array",title:"data"},{slug:"x-string-function",title:"x"},{slug:"y-string-function",title:"y"},{slug:"r-string-function",title:"r"},{slug:"padding-object",title:"padding"},{slug:"xscale-d3scale-",title:"xScale"},{slug:"yscale-d3scale-",title:"yScale"},{slug:"rscale-d3scale-",title:"rScale"},{slug:"xdomain-array-min-max-",title:"xDomain"},{slug:"ydomain-array-min-max-",title:"yDomain"},{slug:"rdomain-array-min-max-",title:"rDomain"},{slug:"reversex-boolean-false",title:"reverseX"},{slug:"reversey-boolean-true",title:"reverseY"},{slug:"xpadding-array-leftpixels-rightpixels-",title:"xPadding"},{slug:"ypadding-array-leftpixels-rightpixels-",title:"yPadding"},{slug:"rpadding-array-leftpixels-rightpixels-",title:"rPadding"},{slug:"rrange-array-min-max-",title:"rRange"},{slug:"flatten-function",title:"flatten"},{slug:"flatdata-array",title:"flatData"}],slug:"store-api",file:"01-store-api.md"},{html:"\u003Cp\u003EWhen you run \u003Ccode\u003Enew LayerCake(StoreValues)\u003C\u002Fcode\u003E the Svelte store you get back has the following custom methods.\u003C\u002Fp\u003E\n\u003Cp\u003EEach of the \u003Ccode\u003ELayers\u003C\u002Fcode\u003E functions takes an array containing the following objects, which we&#39;ll call a &quot;component object&quot;:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E{ \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: SvelteComponent, \u003Cspan class=\"hljs-attr\"\u003Eopts\u003C\u002Fspan\u003E: { optionalInfo } }\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EAll of the container elements created by \u003Ccode\u003ELayers\u003C\u002Fcode\u003E functions are absolutely positioned and use any \u003Ca href=\"#padding\"\u003Epadding\u003C\u002Fa\u003E that is set. That way, they share the same coordinate system and can sit one on top of another.\u003C\u002Fp\u003E\n\u003Ch3 id=\"cake-svglayers-componentslist-opts-\"\u003E\u003Cspan class=\"function\"\u003Ecake.\u003C\u002Fspan\u003EsvgLayers\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003EComponentsList[, opts]\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003ECreates a \u003Ccode\u003E&lt;svg&gt;\u003C\u002Fcode\u003E element containing one \u003Ccode\u003E&lt;g&gt;\u003C\u002Fcode\u003E wrapper element, which gets translated based on any \u003Ca href=\"#padding\"\u003Epadding\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EFor every component object in the passed in array, a \u003Ccode\u003E&lt;g&gt;\u003C\u002Fcode\u003E element is created.\u003C\u002Fp\u003E\n\u003Ch3 id=\"cake-htmllayers-componentslist-opts-\"\u003E\u003Cspan class=\"function\"\u003Ecake.\u003C\u002Fspan\u003EhtmlLayers\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003EComponentsList[, opts]\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003ECreates a \u003Ccode\u003E&lt;div&gt;\u003C\u002Fcode\u003E element.\u003C\u002Fp\u003E\n\u003Cp\u003EFor every component object in the passed in array, a \u003Ccode\u003E&lt;div&gt;\u003C\u002Fcode\u003E element is created.\u003C\u002Fp\u003E\n\u003Ch3 id=\"cake-canvaslayers-componentslist-opts-\"\u003E\u003Cspan class=\"function\"\u003Ecake.\u003C\u002Fspan\u003EcanvasLayers\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003EComponentsList[, opts]\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003ECreates a \u003Ccode\u003E&lt;canvas&gt;\u003C\u002Fcode\u003E element.\u003C\u002Fp\u003E\n\u003Cp\u003EEvery component has access to the \u003Ccode\u003Ecanvas\u003C\u002Fcode\u003E and \u003Ccode\u003Ectx\u003C\u002Fcode\u003E objects as \u003Cem\u003Edata items\u003C\u002Fem\u003E, not as store values since you could have multiple canvas elements in your cake.\u003C\u002Fp\u003E\n\u003Cp\u003EThis means you fetch the \u003Ccode\u003Ecanvas\u003C\u002Fcode\u003E and \u003Ccode\u003Ectx\u003C\u002Fcode\u003E using \u003Ccode\u003Ethis.get()\u003C\u002Fcode\u003E instead of \u003Ccode\u003Ethis.store.get()\u003C\u002Fcode\u003E. For example, here&#39;s how a scatterplot layer component would be implemented in canvas.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-comment\"\u003E&lt;!-- { filename: CanvasLayer.html } --&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E {\n  oncreate () {\n\t\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { canvas, ctx } = \u003Cspan class=\"hljs-keyword\"\u003Ethis\u003C\u002Fspan\u003E.get();\n\t\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { xGet, yGet, data } = \u003Cspan class=\"hljs-keyword\"\u003Ethis\u003C\u002Fspan\u003E.store.get();\n\n\tdata.forEach(\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Ed\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E {\n\t  ctx.beginPath();\n\t  ctx.arc(xGet(d), yGet(d), opts.r, \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E * \u003Cspan class=\"hljs-built_in\"\u003EMath\u003C\u002Fspan\u003E.PI, \u003Cspan class=\"hljs-literal\"\u003Efalse\u003C\u002Fspan\u003E);\n\t  ctx.fillStyle = opts.color;\n\t  ctx.fill();\n\t});\n  }\n};\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"cake-webgllayers-componentslist-opts-\"\u003E\u003Cspan class=\"function\"\u003Ecake.\u003C\u002Fspan\u003EwebglLayers\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003EComponentsList[, opts]\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EWork in progress. Want to help out? Get in touch on the \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fmhkeller\u002Flayercake\"\u003Eissue tracker\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"cake-render-options-\"\u003E\u003Cspan class=\"function\"\u003Ecake.\u003C\u002Fspan\u003Erender\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Eoptions\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EInstantiates your cake and layout groups. Returns an object \u003Ccode\u003E{ app, store }\u003C\u002Fcode\u003E where \u003Ccode\u003Eapp\u003C\u002Fcode\u003E is the instantiate Svelte app and \u003Ccode\u003Estore\u003C\u002Fcode\u003E is the cake&#39;s Svelte store. Any options you pass in are added as \u003Ca href=\"https:\u002F\u002Fsvelte.technology\u002Fguide#component-options\"\u003ESvelte options\u003C\u002Fa\u003E, including \u003Ccode\u003Ehydrate\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n",metadata:{title:"Cake API"},subsections:[{slug:"cake-svglayers-componentslist-opts-",title:"cake.svgLayers(...)"},{slug:"cake-htmllayers-componentslist-opts-",title:"cake.htmlLayers(...)"},{slug:"cake-canvaslayers-componentslist-opts-",title:"cake.canvasLayers(...)"},{slug:"cake-webgllayers-componentslist-opts-",title:"cake.webglLayers(...)"},{slug:"cake-render-options-",title:"cake.render(...)"}],slug:"cake-api",file:"02-cake-api.md"},{html:"\u003Cp\u003EConvenience functions and other internal properties that are exposed to the user on the store in case they&#39;re handy.\u003C\u002Fp\u003E\n\u003Ch3 id=\"box\"\u003Ebox\u003C\u002Fh3\u003E\n\u003Cp\u003EA bounding box object of the \u003Ca href=\"#target\"\u003Etarget\u003C\u002Fa\u003E element with \u003Ccode\u003Etop\u003C\u002Fcode\u003E, \u003Ccode\u003Eright\u003C\u002Fcode\u003E, \u003Ccode\u003Ebottom\u003C\u002Fcode\u003E, \u003Ccode\u003Eleft\u003C\u002Fcode\u003E, \u003Ccode\u003Ewidth\u003C\u002Fcode\u003E and \u003Ccode\u003Eheight\u003C\u002Fcode\u003E numbers in pixels.\u003C\u002Fp\u003E\n\u003Ch2 id=\"domains\"\u003Edomains\u003C\u002Fh2\u003E\n\u003Cp\u003EAn object containing a key for every \u003Ca href=\"#activeKeys\"\u003Eactive key\u003C\u002Fa\u003E whose value is a two-value array representing the min and max values for that dimension in the data. This value could differ from the domain of your scale if you are manually setting a limit on your scale, for instance. That limit would not show up here since this is just measuring the data. Used internally to set domain things.\u003C\u002Fp\u003E\n\u003Ch3 id=\"xget-datarow-\"\u003ExGet\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003EdataRow\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EOften you want to get the x value from a row in your data and scale it like so: \u003Ccode\u003E$xScale($x(d))\u003C\u002Fcode\u003E. This function is shorthand for doing just that.\u003C\u002Fp\u003E\n\u003Cp\u003EHere&#39;s an example from a simple SVG line path generator:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003Ecomputed: {\n  \u003Cspan class=\"hljs-attr\"\u003Epath\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-function\"\u003E(\u003Cspan class=\"hljs-params\"\u003E{ $data, $xGet, $yGet }\u003C\u002Fspan\u003E) =&gt;\u003C\u002Fspan\u003E {\n\t\u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'M'\u003C\u002Fspan\u003E + $data\n\t  .map(\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E (\u003Cspan class=\"hljs-params\"\u003Ed, i\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n\t\t\u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E $xGet(d) + \u003Cspan class=\"hljs-string\"\u003E','\u003C\u002Fspan\u003E + $yGet(d);\n\t  })\n\t  .join(\u003Cspan class=\"hljs-string\"\u003E'L'\u003C\u002Fspan\u003E);\n  }\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"yget-datarow-\"\u003EyGet\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003EdataRow\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003ESame as \u003Ca href=\"#xGet\"\u003ExGet\u003C\u002Fa\u003E but for the y scale.\u003C\u002Fp\u003E\n\u003Ch3 id=\"rget-datarow-\"\u003ErGet\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003EdataRow\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003ESame as \u003Ca href=\"#xGet\"\u003ExGet\u003C\u002Fa\u003E but for the r scale.\u003C\u002Fp\u003E\n",metadata:{title:"Computed Store Properties"},subsections:[{slug:a,title:a},{slug:"xget-datarow-",title:"xGet(...)"},{slug:"yget-datarow-",title:"yGet(...)"},{slug:"rget-datarow-",title:"rGet(...)"}],slug:"computed-store-functions",file:"04-computed-store-functions.md"},{html:"\u003Cp\u003ELayer Cake exposes some commonly-used helper functions. If you don&#39;t use them, they will be tree-shaken so there&#39;s no added bloat.\u003C\u002Fp\u003E\n\u003Ch3 id=\"newdiv-classname-stylesobject-parentdomnode-\"\u003EnewDiv\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003EclassName[, stylesObject, parentDomNode]\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EYou can also export a \u003Ccode\u003EnewDiv\u003C\u002Fcode\u003E function from the Layer Cake module to help you in creating divs. If you pass a DOM node as the third argument it will attach it to that object.\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E {\u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Eas\u003C\u002Fspan\u003E Layercake, newDiv} \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'LayerCake'\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E container = \u003Cspan class=\"hljs-built_in\"\u003Edocument\u003C\u002Fspan\u003E.getElementById(\u003Cspan class=\"hljs-string\"\u003E'container'\u003C\u002Fspan\u003E);\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E styles = {\n  \u003Cspan class=\"hljs-attr\"\u003Eposition\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'relative'\u003C\u002Fspan\u003E\n};\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E myDiv = newDiv(\u003Cspan class=\"hljs-string\"\u003E'my-div'\u003C\u002Fspan\u003E, styles, container);\n\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Or attach yourself\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E myDiv = container.appendChild(newDiv(\u003Cspan class=\"hljs-string\"\u003E'my-div'\u003C\u002Fspan\u003E, styles));\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"flatten-data-\"\u003Eflatten\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Edata\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EFlatten an array one-level down.\u003C\u002Fp\u003E\n\u003Cp\u003EThis data\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E data = [\n  [{\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E}, {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E}, {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E}],\n  [{\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E}, {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E15\u003C\u002Fspan\u003E}, {\u003Cspan class=\"hljs-attr\"\u003Ex\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ey\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E20\u003C\u002Fspan\u003E}]\n];\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EBecomes this\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { flatten } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'LayerCake'\u003C\u002Fspan\u003E;\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E flatData = flatten(data);\n\u003Cspan class=\"hljs-comment\"\u003E\u002F*\n  [{x: 0, y: 1}, {x: 1, y: 5}, {x: 2, y: 10},\n   {x: 0, y: 10}, {x: 1, y: 15}, {x: 2, y: 20}]\n*\u002F\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EYou can safely use this function on arrays of arrays of arrays, such as the output from \u003Ccode\u003Ed3.stack()\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E[\n  [[   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E], [   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E], [   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E], [   \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E]],\n  [[\u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E5760\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3040\u003C\u002Fspan\u003E], [ \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E], [ \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-number\"\u003E800\u003C\u002Fspan\u003E]],\n  [[\u003Cspan class=\"hljs-number\"\u003E5760\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E6720\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E3040\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E4000\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2240\u003C\u002Fspan\u003E], [ \u003Cspan class=\"hljs-number\"\u003E800\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E]],\n  [[\u003Cspan class=\"hljs-number\"\u003E6720\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E7120\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E4000\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E4400\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E2240\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2640\u003C\u002Fspan\u003E], [\u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1840\u003C\u002Fspan\u003E]]\n]\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EBecomes...\u003C\u002Fp\u003E\n\u003Cdiv class='code-block'\u003E\u003Cpre\u003E\u003Ccode\u003E[ [ \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E3840\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E5760\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E3040\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E640\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E320\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E800\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E5760\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E6720\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E3040\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E4000\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E1600\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2240\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E800\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E6720\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E7120\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E4000\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E4400\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E2240\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2640\u003C\u002Fspan\u003E ],\n  [ \u003Cspan class=\"hljs-number\"\u003E1440\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1840\u003C\u002Fspan\u003E ]\n]\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3 id=\"scalecanvas-canvas-ctx-width-height-\"\u003EscaleCanvas\u003Cspan class=\"call\"\u003E(\u003Cspan class=\"arguments\"\u003Ecanvas, ctx, width, height\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EScale your canvas size to retina screens. This function will modify the canvas, if necessary, and return an object with the new \u003Ccode\u003Ewidth\u003C\u002Fcode\u003E and \u003Ccode\u003Eheight\u003C\u002Fcode\u003E as properties.\u003C\u002Fp\u003E\n\u003Cp\u003ESuch as in the \u003Ca href=\"\u002Fexamples\u002FScatter\"\u003EScatter canvas\u003C\u002Fa\u003E example:\u003C\u002Fp\u003E\n\u003Cdiv class='code-block named'\u003E\u003Cspan class='filename'\u003E Scatter.html\u003C\u002Fspan\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { scaleCanvas } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'LayerCake'\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E {\n  onstate () {\n\t\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { canvas, ctx, opts } = \u003Cspan class=\"hljs-keyword\"\u003Ethis\u003C\u002Fspan\u003E.get();\n\t\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { width, height, xGet, yGet, data, custom } = \u003Cspan class=\"hljs-keyword\"\u003Ethis\u003C\u002Fspan\u003E.store.get();\n\n\tscaleCanvas(canvas, ctx, width, height);\n\tctx.clearRect(\u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, width, height);\n\n\tdata.forEach(\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Ed\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E {\n\t  ctx.beginPath();\n\t  ctx.arc(xGet(d), yGet(d), custom.r, \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E * \u003Cspan class=\"hljs-built_in\"\u003EMath\u003C\u002Fspan\u003E.PI, \u003Cspan class=\"hljs-literal\"\u003Efalse\u003C\u002Fspan\u003E);\n\t  ctx.fillStyle = opts.color;\n\t  ctx.fill();\n\t});\n  }\n};\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E",metadata:{title:"Helper functions"},subsections:[{slug:"newdiv-classname-stylesobject-parentdomnode-",title:"newDiv(...)"},{slug:"flatten-data-",title:"flatten(...)"},{slug:"scalecanvas-canvas-ctx-width-height-",title:"scaleCanvas(...)"}],slug:"helper-functions",file:"99-helper-functions.md"}]}}("box"))],store:(function(a){return {guideContents:[{metadata:{title:"Introduction"},subsections:[{slug:"what-is-layer-cake-",title:"What is Layer Cake?"},{slug:"what-layer-cake-is-not",title:"What Layer Cake is not"},{slug:"getting-started",title:"Getting started"},{slug:"organizing-components",title:"Organizing components"},{slug:"adding-more-layers",title:"Adding more layers"}],slug:"introduction"},{metadata:{title:"Store API"},subsections:[{slug:"target-dom-node",title:"target"},{slug:"data-array",title:"data"},{slug:"x-string-function",title:"x"},{slug:"y-string-function",title:"y"},{slug:"r-string-function",title:"r"},{slug:"padding-object",title:"padding"},{slug:"xscale-d3scale-",title:"xScale"},{slug:"yscale-d3scale-",title:"yScale"},{slug:"rscale-d3scale-",title:"rScale"},{slug:"xdomain-array-min-max-",title:"xDomain"},{slug:"ydomain-array-min-max-",title:"yDomain"},{slug:"rdomain-array-min-max-",title:"rDomain"},{slug:"reversex-boolean-false",title:"reverseX"},{slug:"reversey-boolean-true",title:"reverseY"},{slug:"xpadding-array-leftpixels-rightpixels-",title:"xPadding"},{slug:"ypadding-array-leftpixels-rightpixels-",title:"yPadding"},{slug:"rpadding-array-leftpixels-rightpixels-",title:"rPadding"},{slug:"rrange-array-min-max-",title:"rRange"},{slug:"flatten-function",title:"flatten"},{slug:"flatdata-array",title:"flatData"}],slug:"store-api"},{metadata:{title:"Cake API"},subsections:[{slug:"cake-svglayers-componentslist-opts-",title:"cake.svgLayers(...)"},{slug:"cake-htmllayers-componentslist-opts-",title:"cake.htmlLayers(...)"},{slug:"cake-canvaslayers-componentslist-opts-",title:"cake.canvasLayers(...)"},{slug:"cake-webgllayers-componentslist-opts-",title:"cake.webglLayers(...)"},{slug:"cake-render-options-",title:"cake.render(...)"}],slug:"cake-api"},{metadata:{title:"Computed Store Properties"},subsections:[{slug:a,title:a},{slug:"xget-datarow-",title:"xGet(...)"},{slug:"yget-datarow-",title:"yGet(...)"},{slug:"rget-datarow-",title:"rGet(...)"}],slug:"computed-store-functions"},{metadata:{title:"Helper functions"},subsections:[{slug:"newdiv-classname-stylesobject-parentdomnode-",title:"newDiv(...)"},{slug:"flatten-data-",title:"flatten(...)"},{slug:"scalecanvas-canvas-ctx-width-height-",title:"scaleCanvas(...)"}],slug:"helper-functions"}]}}("box"))};if ('serviceWorker' in navigator) navigator.serviceWorker.register('/service-worker.js');</script><script src=/client/141ece55078fdbd610a1/main.js></script> 